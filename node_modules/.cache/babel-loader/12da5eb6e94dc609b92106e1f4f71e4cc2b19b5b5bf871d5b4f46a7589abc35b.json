{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\nav\\\\NavFitting\\\\NavFitting.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useCustomiserStore } from '@store/customiser';\nimport { motion } from 'framer-motion';\nimport NavButtons from '../NavButtons';\nimport styles from './NavFitting.module.scss';\nimport CapsuleButton from '@components/ui/Button/CapsuleNavButton';\nimport { useEffect, useState } from 'react';\nimport ContainedNavButton from '@components/ui/Button/ContainedNavButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FittingOption = ({\n  option,\n  focusCameraOnPart\n}) => {\n  _s();\n  var _selectedModels$find, _option$models;\n  const selectedModels = useCustomiserStore(state => state.selectedModels);\n  const setSelectedModel = useCustomiserStore(state => state.setSelectedModel);\n  if (!option) {\n    return null;\n  }\n  const getSelected = (_selectedModels$find = selectedModels.find(m => m.optionId === option.id)) === null || _selectedModels$find === void 0 ? void 0 : _selectedModels$find.model;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: styles.fittingOption,\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.fittingButtons,\n        children: (_option$models = option.models) === null || _option$models === void 0 ? void 0 : _option$models.map(m => {\n          var _m$model, _m$model$data, _m$model3, _m$model3$data, _m$model3$data$attrib;\n          return /*#__PURE__*/_jsxDEV(ContainedNavButton, {\n            isSelected: (getSelected === null || getSelected === void 0 ? void 0 : getSelected.id) === (m === null || m === void 0 ? void 0 : (_m$model = m.model) === null || _m$model === void 0 ? void 0 : (_m$model$data = _m$model.data) === null || _m$model$data === void 0 ? void 0 : _m$model$data.id),\n            classNames: styles.fittingButton,\n            onClick: () => {\n              var _m$model2;\n              setSelectedModel(option.id, m === null || m === void 0 ? void 0 : (_m$model2 = m.model) === null || _m$model2 === void 0 ? void 0 : _m$model2.data);\n              focusCameraOnPart && focusCameraOnPart(option.name);\n            },\n            children: m === null || m === void 0 ? void 0 : (_m$model3 = m.model) === null || _m$model3 === void 0 ? void 0 : (_m$model3$data = _m$model3.data) === null || _m$model3$data === void 0 ? void 0 : (_m$model3$data$attrib = _m$model3$data.attributes) === null || _m$model3$data$attrib === void 0 ? void 0 : _m$model3$data$attrib.name\n          }, m === null || m === void 0 ? void 0 : m.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(FittingOption, \"5xgbPJF9DQIIGKFjLOejNZsLq74=\", false, function () {\n  return [useCustomiserStore, useCustomiserStore];\n});\n_c = FittingOption;\nconst NavFitting = ({\n  focusCameraOnPart,\n  setAdditionalFinishedNavs\n}) => {\n  _s2();\n  var _fittingOptions$navSt;\n  const fittingOptions = useCustomiserStore(state => {\n    var _state$customProduct, _state$customProduct$;\n    return (_state$customProduct = state.customProduct) === null || _state$customProduct === void 0 ? void 0 : (_state$customProduct$ = _state$customProduct.attributes) === null || _state$customProduct$ === void 0 ? void 0 : _state$customProduct$.options;\n  });\n  const fittingOptionsTitles = fittingOptions === null || fittingOptions === void 0 ? void 0 : fittingOptions.map(o => o.name);\n  const [navStep, setNavStep] = useState(0);\n  const hasNextStep = navStep < fittingOptions.length - 1;\n  useEffect(() => {\n    if (hasNextStep) {\n      setAdditionalFinishedNavs && setAdditionalFinishedNavs(prev => {\n        return [...prev, {\n          name: 'Fitting',\n          isFinished: true\n        }];\n      });\n    }\n  }, [navStep]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.navButtonContainer,\n      children: fittingOptionsTitles.map((title, i) => {\n        return /*#__PURE__*/_jsxDEV(CapsuleButton, {\n          isFinished: navStep > i,\n          isSelected: navStep === i,\n          onClick: () => setNavStep(i),\n          children: title\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"Select \", fittingOptionsTitles[navStep], \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FittingOption, {\n      focusCameraOnPart: focusCameraOnPart,\n      option: fittingOptions[navStep]\n    }, (_fittingOptions$navSt = fittingOptions[navStep]) === null || _fittingOptions$navSt === void 0 ? void 0 : _fittingOptions$navSt.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NavButtons, {\n      onNext: hasNextStep && (() => {\n        setNavStep(cur => cur + 1);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s2(NavFitting, \"mf2U+ors8x4xPw4IzsqqRQeDT/M=\", false, function () {\n  return [useCustomiserStore];\n});\n_c2 = NavFitting;\nexport default NavFitting;\nvar _c, _c2;\n$RefreshReg$(_c, \"FittingOption\");\n$RefreshReg$(_c2, \"NavFitting\");","map":{"version":3,"names":["useCustomiserStore","motion","NavButtons","styles","CapsuleButton","useEffect","useState","ContainedNavButton","jsxDEV","_jsxDEV","Fragment","_Fragment","FittingOption","option","focusCameraOnPart","_s","_selectedModels$find","_option$models","selectedModels","state","setSelectedModel","getSelected","find","m","optionId","id","model","children","div","className","fittingOption","initial","opacity","animate","exit","fittingButtons","models","map","_m$model","_m$model$data","_m$model3","_m$model3$data","_m$model3$data$attrib","isSelected","data","classNames","fittingButton","onClick","_m$model2","name","attributes","fileName","_jsxFileName","lineNumber","columnNumber","_c","NavFitting","setAdditionalFinishedNavs","_s2","_fittingOptions$navSt","fittingOptions","_state$customProduct","_state$customProduct$","customProduct","options","fittingOptionsTitles","o","navStep","setNavStep","hasNextStep","length","prev","isFinished","root","navButtonContainer","title","i","onNext","cur","_c2","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/NavFitting/NavFitting.tsx"],"sourcesContent":["import OptionButton from '@components/ui/OptionButton';\r\nimport { CustomProductOptionFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport { motion } from 'framer-motion';\r\nimport NavButtons from '../NavButtons';\r\nimport styles from './NavFitting.module.scss';\r\nimport { FocusCameraOnPart } from '@components/layout/Customiser/Customiser';\r\nimport CapsuleButton from '@components/ui/Button/CapsuleNavButton';\r\nimport { useEffect, useState } from 'react';\r\nimport ContainedButton from '@components/ui/Button/ContainedButton';\r\nimport ContainedNavButton from '@components/ui/Button/ContainedNavButton';\r\n\r\nexport interface FittingOptionProps {\r\n  option: CustomProductOptionFragment;\r\n  focusCameraOnPart?: FocusCameraOnPart;\r\n}\r\n\r\nconst FittingOption = ({ option, focusCameraOnPart }: FittingOptionProps) => {\r\n  const selectedModels = useCustomiserStore((state) => state.selectedModels);\r\n  const setSelectedModel = useCustomiserStore((state) => state.setSelectedModel);\r\n\r\n  if (!option) {\r\n    return null;\r\n  }\r\n\r\n  const getSelected = selectedModels.find((m) => m.optionId === option.id)?.model;\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className={styles.fittingOption}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <div className={styles.fittingButtons}>\r\n          {option.models?.map((m) => (\r\n            <ContainedNavButton\r\n              key={m?.id}\r\n              isSelected={getSelected?.id === m?.model?.data?.id}\r\n              classNames={styles.fittingButton}\r\n              onClick={() => {\r\n                setSelectedModel(option.id, m?.model?.data);\r\n                focusCameraOnPart && focusCameraOnPart(option.name);\r\n              }}\r\n            >\r\n              {m?.model?.data?.attributes?.name}\r\n            </ContainedNavButton>\r\n          ))}\r\n        </div>\r\n      </motion.div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface NavFittingProps {\r\n  focusCameraOnPart?: FocusCameraOnPart;\r\n  additionalFinishedNavs?: {\r\n    name: string;\r\n    isFinished: boolean;\r\n  }[];\r\n  setAdditionalFinishedNavs?: React.Dispatch<\r\n    React.SetStateAction<{ name: string; isFinished: boolean }[]>\r\n  >;\r\n}\r\nconst NavFitting = ({ focusCameraOnPart, setAdditionalFinishedNavs }: NavFittingProps) => {\r\n  const fittingOptions = useCustomiserStore(\r\n    (state) => state.customProduct?.attributes?.options,\r\n  ) as Array<CustomProductOptionFragment>;\r\n\r\n  const fittingOptionsTitles = fittingOptions?.map((o) => o.name);\r\n\r\n  const [navStep, setNavStep] = useState(0);\r\n  const hasNextStep = navStep < fittingOptions.length - 1;\r\n\r\n  useEffect(() => {\r\n    if (hasNextStep) {\r\n      setAdditionalFinishedNavs &&\r\n        setAdditionalFinishedNavs((prev) => {\r\n          return [\r\n            ...prev,\r\n            {\r\n              name: 'Fitting',\r\n              isFinished: true,\r\n            },\r\n          ];\r\n        });\r\n    }\r\n  }, [navStep]);\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <div className={styles.navButtonContainer}>\r\n        {fittingOptionsTitles.map((title, i) => {\r\n          return (\r\n            <CapsuleButton\r\n              isFinished={navStep > i}\r\n              isSelected={navStep === i}\r\n              onClick={() => setNavStep(i)}\r\n              key={i}\r\n            >\r\n              {title}\r\n            </CapsuleButton>\r\n          );\r\n        })}\r\n      </div>\r\n      <div>\r\n        <b>Select {fittingOptionsTitles[navStep]}:</b>\r\n      </div>\r\n      <br />\r\n      {\r\n        <FittingOption\r\n          focusCameraOnPart={focusCameraOnPart}\r\n          key={fittingOptions[navStep]?.id}\r\n          option={fittingOptions[navStep]}\r\n        />\r\n      }\r\n      <NavButtons\r\n        onNext={\r\n          hasNextStep &&\r\n          (() => {\r\n            setNavStep((cur) => cur + 1);\r\n          })\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavFitting;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}