{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\nav\\\\NavPart\\\\NavPart.tsx\",\n  _s = $RefreshSig$();\nimport PillButton from '@components/ui/PillButton';\nimport { useCustomiserStore } from '@store/customiser';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\nimport { Suspense, useEffect, useMemo, useState } from 'react';\nimport MaterialGroup from '../MaterialGroup';\nimport NavButtons from '../NavButtons';\nimport styles from './NavPart.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NavPart = ({\n  className,\n  part\n}) => {\n  _s();\n  var _parts$find, _part$materialGroup, _currentPart$material, _currentPart$material2, _currentPart$material3, _currentPart$material4;\n  const rootClassName = cn(styles.root, className);\n  const selectedPart = useCustomiserStore(state => state.selectedPart);\n  const setPart = useCustomiserStore(state => state.setPart);\n  const removePart = useCustomiserStore(state => state.removePart);\n  const parts = useCustomiserStore(state => state.parts);\n  const currentPart = useMemo(() => parts.find(p => p.part.id === (part === null || part === void 0 ? void 0 : part.id)), [part]);\n  const [showOptional, setShowOptional] = useState(false);\n  let selectedMaterialId = (_parts$find = parts.find(part => part.part.name === (selectedPart === null || selectedPart === void 0 ? void 0 : selectedPart.name))) === null || _parts$find === void 0 ? void 0 : _parts$find.material.id;\n  const confirmText = !selectedMaterialId ? 'Are you sure you want to continue using the default color?' : null;\n  if (!(part !== null && part !== void 0 && (_part$materialGroup = part.materialGroup) !== null && _part$materialGroup !== void 0 && _part$materialGroup.data)) {\n    return null;\n  }\n  const onMaterialSelected = material => {\n    if (selectedPart && material) {\n      selectedMaterialId = material.id;\n      setPart(selectedPart, material);\n    }\n  };\n  const optionalOnClick = show => {\n    setShowOptional(show);\n    if (!show) {\n      removePart(part);\n    }\n  };\n  useEffect(() => {\n    if (part.optional && !showOptional && currentPart) {\n      setShowOptional(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: rootClassName,\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [part.optional && /*#__PURE__*/_jsxDEV(PillButton, {\n        className: styles.showOptional,\n        selected: showOptional,\n        onClick: () => optionalOnClick(!showOptional),\n        children: [showOptional ? 'Remove' : 'Add', \" \", part.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), (!part.optional || part.optional && showOptional) && /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 31\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(MaterialGroup, {\n          materialGroup: part.materialGroup.data,\n          materialType: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material = currentPart.material.attributes) === null || _currentPart$material === void 0 ? void 0 : (_currentPart$material2 = _currentPart$material.type) === null || _currentPart$material2 === void 0 ? void 0 : _currentPart$material2.data,\n          colourGroup: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material3 = currentPart.material.attributes) === null || _currentPart$material3 === void 0 ? void 0 : (_currentPart$material4 = _currentPart$material3.colourGroups) === null || _currentPart$material4 === void 0 ? void 0 : _currentPart$material4.data[0],\n          onMaterialSelected: onMaterialSelected,\n          selectedMaterialId: selectedMaterialId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, part.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavButtons, {\n      confirmText: confirmText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(NavPart, \"FViNcL8xuQx8HpJjLZyBonKVcEM=\", false, function () {\n  return [useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore];\n});\n_c = NavPart;\nexport default NavPart;\nvar _c;\n$RefreshReg$(_c, \"NavPart\");","map":{"version":3,"names":["PillButton","useCustomiserStore","cn","motion","Suspense","useEffect","useMemo","useState","MaterialGroup","NavButtons","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","NavPart","className","part","_s","_parts$find","_part$materialGroup","_currentPart$material","_currentPart$material2","_currentPart$material3","_currentPart$material4","rootClassName","root","selectedPart","state","setPart","removePart","parts","currentPart","find","p","id","showOptional","setShowOptional","selectedMaterialId","name","material","confirmText","materialGroup","data","onMaterialSelected","optionalOnClick","show","optional","children","div","initial","opacity","animate","exit","selected","onClick","fileName","_jsxFileName","lineNumber","columnNumber","fallback","materialType","attributes","type","colourGroup","colourGroups","_c","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/NavPart/NavPart.tsx"],"sourcesContent":["import PillButton from '@components/ui/PillButton';\r\nimport { CustomProductPartFragment, MaterialFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { motion } from 'framer-motion';\r\nimport { Suspense, useEffect, useMemo, useState } from 'react';\r\nimport MaterialGroup from '../MaterialGroup';\r\nimport NavButtons from '../NavButtons';\r\n\r\nimport styles from './NavPart.module.scss';\r\n\r\nexport interface NavPartProps {\r\n  className?: string;\r\n  part: CustomProductPartFragment;\r\n}\r\n\r\nconst NavPart = ({ className, part }: NavPartProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const selectedPart = useCustomiserStore((state) => state.selectedPart);\r\n  const setPart = useCustomiserStore((state) => state.setPart);\r\n  const removePart = useCustomiserStore((state) => state.removePart);\r\n  const parts = useCustomiserStore((state) => state.parts);\r\n  const currentPart = useMemo(() => parts.find((p) => p.part.id === part?.id), [part]);\r\n  const [showOptional, setShowOptional] = useState(false);\r\n\r\n  let selectedMaterialId = parts.find((part) => part.part.name === selectedPart?.name)?.material.id;\r\n  const confirmText = !selectedMaterialId\r\n    ? 'Are you sure you want to continue using the default color?'\r\n    : null;\r\n\r\n  if (!part?.materialGroup?.data) {\r\n    return null;\r\n  }\r\n\r\n  const onMaterialSelected = (material: MaterialFragment) => {\r\n    if (selectedPart && material) {\r\n      selectedMaterialId = material.id;\r\n      setPart(selectedPart, material);\r\n    }\r\n  };\r\n\r\n  const optionalOnClick = (show: boolean) => {\r\n    setShowOptional(show);\r\n    if (!show) {\r\n      removePart(part);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (part.optional && !showOptional && currentPart) {\r\n      setShowOptional(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        key={part.id}\r\n        className={rootClassName}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        {part.optional && (\r\n          <PillButton\r\n            className={styles.showOptional}\r\n            selected={showOptional}\r\n            onClick={() => optionalOnClick(!showOptional)}\r\n          >\r\n            {showOptional ? 'Remove' : 'Add'} {part.name}\r\n          </PillButton>\r\n        )}\r\n        {(!part.optional || (part.optional && showOptional)) && (\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <MaterialGroup\r\n              materialGroup={part.materialGroup.data}\r\n              materialType={currentPart?.material.attributes?.type?.data}\r\n              colourGroup={currentPart?.material.attributes?.colourGroups?.data[0]}\r\n              onMaterialSelected={onMaterialSelected}\r\n              selectedMaterialId={selectedMaterialId}\r\n            />\r\n          </Suspense>\r\n        )}\r\n      </motion.div>\r\n      <NavButtons confirmText={confirmText} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavPart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}