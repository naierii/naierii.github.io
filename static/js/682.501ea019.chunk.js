"use strict";(self.webpackChunkboxxerworld_customiser=self.webpackChunkboxxerworld_customiser||[]).push([[682],{6682:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Pa});var i=a(4875),l=a(1418),s=a.n(l),n=a(6042),o=a(3791),r=a(2791);const d={fittingButtons:"NavFitting_fittingButtons__Y1hdd",fittingButton:"NavFitting_fittingButton__djmDJ",navButtonContainer:"NavFitting_navButtonContainer__K9a4D",defaultMessage:"NavFitting_defaultMessage__YBU6l"};var c=a(7002),u=a(184);const v=e=>{let{onClick:t,isSelected:a,isFinished:i,classNames:l,children:s}=e;const n="\n    ".concat(c.Z.containedNavButton,"\n    ").concat(l,"\n    ").concat(a?c.Z.selected:"","\n    ").concat(i?c.Z.finished:"","\n    ");return(0,u.jsx)("span",{className:n,onClick:t,children:s})};var m=a(846);const h=e=>{let{selectedNav:t}=e,a=(null===t||void 0===t?void 0:t.name)||"";return"waist"===a.toLowerCase()&&(a="Waistband"),a},x=e=>{let{name:t,optionName:a}=e,i=t||"";if("waist"===(null===a||void 0===a?void 0:a.toLowerCase()))switch(i.toLowerCase()){case'waist 4" new':i='4"';break;case'waist 5" new':i='5"'}else if("leg cut"===(null===a||void 0===a?void 0:a.toLowerCase())&&"straight leg"===i.toLowerCase())i="Side Slit";return i},p=e=>{let{selectedNav:t}=e,a=(null===t||void 0===t?void 0:t.name)||"";return a="waist"===a.toLowerCase()&&"fitting"===(null===t||void 0===t?void 0:t.type)?"Waistband Height":"Select ".concat(a),a},_=e=>{let{textType:t}=e,a=t||"";return"basic"===a.toLowerCase()?a="Print":"luxury"===a.toLowerCase()&&(a="Embroidery"),a},g=e=>{var t,a;let{option:l}=e;const{selectedModels:s,setSelectedModel:o}=(0,i.b)();if(!l)return null;const r=null===(t=s.find((e=>e.optionId===l.id)))||void 0===t?void 0:t.model;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(n.E.div,{className:d.fittingOption,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,u.jsx)("div",{className:d.fittingButtons,children:null===(a=l.models)||void 0===a?void 0:a.map((e=>{var t,a,i,s,n;return(0,u.jsx)(v,{isSelected:(null===r||void 0===r?void 0:r.id)===(null===e||void 0===e||null===(t=e.model)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id),classNames:d.fittingButton,onClick:()=>{var t;o(l.id,null===e||void 0===e||null===(t=e.model)||void 0===t?void 0:t.data)},children:x({optionName:l.name,name:null===e||void 0===e||null===(i=e.model)||void 0===i||null===(s=i.data)||void 0===s||null===(n=s.attributes)||void 0===n?void 0:n.name})},null===e||void 0===e?void 0:e.id)}))})})})},N=e=>{let{finishedNavs:t}=e;const a=(0,i.b)((e=>{var t,a;return null===(t=e.customProduct)||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a.options})),{setCameraFocus:l,selectedNav:s}=(0,i.b)(),n=(null===s||void 0===s?void 0:s.name)||"",o=(0,m.As)({fittingOptions:a,fittingOptionName:n});if((0,r.useEffect)((()=>{n&&l(n)}),[n]),!o)return null;null!==t&&void 0!==t&&t.find((e=>"Fitting"===(null===e||void 0===e?void 0:e.name)&&!0===e.isFinished))&&a.length;return(0,u.jsxs)("div",{className:d.root,children:[(0,u.jsx)("div",{children:(0,u.jsxs)("b",{children:[p({selectedNav:s}),":"]})}),(0,u.jsx)("br",{}),(0,u.jsx)(g,{option:o},o.id),(0,u.jsx)("p",{className:d.defaultMessage,children:'The default display automatically represents the model with a waist of 4", please make changes to see the difference.'})]})};function f(e){return function(e){if(!e)return null;const t=Object.entries(e).map((e=>e[1]?{width:e[1].width,url:e[1].url}:null)).filter((e=>e));return t.length?t.sort(((e,t)=>null!==e&&void 0!==e&&e.width&&null!==t&&void 0!==t&&t.width&&e.width<t.width?-1:null!==e&&void 0!==e&&e.width&&null!==t&&void 0!==t&&t.width&&e.width>t.width?1:0)).reduce(((e,t,a,i)=>e+"".concat(t.url," ").concat(t.width,"w").concat(a<i.length-1?", ":"")),""):null}(e)}const j="Image_root__u7aDb",C=e=>{var t;let{className:a,image:i,sizes:l}=e;const n=s()(j,a);if(!i)return null;const o=(0,r.useMemo)((()=>{var e,t;return null!==(e=i.attributes)&&void 0!==e&&e.height&&null!==(t=i.attributes)&&void 0!==t&&t.width?i.attributes.height/i.attributes.width*100:100}),[i]),d={"--image-padding-top":"".concat(o,"%")},c=(0,r.useMemo)((()=>{var e;return f(null===(e=i.attributes)||void 0===e?void 0:e.formats)}),[i]);return(0,u.jsx)("div",{className:n,style:d,children:c&&(0,u.jsx)("img",{src:null===(t=i.attributes)||void 0===t?void 0:t.url,srcSet:c,sizes:l||"100vw"})})},y={flags:"NavFlags_flags__S52CT",flag:"NavFlags_flag__gtrVs",edit:"NavFlags_edit__RNMVf",flagImgContainer:"NavFlags_flagImgContainer__yswf3",flagItem:"NavFlags_flagItem__rI7sv",flagItemImage:"NavFlags_flagItemImage__6ov2x",addBtnContainer:"NavFlags_addBtnContainer__hWkoe",itemsTitle:"NavFlags_itemsTitle__bTU8h"},b=e=>{var t;let{editFlag:a,flags:l}=e;const{addFlag:s,updateFlag:n}=(0,i.b)((e=>e)),o=null===a||void 0===a||null===(t=a.flag)||void 0===t?void 0:t.id;return(0,u.jsx)("div",{className:y.flags,children:null===l||void 0===l?void 0:l.map((e=>{var t;const i=o===e.id?y.edit:"";return(0,u.jsx)("div",{className:"".concat(y.flag," ").concat(i),onClick:()=>{return t=e,void(null!==a&&void 0!==a&&a.key?n(a.key,{flag:t,edit:!0}):s({flag:t,decalFreeze:!0,decalPosition:[-.01989325641440387,2.436930108198209,1.6226380277735046],decalOrientation:[-.14799034762565572,-.17866277612764514,-.026487426629834374,"XYZ"]}));var t},children:(0,u.jsx)(C,{className:"".concat(y.flagImgContainer," ").concat(i),image:null===(t=e.attributes)||void 0===t?void 0:t.image.data})},e.id)}))})},T=e=>{const[t,a]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{t||(i.current=document.getElementById(e),i.current&&a(!0))}),[e,t]),t?i.current:null};var k=a(4164);const w="NavEditButtons_root__43Hm3",I=e=>{let{onClick:t,isClickable:a,classNames:i,children:l,isHidden:s,color:n,type:o,widthType:r}=e;const d="\n      ".concat(c.Z.containedButton,"\n      ").concat(c.Z[o||""],"\n      ").concat(c.Z[r||""],"\n      ").concat(i,"\n      ").concat("undefined"===typeof a||a?c.Z.clickable:"","\n      ").concat("undefined"!==typeof s&&s?c.Z.hidden:"","\n      ").concat(n?c.Z[n]:"","\n    ");return(0,u.jsx)("button",{className:d,onClick:()=>{("undefined"===typeof a||a)&&t&&t()},children:l})},S=e=>{let{className:t,disabled:a,onApply:i,hasCancel:l=!0,onNext:n}=e;const o=s()(w,t),r=T("CustomiserNavActions");return r?k.createPortal((0,u.jsxs)("div",{className:o,children:[(0,u.jsx)(I,{onClick:i,isHidden:!l,children:"Cancel"}),n?(0,u.jsx)(I,{onClick:n,isClickable:!a,children:"Next"}):(0,u.jsx)(I,{color:"black",onClick:i,isClickable:!a,children:"Save"})]}),r):null},M="NavOptionEdit_root__q-pp0",P="NavOptionEdit_eyeIcon__v85fP";var B=a(2924);const F=e=>{let{className:t,onEdit:a,onDelete:i,isVisible:l=!0,toggleVisibility:n}=e;const o=s()(M,t),r=void 0===typeof l||l;return(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{onClick:e=>{e.stopPropagation(),n&&n()},className:P,children:r?(0,u.jsx)(B.dSq,{}):(0,u.jsx)(B.tgn,{})}),(0,u.jsx)("button",{onClick:a,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.785 24.788",children:(0,u.jsx)("path",{d:"M24.785 6.739 18.046 0 0 18.049v6.739h6.739Zm-6.738-3.218 3.218 3.218-1.351 1.352-3.217-3.218Zm-3.112 3.112 3.218 3.218L7.467 20.538l-3.218-3.22ZM2.489 22.298v-3.219l3.218 3.218Z"})})}),(0,u.jsx)("button",{onClick:i,children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.601 23.219",children:[(0,u.jsx)("path",{d:"m14.601 11.609-1.489-1.489L2.992 0 .001 2.978l8.631 8.631-8.631 8.632 2.991 2.978L13.112 13.1Z"}),(0,u.jsx)("path",{d:"m9 11.609 1.489 1.489 10.12 10.12L23.6 20.24l-8.631-8.631L23.6 2.977 20.609-.001l-10.12 10.119Z"})]})})]})},G=e=>{var t,a,l,s;let{flag:n,setShowSelector:o}=e;const{updateFlag:r,deleteFlag:d}=(0,i.b)((e=>e));return(0,u.jsxs)("div",{className:y.flagItem,children:[(0,u.jsx)("div",{className:y.flagItemImage,children:(0,u.jsx)(C,{image:null===(t=n.flag)||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a.image.data})}),(0,u.jsx)("span",{children:null===(l=n.flag)||void 0===l||null===(s=l.attributes)||void 0===s?void 0:s.name}),(0,u.jsx)(F,{isVisible:n.isVisible,toggleVisibility:()=>{n.key&&r(n.key,{isVisible:"undefined"!==typeof n.isVisible&&!n.isVisible})},onEdit:()=>{n.key&&r(n.key,{edit:!0}),o(!0)},onDelete:()=>{n.key&&d(n.key)}})]})};var H=a(8148),O=a(1854),E=a(2459);const L="ImageDecalPreview_title__+0uJ3",z="ImageDecalPreview_preview__FcNaI",A="ImageDecalPreview_imageContainer__ps5dB",D="ImageDecalPreview_noImage__FWBZ2",R="NavDecalAdjust_root__dpTza",Z="NavDecalAdjust_root__rotate__rOY5u",V="NavDecalAdjust_noImage__oc8fj",q="NavDecalAdjust_iconTitle__ytxaZ",W="NavDecalAdjust_iconContainer__2VFM9",Y="NavDecalAdjust_icon__6Qd7n",K=e=>{var t;let{className:a,scale:i=1,rotation:l=0,prices:n,onScale:o,onRotate:d,hasImage:c}=e;const v=.15,m=7.5,[h,x]=(0,r.useState)(i),[p,_]=(0,r.useState)(l),g=s()(R,a,Z,{[V]:!c}),N=((e,t,a)=>Array.from({length:(t-e)/a+1},((t,i)=>e+i*a)))(1,2,1/((null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:10)-1));null===n||void 0===n||n.map(((e,t)=>({...e,markKey:Number(N[t].toFixed(5))})));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:g,children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("div",{className:q,children:"SIZE"}),(0,u.jsxs)("span",{className:W,children:[(0,u.jsx)("span",{className:Y,onClick:()=>{x((e=>e-v<=0?e:(o&&o(e-v),e-v)))},children:(0,u.jsx)(B.iFH,{})}),(0,u.jsx)("span",{className:Y,onClick:()=>{x((e=>(o&&o(e+v),e+v)))},children:(0,u.jsx)(B.wEH,{})})]})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("div",{className:q,children:"ROTATE"}),(0,u.jsxs)("span",{className:W,children:[(0,u.jsx)("span",{className:"".concat(Y),onClick:()=>{_((e=>(d&&d(e+m),e+m)))},children:(0,u.jsx)(B.iCh,{})}),(0,u.jsx)("span",{className:"".concat(Y),onClick:()=>{_((e=>(d&&d(e-m),e-m)))},children:(0,u.jsx)(B.YRv,{})})]})]})]})})},U=e=>{let{image:t,scale:a,rotation:i,onScale:l,onRotate:s,prices:n,onImgClick:o}=e;return(0,u.jsxs)("div",{children:[t&&(0,u.jsx)("div",{className:L,children:"IMAGE PREVIEW"}),(0,u.jsxs)("div",{className:"".concat(z," ").concat(t?"":D),children:[t&&(0,u.jsx)("span",{className:A,onClick:o,children:(0,u.jsx)(C,{image:t})}),(0,u.jsx)("div",{children:(0,u.jsx)(K,{scale:a,rotation:i,onScale:l,onRotate:s,prices:n,hasImage:!!t})})]})]})},X=()=>{var e,t;const a=(0,i.b)((e=>e.flags)),l=(0,i.b)((e=>e.updateFlag)),s=null===a||void 0===a?void 0:a.find((e=>e.edit)),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(0),v=d<1,{data:m}=(0,H.nY)(O.SL,{pagination:{limit:500}},{select:e=>{var t,a;return{flags:null===(t=e.flags)||void 0===t?void 0:t.data,prices:null===(a=e.graphicPrices)||void 0===a?void 0:a.data}}});return(0,u.jsx)(u.Fragment,{children:n?(0,u.jsxs)(u.Fragment,{children:[0===d&&(null===m||void 0===m?void 0:m.flags)&&(0,u.jsx)(b,{editFlag:s,flags:m.flags}),1===d&&(0,u.jsx)(U,{image:null===s||void 0===s||null===(e=s.flag)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.image.data,scale:null===s||void 0===s?void 0:s.decalScale,rotation:null===s||void 0===s?void 0:s.decalRotation,onScale:(e,t)=>{var a,i;const n=null!==t&&void 0!==t&&null!==(a=t.attributes)&&void 0!==a&&a.size&&null!==t&&void 0!==t&&null!==(i=t.attributes)&&void 0!==i&&i.basePrice?{size:t.attributes.size,basePrice:{...t.attributes.basePrice,quantity:1}}:{};null!==s&&void 0!==s&&s.key&&l(s.key,{decalScale:Number(e),...n})},onRotate:e=>{(0,r.startTransition)((()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalRotation:Number(e)})}))},prices:null===m||void 0===m?void 0:m.prices}),(0,u.jsx)(S,{disabled:!s,onApply:()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalFreeze:!1,edit:!1}),c(0),o(!1)},onNext:v&&(()=>{c((e=>v?e+1:e))}),hasCancel:!1})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:y.customiserFlags,children:[(0,u.jsx)("div",{className:y.addBtnContainer,children:(0,u.jsxs)(I,{onClick:()=>{o(!0)},color:"grey",children:[(0,u.jsx)(E.b0B,{})," \xa0 Add Flag"]})}),a.length?(0,u.jsx)("div",{className:y.itemsTitle,children:"YOUR FLAGS"}):"",null===a||void 0===a?void 0:a.map((e=>(0,u.jsx)(G,{flag:e,setShowSelector:o},e.key)))]})})})},Q="NavHeader_root__jnadG",J="NavHeader_topIcons__2qYFd",$="NavHeader_topIcons__icon__tY8Cl",ee="NavHeader_nav__mJbli",te="NavHeader_title__tOyZd",ae="NavHeader_title__page__rgTMK",ie="NavHeader_title__requiredIcon__7WU0A",le="NavHeader_navButton__znGEK",se="NavHeader_hidden__eJpU9",ne="NavHeader_minimizeIcon__GKC2n",oe="NavHeader_minimized__04mp3",re="NavHeader_slash__DpezR";var de=a(3786);const ce=e=>{let{className:t,toggle:a,isOpen:l,isMinimized:n=!1,onClick:o}=e;const r=s()(Q,t),{selectedNav:d,setSelectedNav:c,navTabs:v,texts:x}=(0,i.b)(),p=null===x||void 0===x?void 0:x.find((e=>e.edit)),_="number"===typeof(null===d||void 0===d?void 0:d.index)?(0,m.l4)({navTabs:v,navItemIndex:d.index}):0,g="number"===typeof(null===d||void 0===d?void 0:d.index)?(0,m.Wg)({navTabs:v,navItemIndex:d.index}):0,N="number"===typeof(null===d||void 0===d?void 0:d.index)&&0===(null===d||void 0===d?void 0:d.index),f="number"===typeof(null===d||void 0===d?void 0:d.index)&&(0,m.$C)({navTabs:v,navItemIndex:null===d||void 0===d?void 0:d.index});if(l)return null;s()(ne,{[oe]:n});return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{id:"NavHeader",className:r,children:[(0,u.jsx)("div",{className:J,children:(0,u.jsx)("span",{className:$,onClick:()=>{o&&o()},children:!p&&(0,u.jsx)(de.dWm,{})})}),(0,u.jsx)("div",{id:"NavHeaderNav",className:ee,children:!p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(le," ").concat(N||p?se:""),onClick:()=>{p||"number"!==typeof(null===d||void 0===d?void 0:d.index)||(null===d||void 0===d?void 0:d.index)<=0||c(d.index-1)},children:(0,u.jsx)(B._HU,{})}),(0,u.jsxs)("div",{className:te,children:[(0,u.jsxs)("span",{children:[(null===d||void 0===d?void 0:d.required)&&(0,u.jsx)("span",{className:ie,children:"*"}),h({selectedNav:d})]}),(0,u.jsxs)("span",{className:ae,children:[g+1,(0,u.jsx)("span",{className:re,children:"/"}),_]})]}),(0,u.jsx)("span",{className:"".concat(le," ").concat(f||p?se:""),onClick:()=>{p||"number"===typeof(null===d||void 0===d?void 0:d.index)&&c(d.index+1)},children:(0,u.jsx)(B.H_v,{})})]})})]})})},ue={dropZone:"NavImages_dropZone__4YMrM",image:"NavImages_image__svpqZ",graphicItem:"NavImages_graphicItem__XenKS",graphicItemImage:"NavImages_graphicItemImage__8GS2T",addBtnContainer:"NavImages_addBtnContainer__YYMBT",itemsTitle:"NavImages_itemsTitle__Q+pUc"},ve=e=>{var t,a,l;let{graphic:s,setShowSelector:n}=e;const{updateGraphic:o,deleteGraphic:r}=(0,i.b)((e=>e));return(0,u.jsxs)("div",{className:ue.graphicItem,children:[(0,u.jsx)("div",{className:ue.graphicItemImage,children:(0,u.jsx)(C,{image:null===(t=s.graphic)||void 0===t||null===(a=t.attributes)||void 0===a||null===(l=a.image)||void 0===l?void 0:l.data})}),(0,u.jsx)(F,{isVisible:s.isVisible,toggleVisibility:()=>{s.key&&o(s.key,{isVisible:"undefined"!==typeof s.isVisible&&!s.isVisible})},onEdit:()=>{s.key&&o(s.key,{edit:!0}),n(!0)},onDelete:()=>{s.key&&r(s.key)}})]})};var me=a(7831);const he=()=>({__typename:"Mutation",createGraphic:{__typename:"GraphicEntityResponse",data:{__typename:"GraphicEntity",id:Math.random().toString(),attributes:{__typename:"Graphic",name:"Sample Graphic",image:{__typename:"UploadFileEntityResponse",data:{__typename:"UploadFileEntity",id:Math.random().toString(),attributes:{__typename:"UploadFile",url:"examples/add-image/image.png",size:51200,width:800,height:600,ext:".jpg",mime:"image/jpeg",name:"sample.jpg",formats:{thumbnail:{url:"examples/add-image/image.png",width:200,height:150}}}}}}}}}),xe=e=>{let{setGraphic:t}=e;const[a,i]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),{mutate:n}=(0,H.Zn)(O.SL,{onSuccess(e){var a;const l=null===(a=e.createGraphic)||void 0===a?void 0:a.data;i(!1),l&&t(l)},onError(){var e;const a=he();if(l){var s,n,o,r,d;const e=null===(s=a.createGraphic)||void 0===s||null===(n=s.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(r=o.image)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.attributes;e&&(e.url=l,e.formats.thumbnail.url=l)}const c=null===(e=a.createGraphic)||void 0===e?void 0:e.data;i(!1),c&&t(c)}}),{mutate:o}=(0,H.a1)(O.SL,{onSuccess(e){const t=e.multipleUpload.map((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id}));n({data:{image:t[0],customer:!0,name:t[0]}})}}),d=(0,r.useCallback)((e=>{i(!0),o({files:e});const t=e[0],a=new FileReader;a.onload=t=>{var a;const i=new Image;i.onload=()=>{const t=i.src;s(t),o({files:e})},i.src=null===(a=t.target)||void 0===a?void 0:a.result},a.readAsDataURL(t)}),[]),{getRootProps:c,getInputProps:v,isDragActive:m}=(0,me.uI)({onDrop:d,accept:{"image/jpg":[],"image/jpeg":[],"image/png":[]},maxFiles:1,multiple:!1});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h5",{children:"Upload an image"}),(0,u.jsxs)("div",{className:ue.dropZone,...c(),children:[(0,u.jsx)("input",{...v()}),(0,u.jsxs)("div",{children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.219 29.191",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M11.609 0 10.12 1.489 0 11.609 2.978 14.6l8.631-8.631 8.632 8.631 2.978-2.991L13.1 1.489Z"}),(0,u.jsx)("path",{d:"M14.356 29.191h-5v-26h5Z"})]})}),a?(0,u.jsx)("h5",{children:"Please wait..."}):m?(0,u.jsx)("h5",{children:"Drop images here ..."}):(0,u.jsx)("h5",{children:"Click or drag images here to upload"})]})]})]})},pe=e=>{var t,a;let{editGraphic:l,graphic:s,onScale:n,onRotate:o,prices:d,scale:c,rotation:v}=e;const[m,h]=(0,r.useState)(s),{addGraphic:x,updateGraphic:p}=(0,i.b)((e=>e));return(0,u.jsx)("div",{className:ue.graphics,children:m?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(U,{image:null===(t=m.attributes)||void 0===t||null===(a=t.image)||void 0===a?void 0:a.data,scale:c,rotation:v,onScale:n,onRotate:o,prices:d,onImgClick:()=>h(void 0)})}):(0,u.jsx)(xe,{setGraphic:e=>{h(e),(e=>{null!==l&&void 0!==l&&l.key?p(l.key,{graphic:e,edit:!0}):x({graphic:e,decalFreeze:!0,decalPosition:[-.01989325641440387,2.436930108198209,1.6226380277735046],decalOrientation:[-.14799034762565572,-.17866277612764514,-.026487426629834374,"XYZ"]})})(e)}})})},_e=()=>{const[e,t]=(0,r.useState)(!1),a=(0,i.b)((e=>e.graphics)),l=(0,i.b)((e=>e.updateGraphic)),s=null===a||void 0===a?void 0:a.find((e=>e.edit)),{data:n}=(0,H.Nn)(O.SL,{},{select:e=>{var t;return{prices:null===(t=e.graphicPrices)||void 0===t?void 0:t.data}}});return(0,u.jsx)(u.Fragment,{children:e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(pe,{editGraphic:s,graphic:null===s||void 0===s?void 0:s.graphic,scale:null===s||void 0===s?void 0:s.decalScale,rotation:null===s||void 0===s?void 0:s.decalRotation,onScale:(e,t)=>{var a,i;const n=null!==t&&void 0!==t&&null!==(a=t.attributes)&&void 0!==a&&a.size&&null!==t&&void 0!==t&&null!==(i=t.attributes)&&void 0!==i&&i.basePrice?{size:t.attributes.size,basePrice:{...t.attributes.basePrice,quantity:1}}:{};null!==s&&void 0!==s&&s.key&&l(s.key,{decalScale:Number(e),...n})},onRotate:e=>{(0,r.startTransition)((()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalRotation:Number(e)})}))},prices:null===n||void 0===n?void 0:n.prices}),(0,u.jsx)(S,{disabled:!s,onApply:()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalFreeze:!1,edit:!1}),t(!1)},hasCancel:!1})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:ue.customiserFlags,children:[(0,u.jsx)("div",{className:ue.addBtnContainer,children:(0,u.jsxs)(I,{color:"grey",onClick:()=>{t(!0)},children:[(0,u.jsx)(E.b0B,{})," \xa0 Add Image"]})}),a.length?(0,u.jsx)("div",{className:ue.itemsTitle,children:"Your Images"}):"",null===a||void 0===a?void 0:a.map((e=>(0,u.jsx)(ve,{graphic:e,setShowSelector:t},e.key)))]})})})},ge={root:"MaterialGroup_root__M5bHl",quickInfo:"MaterialGroup_quickInfo__a7QRT",colourGroups:"MaterialGroup_colourGroups__G3KSo",materialType:"MaterialGroup_materialType__X63YP",materialType__title:"MaterialGroup_materialType__title__nQjVb",materials:"MaterialGroup_materials__iAoDB",selected:"MaterialGroup_selected__YMvLv",popup:"MaterialGroup_popup__4J8xn",title:"MaterialGroup_title__oOvyv",materialTypeScroll:"MaterialGroup_materialTypeScroll__gRvp6",withCrystals:"MaterialGroup_withCrystals__FWknL"};var Ne=a(5847),fe=a(9276),je=a(2546),Ce=a(1085),ye=a(763);const be=e=>(0,ye.uniqBy)(e,"id"),Te={colourGroups:[],materialTypes:[],materials:[]},ke=(e,t)=>({...Te,filteredMaterials:()=>{const e=t().materials,a=t().selectedColourGroup;return e.filter((e=>{var t,i;return null===(t=e.attributes)||void 0===t||null===(i=t.colourGroups)||void 0===i?void 0:i.data.find((e=>e.id===(null===a||void 0===a?void 0:a.id)))}))},resetMaterialGroup:()=>e(Te),setMaterials:(t,a,i)=>{e((0,je.ZP)((e=>{const l=t.flatMap((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.colourGroups)||void 0===a?void 0:a.data}));var s;e.colourGroups=(s=l,(0,ye.uniqBy)(s,"id")),e.selectedColourGroup=i||e.colourGroups[0];const n=t.filter((t=>{var a,i;return null===(a=t.attributes)||void 0===a||null===(i=a.colourGroups)||void 0===i?void 0:i.data.find((t=>{var a;return t.id===(null===(a=e.selectedColourGroup)||void 0===a?void 0:a.id)}))})).map((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.data}));e.materialTypes=be(n),e.selectedMaterialType=a||e.materialTypes[0],e.materials=(e=>(0,ye.uniqBy)(e,"id"))(t)})))},setColourGroup:t=>{e((0,je.ZP)((e=>{e.selectedColourGroup=t;const a=e.materials.filter((t=>{var a,i;return null===(a=t.attributes)||void 0===a||null===(i=a.colourGroups)||void 0===i?void 0:i.data.find((t=>{var a;return t.id===(null===(a=e.selectedColourGroup)||void 0===a?void 0:a.id)}))})).map((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.data}));e.materialTypes=be(a)})))},setMaterialType:t=>{e((0,je.ZP)((e=>{e.selectedMaterialType=t})))}}),{Provider:we,useStore:Ie}=(0,fe.Z)(),Se=()=>(0,Ne.Ue)()((0,Ce.mW)(ke));var Me=a(1472);const Pe=e=>{var t,a,i,l,n,o,d,c,v;let{className:m,material:h,onMaterialSelected:x,selectedMaterialId:p}=e;const _=s()(ge.material,m,{[ge.selected]:h.id===p}),g=T("popupContainer"),[N,f]=(0,r.useState)(!1),j=null===h||void 0===h||null===(t=h.attributes)||void 0===t||null===(a=t.images)||void 0===a?void 0:a.find((e=>"map"===(null===e||void 0===e?void 0:e.mapType))),C=(0,Me.TA)((e=>{f(!0)})),y=e=>{e.preventDefault()};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:_,onContextMenu:y,onClick:()=>{h&&x(h)},...C(),"data-name":null===(i=h.attributes)||void 0===i?void 0:i.name,children:j&&(0,u.jsx)("img",{src:null===j||void 0===j||null===(l=j.image)||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.formats.thumbnail.url})}),N&&g&&(0,k.createPortal)((0,u.jsx)("div",{className:ge.popup,onClick:()=>{f(!1)},children:(0,u.jsx)("img",{height:"300",width:"300",src:null===j||void 0===j||null===(d=j.image)||void 0===d||null===(c=d.data)||void 0===c||null===(v=c.attributes)||void 0===v?void 0:v.formats.large.url,alt:"",onContextMenu:y})}),g)]})},Be=[{color:"red",materialId:"165"},{color:"blue",materialId:"183"},{color:"black",materialId:"106"}];async function Fe(e){return new Promise(((t,a)=>{const i=new Image;e||t(i),i.crossOrigin="anonymous",i.onload=()=>t(i),i.onerror=a,i.src=e}))}const Ge=e=>{var t,a,i;let{className:l,material:n,onMaterialSelected:o,selectedMaterialId:d}=e;const c=Be.find((e=>e.materialId===n.id))||{materialId:n.id,color:"pink"},v=(0,r.useMemo)((()=>Fe("/materials/crystals/".concat(c.color,".png"))),[]),[m,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{v.then((e=>{h(e)}))}),[v]);const x=s()(ge.material,l,{[ge.selected]:n.id===d}),p=T("popupContainer"),[_,g]=(0,r.useState)(!1),N=null===n||void 0===n||null===(t=n.attributes)||void 0===t||null===(a=t.images)||void 0===a?void 0:a.find((e=>"map"===(null===e||void 0===e?void 0:e.mapType))),f=(0,Me.TA)((e=>{g(!0)})),j=e=>{e.preventDefault()};return m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:x,onContextMenu:j,onClick:()=>{n&&o(n)},...f(),"data-name":null===(i=n.attributes)||void 0===i?void 0:i.name,children:N&&(0,u.jsx)("img",{src:m.src})}),_&&p&&(0,k.createPortal)((0,u.jsx)("div",{className:ge.popup,onClick:()=>{g(!1)},children:(0,u.jsx)("img",{height:"300",width:"300",src:m.src,alt:"",onContextMenu:j})}),p)]}):null},He=e=>{let{className:t,onMaterialSelected:a,hideColorGroups:i,hideMaterialTitle:l,selectedMaterialId:n}=e;const o=s()(ge.materialType,t),{materialTypes:r,filteredMaterials:d,materials:c}=Ie();let v=i?c:d(),m=r;return l&&(v=v.filter((e=>Be.some((t=>t.materialId===e.id)))),m=r.filter((e=>v.some((t=>{var a,i,l;return(null===(a=t.attributes)||void 0===a||null===(i=a.type)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.id)===e.id}))))),(0,u.jsxs)("div",{className:o,children:[!i&&(0,u.jsx)("h5",{className:ge.title,children:"Texture"}),(0,u.jsx)("div",{className:"".concat(ge.materialTypeScroll," ").concat(l?ge.withCrystals:""),children:m.map((e=>{var t;return(0,u.jsxs)("div",{className:ge.materialType,children:[!l&&(0,u.jsx)("h6",{className:ge.materialType__title,children:null===(t=e.attributes)||void 0===t?void 0:t.name}),(0,u.jsx)("div",{className:ge.materials,children:v.filter((t=>{var a,i,l;return(null===(a=t.attributes)||void 0===a||null===(i=a.type)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.id)===e.id})).map((e=>l?(0,u.jsx)(Ge,{material:e,onMaterialSelected:a,selectedMaterialId:n},e.id):(0,u.jsx)(Pe,{material:e,onMaterialSelected:a,selectedMaterialId:n},e.id)))})]},e.id)}))})]})},Oe="SelectedMaterialInfo_root__kIp+x",Ee="SelectedMaterialInfo_root__noMaterial__dtWKf",Le="SelectedMaterialInfo_currencyContainer__s15RH",ze="SelectedMaterialInfo_materialName__vha4F",Ae=()=>{var e,t;const a=T("CustomiserNavMaterial"),{selectedPart:l,parts:n}=(0,i.b)(),o=(0,r.useMemo)((()=>{var e;return null===(e=n.find((e=>e.part.id===(null===l||void 0===l?void 0:l.id))))||void 0===e?void 0:e.material}),[l,n]);let d=0;var c,v,m,h;o&&o.attributes&&"price"in o.attributes&&null!==(e=o.attributes)&&void 0!==e&&e.price&&(d=null===(c=o.attributes)||void 0===c||null===(v=c.price)||void 0===v||null===(m=v.data)||void 0===m||null===(h=m.attributes)||void 0===h?void 0:h.price);return a?o?k.createPortal((0,u.jsxs)("div",{className:Oe,children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("div",{className:ze,children:null===(t=o.attributes)||void 0===t?void 0:t.name}),(0,u.jsx)("small",{children:(0,u.jsx)("i",{children:"TODO: Add currency"})})]}),(0,u.jsxs)("div",{className:Le,children:["$",d||0]})]}),a):k.createPortal((0,u.jsx)("div",{className:s()(Oe,Ee),children:"No material selected."}),a):null},De=e=>{var t;let{className:a,materialGroup:i,materialType:l,colourGroup:n,onMaterialSelected:o,hideColorGroups:d,hideMaterialTitle:c,selectedMaterialId:v}=e;const m=Ie((e=>e.colourGroups)),h=Ie((e=>e.selectedColourGroup)),x=Ie((e=>e.setMaterials)),p=Ie((e=>e.setColourGroup)),_=s()(ge.root,a),g=null!==i&&void 0!==i&&null!==(t=i.attributes)&&void 0!==t&&t.materialTypes?i.attributes.materialTypes.data.map((e=>e.id)):[],{data:N}=(0,H.hF)(O.SL,{filters:{type:{id:{in:g}}},pagination:{pageSize:200}},{select:e=>{var t;return null===(t=e.materials)||void 0===t?void 0:t.data}});return(0,r.useEffect)((()=>{null!==N&&void 0!==N&&N.length&&x(N,l,n)}),[N]),i?(0,u.jsxs)("div",{className:_,children:[!d&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:ge.quickInfo,children:(0,u.jsx)("i",{children:"Tap model or follow arrows to colour"})}),(0,u.jsx)("h5",{className:ge.title,children:"Colour Filter"}),(0,u.jsx)("div",{className:ge.colourGroups,children:m.map((e=>{var t,a;const i={background:null!==(t=null===(a=e.attributes)||void 0===a?void 0:a.colour)&&void 0!==t?t:"#000",borderRadius:"50%"};var l;(null===h||void 0===h?void 0:h.id)===e.id&&(i.outline="4px solid ".concat(null===(l=e.attributes)||void 0===l?void 0:l.colour));return(0,u.jsx)("button",{onClick:()=>p(e),children:(0,u.jsx)("svg",{style:i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 42",fill:"transparent",children:(0,u.jsx)("rect",{width:"100%",height:"100%"})})},e.id)}))})]}),(0,u.jsx)(He,{hideColorGroups:d,hideMaterialTitle:c,onMaterialSelected:o,selectedMaterialId:v}),!c&&(0,u.jsx)(Ae,{})]}):null},Re=e=>(0,u.jsx)(we,{createStore:Se,children:(0,u.jsx)(De,{...e})});var Ze=a(2306),Ve=a(1153);const qe={buttonContainer:"NavPart_buttonContainer__3whqC",showOptional:"NavPart_showOptional__s6PPL"},We=e=>{let{onClick:t,children:a,isOn:i,className:l}=e;const s="\n    ".concat(c.Z.togglePillButton,"\n    ").concat(l,"\n    ").concat(i?c.Z.on:"","\n  ");return(0,u.jsx)("button",{className:s,onClick:t,children:a})},Ye="Crystals_crystals__0r8Po",Ke="Crystals_crystal__i+MGa",Ue="Crystals_selected__67rK3",Xe=e=>{let{crystals:t,onCrystalSelected:a,selectedMaterialId:i}=e;return(0,u.jsx)("div",{className:Ye,children:null===t||void 0===t?void 0:t.map((e=>{var t,l,s;const n=null===(t=e.attributes)||void 0===t||null===(l=t.image.data)||void 0===l||null===(s=l.attributes)||void 0===s?void 0:s.url,o=i===e.id;return(0,u.jsx)("div",{className:"".concat(Ke," ").concat(o?Ue:""),onClick:()=>{a(e)},children:(0,u.jsx)("img",{src:n})},e.id)}))})},Qe=e=>{let{onCrystalSelected:t,selectedMaterialId:a}=e;const{data:i}=(0,H.Ss)(O.SL,{pagination:{pageSize:200}},{select:e=>{var t;return null===(t=e.crystals)||void 0===t?void 0:t.data}});return(0,u.jsx)(u.Fragment,{children:(null===i||void 0===i?void 0:i.length)&&(0,u.jsx)(Xe,{crystals:i,onCrystalSelected:t,selectedMaterialId:a})})},Je=e=>{var t,a,l,o,d,c,v,m;let{className:h,part:x}=e;const p=s()(qe.root,h),_=(0,i.b)((e=>e.selectedPart)),g=(0,i.b)((e=>e.setPart)),N=(0,i.b)((e=>e.removePart)),f=(0,i.b)((e=>e.parts)),j=(0,r.useMemo)((()=>f.find((e=>e.part.id===(null===x||void 0===x?void 0:x.id)))),[x]),[C,y]=(0,r.useState)(!1);let b=null===(t=f.find((e=>e.part.name===(null===_||void 0===_?void 0:_.name))))||void 0===t?void 0:t.material.id;if(null===x||void 0===x||null===(a=x.materialGroup)||void 0===a||!a.data)return null;const T=e=>{_&&e&&(b=e.id,g(_,e))};return(0,r.useEffect)((()=>{x.optional&&!C&&j&&y(!0)}),[]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(n.E.div,{className:p,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,u.jsx)("div",{className:qe.buttonContainer,children:x.optional&&(0,u.jsxs)(We,{className:qe.showOptional,isOn:C,onClick:()=>{return y(e=!C),void(e||N(x));var e},children:[C?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ve.iFH,{}),"\u2002Remove"]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ze.D0w,{}),"\u2002Add"]})," ",x.name]})}),(!x.optional||x.optional&&C)&&(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:"Crystals"!==x.name?(0,u.jsx)(Re,{materialGroup:x.materialGroup.data,materialType:null===j||void 0===j||null===(l=j.material)||void 0===l||null===(o=l.attributes)||void 0===o||null===(d=o.type)||void 0===d?void 0:d.data,colourGroup:null===j||void 0===j||null===(c=j.material)||void 0===c||null===(v=c.attributes)||void 0===v||null===(m=v.colourGroups)||void 0===m?void 0:m.data[0],onMaterialSelected:T,selectedMaterialId:b,hideColorGroups:"Crystals"===x.name,hideMaterialTitle:"Crystals"===x.name}):(0,u.jsx)(Qe,{onCrystalSelected:T,selectedMaterialId:b})})]},x.id)})},$e="FormInput_root__cf10F",et="FormInput_input__gRXur",tt="FormInput_label__9L2lb",at=e=>{let{className:t,placeholder:a,children:i,...l}=e;const n=s()($e,t);return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("input",{className:et,...l,placeholder:" "}),(0,u.jsx)("label",{className:tt,children:a}),i]})},it="FormSelect_root__li+Rt",lt="FormSelect_select__ftYcv",st="FormSelect_icon__juFw+",nt=e=>{let{className:t,children:a,...i}=e;const l=s()(it,t);return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("select",{className:lt,...i,children:a}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:st,viewBox:"0 0 18.108 30.546",children:(0,u.jsx)("path",{d:"m2.835 30.545-2.836-2.836 12.387-12.436L0 2.835 2.836-.001l15.272 15.274Z"})})]})},ot=(e,t,a)=>{let i="";if("KGS"===e)switch(!0){case 0<=t&&t<10:i="BABY";break;case 10<=t&&t<16:i="TODDLER";break;case 16<=t&&t<22:i="S-CHILD";break;case 22<=t&&t<30:i="M-CHILD";break;case 30<=t&&t<40:i="L-CHILD";break;case 40<=t&&t<50:i="YOUTH";break;case 50<=t&&t<59:i="XS";break;case 59<=t&&t<69:i="S";break;case 69<=t&&t<79:i="M";break;case 79<=t&&t<90:i="L";break;case 90<=t&&t<101:i="XL";break;case 101<=t&&t<111:i="2XL";break;case 111<=t&&t<120:i="3XL";break;case 120<=t:i="4XL"}else switch(!0){case 0<=t&&t<22:i="BABY";break;case 22<=t&&t<35.3:i="TODDLER";break;case 35.3<=t&&t<48.5:i="S-CHILD";break;case 48.5<=t&&t<66.1:i="M-CHILD";break;case 66.1<=t&&t<88.2:i="L-CHILD";break;case 88.2<=t&&t<110.2:i="YOUTH";break;case 110.2<=t&&t<130:i="XS";break;case 130<=t&&t<152.1:i="S";break;case 152.1<=t&&t<174.2:i="M";break;case 174.2<=t&&t<198.4:i="L";break;case 198.4<=t&&t<222.7:i="XL";break;case 222.7<=t&&t<244.7:i="2XL";break;case 244.7<=t&&t<264.6:i="3XL";break;case 264.6<=t:i="4XL"}return a.find((e=>{var t;return null===(t=e.sku)||void 0===t?void 0:t.endsWith(i)}))};var rt=a(9135);const dt={grey:"NavSize_grey__S6CU8",quickInfo:"NavSize_quickInfo__Tiyyr",variations:"NavSize_variations__cMdjc",sectionTitle:"NavSize_sectionTitle__Dn5R+",input:"NavSize_input__HkDjj",select:"NavSize_select__jpNez",unitToggle:"NavSize_unitToggle__LqIuI",toggleButton:"NavSize_toggleButton__5PZDI",toggleButtonSelected:"NavSize_toggleButtonSelected__au+Rx"},ct=e=>{let{className:t}=e;const a=s()(dt.root,t),l=(0,i.b)((e=>e.variations)),o=(0,i.b)((e=>e.setSizing)),d=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.weight})),c=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.height})),v=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.variation}));(0,r.useEffect)((()=>{if(null!==d&&void 0!==d&&d.value&&d.unit){const e=ot(d.unit,d.value,l);o(void 0,void 0,e)}}),[d,l]);const m=e=>{o({value:null===c||void 0===c?void 0:c.value,unit:e})},h=e=>{o(void 0,{value:null===d||void 0===d?void 0:d.value,unit:e})};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(n.E.div,{className:a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,u.jsx)("p",{className:"".concat(dt.quickInfo," ").concat(dt.grey),children:"When you enter your details, an automatic size will be suggested. You can manually over-ride this but we will check your size again when your order comes in."}),(0,u.jsx)("h3",{className:dt.sectionTitle,children:"Size Details"}),(0,u.jsx)(at,{type:"number",placeholder:"Enter Height",step:"0.1",required:!0,value:null!==c&&void 0!==c&&c.value?c.value:"",onChange:e=>{o({value:Number(e.target.value),unit:"CM"})},className:dt.input,children:(0,u.jsxs)("div",{className:dt.unitToggle,children:[(0,u.jsx)("button",{className:s()(dt.toggleButton,{[dt.toggleButtonSelected]:(null===c||void 0===c?void 0:c.unit)===rt.iI.HEIGHT.CM}),onClick:()=>m(rt.iI.HEIGHT.CM),children:rt.iI.HEIGHT.CM}),"/",(0,u.jsx)("button",{className:s()(dt.toggleButton,{[dt.toggleButtonSelected]:(null===c||void 0===c?void 0:c.unit)===rt.iI.HEIGHT.INCH}),onClick:()=>m(rt.iI.HEIGHT.INCH),children:rt.iI.HEIGHT.INCH})]})}),(0,u.jsx)(at,{type:"number",placeholder:"Enter Weight",step:"0.1",required:!0,value:null!==d&&void 0!==d&&d.value?d.value:"",onChange:e=>{o(void 0,{value:Number(e.target.value),unit:"KGS"})},className:dt.input,children:(0,u.jsxs)("div",{className:dt.unitToggle,children:[(0,u.jsx)("button",{className:s()(dt.toggleButton,{[dt.toggleButtonSelected]:(null===d||void 0===d?void 0:d.unit)===rt.iI.WEIGHT.KG}),onClick:()=>h(rt.iI.WEIGHT.KG),children:rt.iI.WEIGHT.KG}),"/",(0,u.jsx)("button",{className:s()(dt.toggleButton,{[dt.toggleButtonSelected]:(null===d||void 0===d?void 0:d.unit)===rt.iI.WEIGHT.LB}),onClick:()=>h(rt.iI.WEIGHT.LB),children:rt.iI.WEIGHT.LB})]})}),(0,u.jsx)("h3",{className:dt.sectionTitle,children:"Suggested Size"}),(0,u.jsx)(nt,{value:null===v||void 0===v?void 0:v.id,onChange:e=>{const t=e.target.value,a=l.find((e=>e.id===t));o(void 0,void 0,a)},className:dt.select,children:l.map((e=>(0,u.jsx)("option",{value:e.id,children:e.title},e.id)))})]})})},ut={arial:"NavText_arial__de7L4",oswald:"NavText_oswald__siLdE",college:"NavText_college__YR6iT",ballantines:"NavText_ballantines__1B1LU",navTextEdit:"NavText_navTextEdit__8WUIS",textItem:"NavText_textItem__nQrv4",textItemText:"NavText_textItemText__op7hZ",finishSelections:"NavText_finishSelections__fH4yd",disabled:"NavText_disabled__M-nHo",showOutline:"NavText_showOutline__T7KEv",fontSelection:"NavText_fontSelection__AH-QM",font:"NavText_font__v43yE",finishSelection:"NavText_finishSelection__CfQ+O",selected:"NavText_selected__SIXSo",pricing:"NavText_pricing__qUsci",materialGroup:"NavText_materialGroup__j+DTa",navTextsSelection:"NavText_navTextsSelection__gJNy+",title:"NavText_title__u+YKh",titleText:"NavText_titleText__lFoUP",textPreview:"NavText_textPreview__CfhSo",noText:"NavText_noText__Parmv",textPreview__imgContainer:"NavText_textPreview__imgContainer__6SJ9b",promptMessage:"NavText_promptMessage__iKeIZ",applyTextBtnContainer:"NavText_applyTextBtnContainer__I8nfd",navHeaderSaveText:"NavText_navHeaderSaveText__h8PoA",selectedCategoryItem:"NavText_selectedCategoryItem__jjmwJ",finishedCategoryItem:"NavText_finishedCategoryItem__AC3wU",categoryDisplayName:"NavText_categoryDisplayName__pATtN",textInputContainer:"NavText_textInputContainer__KQMDX",textInput:"NavText_textInput__Z49KW",textDone:"NavText_textDone__rPeDE",textPreviewTextInput:"NavText_textPreviewTextInput__lQXU8",doneBtn:"NavText_doneBtn__nCR9t"},vt={},mt=e=>{let{className:t,price:a,priceString:i}=e;const l=s()("price-item",vt.root,t),n=void 0!==a?"".concat("\xa3").concat(a.toFixed(2)):"".concat("\xa3").concat(i);return n?(0,u.jsx)("span",{className:l,children:n}):null},ht=e=>{var t,a,l,n,o,d,c,v,m,h,x,p,_;let{editText:g={},setIsPickingCrystal:N}=e;const{selectedName:f}=g,j=null===g||void 0===g||null===(t=g.crystalBackground)||void 0===t?void 0:t.id,[C,y]=(0,r.useState)(!(null===g||void 0===g||!g.crystalPrice)),[b,T]=(0,r.useState)(!(null===g||void 0===g||!g.puffPrice)),k=(0,r.useMemo)((()=>(null===f||void 0===f?void 0:f.id)===rt.gQ),[f]),{updateText:w}=(0,i.b)();if((0,r.useEffect)((()=>{T(!!g.puffPrice)}),[g.puffPrice]),!f)return null;const I=e=>{var t,a,i,l;null!==g&&void 0!==g&&g.key&&(y(e),w(g.key,e?{crystalPrice:{price:null===(t=f.attributes)||void 0===t||null===(a=t.crystalPrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=f.attributes)||void 0===i||null===(l=i.crystalPrice)||void 0===l?void 0:l.shopifyVariantId}}:{crystalPrice:void 0,crystalBackground:void 0}))},S=e=>{var t,a,i,l;null!==g&&void 0!==g&&g.key&&(T(e),w(g.key,e?{puffPrice:{price:null===(t=f.attributes)||void 0===t||null===(a=t.puffPrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=f.attributes)||void 0===i||null===(l=i.puffPrice)||void 0===l?void 0:l.shopifyVariantId}}:{puffPrice:void 0}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:ut.finishSelections,children:[(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:!C}),onClick:()=>{N&&N(!1),I(!1)},children:["No Crystals",(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:C}),onClick:()=>{I(!0),N&&N(!0)},children:["Add Crystals",(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:null===(a=f.attributes)||void 0===a||null===(l=a.crystalPrice)||void 0===l?void 0:l.price})]})]})]}),!C&&(0,u.jsxs)("div",{className:ut.finishSelections,children:[(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:!b}),onClick:()=>S(!1),children:["Flat",(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:b,[ut.disabled]:!k}),onClick:()=>S(!0),children:["Add 3D Puff",k?(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:null===(n=f.attributes)||void 0===n||null===(o=n.puffPrice)||void 0===o?void 0:o.price})]}):(0,u.jsx)("div",{className:ut.pricing,children:"(Only available for luxury colors)"})]})]}),C&&(0,u.jsx)(Re,{hideColorGroups:!0,materialGroup:null===(d=f.attributes)||void 0===d||null===(c=d.materialGroup)||void 0===c?void 0:c.data,materialType:null===(v=g.material)||void 0===v||null===(m=v.attributes)||void 0===m||null===(h=m.type)||void 0===h?void 0:h.data,colourGroup:null===(x=g.material)||void 0===x||null===(p=x.attributes)||void 0===p||null===(_=p.colourGroups)||void 0===_?void 0:_.data[0],onMaterialSelected:e=>{null!==g&&void 0!==g&&g.key&&w(g.key,{crystalBackground:e})},className:ut.materialGroup,selectedMaterialId:j})]})},xt=e=>{var t,a,l,n,o,d,c,v,m;let{editText:h={}}=e;const x=(0,i.b)((e=>e.updateText)),p=null===h||void 0===h||null===(t=h.material)||void 0===t?void 0:t.id,{selectedName:g}=h,N=(0,r.useRef)(g),{data:f}=(0,H.GE)(O.SL,{},{select:e=>{var t;return null===(t=e.names)||void 0===t?void 0:t.data}});(0,r.useEffect)((()=>{var e,t,a,i,l,s,n,o,r,d,c,u,v;null!==h&&void 0!==h&&h.key&&g&&N.current!==g&&(N.current=g,x(h.key,{basePrice:{price:null===(e=g.attributes)||void 0===e||null===(t=e.basePrice)||void 0===t?void 0:t.price,quantity:1,shopifyVariantId:null===(a=g.attributes)||void 0===a||null===(i=a.basePrice)||void 0===i?void 0:i.shopifyVariantId},letterPrice:{price:null===(l=g.attributes)||void 0===l||null===(s=l.letterPrice)||void 0===s?void 0:s.price,quantity:1,shopifyVariantId:null===(n=g.attributes)||void 0===n||null===(o=n.letterPrice)||void 0===o?void 0:o.shopifyVariantId},nameType:{id:g.id,name:null===(r=g.attributes)||void 0===r?void 0:r.name},material:void 0,...h.outline?{outlinePrice:{price:null===(d=g.attributes)||void 0===d||null===(c=d.outlinePrice)||void 0===c?void 0:c.price,quantity:1,shopifyVariantId:null===(u=g.attributes)||void 0===u||null===(v=u.outlinePrice)||void 0===v?void 0:v.shopifyVariantId}}:{},puffPrice:void 0}))}),[g]);return(0,u.jsxs)(u.Fragment,{children:[!g&&(0,u.jsx)("i",{className:ut.promptMessage,children:"Select a text color type"}),(0,u.jsx)("div",{className:ut.categoryDisplayName,children:"Choose Color:"}),(0,u.jsx)("div",{className:ut.finishSelections,children:null===f||void 0===f?void 0:f.map((e=>{var t,a,i,l,n;return(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:g&&e.id===g.id}),onClick:()=>{return t=e,void(null!==h&&void 0!==h&&h.key&&x(h.key,{selectedName:t}));var t},children:[_({textType:null===(t=e.attributes)||void 0===t?void 0:t.name}),(0,u.jsxs)("div",{className:ut.pricing,children:[(0,u.jsx)(mt,{price:null===(a=e.attributes)||void 0===a||null===(i=a.basePrice)||void 0===i?void 0:i.price})," + ",(0,u.jsx)(mt,{price:null===(l=e.attributes)||void 0===l||null===(n=l.letterPrice)||void 0===n?void 0:n.price})," per letter"]})]},e.id)}))}),g&&(0,u.jsx)(Re,{hideColorGroups:!0,materialGroup:null===g||void 0===g||null===(a=g.attributes)||void 0===a||null===(l=a.materialGroup)||void 0===l?void 0:l.data,materialType:null===h||void 0===h||null===(n=h.material)||void 0===n||null===(o=n.attributes)||void 0===o||null===(d=o.type)||void 0===d?void 0:d.data,colourGroup:null===h||void 0===h||null===(c=h.material)||void 0===c||null===(v=c.attributes)||void 0===v||null===(m=v.colourGroups)||void 0===m?void 0:m.data[0],onMaterialSelected:e=>{null!==h&&void 0!==h&&h.key&&x(h.key,{material:e})},className:ut.materialGroup,selectedMaterialId:p})]})},pt=e=>{var t,a,l,n,o,d,c,v,m,h,x;let{editText:p={},setIsPickingOutline:_}=e;const[g,N]=(0,r.useState)(!(null===p||void 0===p||!p.outline)),f=null===p||void 0===p||null===(t=p.outline)||void 0===t?void 0:t.id,{updateText:j}=(0,i.b)(),{selectedName:C}=p;if(!C)return null;const y=e=>{N(e),!e&&null!==p&&void 0!==p&&p.key&&j(p.key,{outline:void 0,outlinePrice:void 0})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:s()(ut.showOutline,ut.finishSelections),children:[(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:!g}),onClick:()=>{y(!1),_&&_(!1)},children:["No Outline",(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(ut.finishSelection,{[ut.selected]:g}),onClick:()=>{y(!0),_&&_(!0)},children:["Add Outline",(0,u.jsxs)("div",{className:ut.pricing,children:[" +",(0,u.jsx)(mt,{price:null===(a=C.attributes)||void 0===a||null===(l=a.outlinePrice)||void 0===l?void 0:l.price})]})]})]}),g&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Re,{hideColorGroups:!0,materialGroup:null===C||void 0===C||null===(n=C.attributes)||void 0===n||null===(o=n.outlineGroup)||void 0===o?void 0:o.data,materialType:null===p||void 0===p||null===(d=p.outline)||void 0===d||null===(c=d.attributes)||void 0===c||null===(v=c.type)||void 0===v?void 0:v.data,colourGroup:null===p||void 0===p||null===(m=p.outline)||void 0===m||null===(h=m.attributes)||void 0===h||null===(x=h.colourGroups)||void 0===x?void 0:x.data[0],onMaterialSelected:e=>{var t,a,i,l;null!==p&&void 0!==p&&p.key&&j(p.key,{outline:e,outlinePrice:{price:null===(t=C.attributes)||void 0===t||null===(a=t.outlinePrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=C.attributes)||void 0===i||null===(l=i.outlinePrice)||void 0===l?void 0:l.shopifyVariantId}})},className:ut.materialGroup,selectedMaterialId:f})})]})},_t=[{name:"Arial",className:ut.arial,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/arial-bold-webfont.woff"},{name:"Oswald",className:ut.oswald,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/oswald-semibold.woff"},{name:"College",className:ut.college,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/college_block-webfont.woff"},{name:"Ballantines",className:ut.ballantines,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/ballantines-bold-webfont.woff"}],gt=e=>{var t;let{className:a,editText:l}=e;const n=T("popupContainer"),[o,d]=(0,r.useState)(null===l||void 0===l?void 0:l.text),[c,v]=(0,r.useState)(null!==(t=_t.find((e=>(null===l||void 0===l?void 0:l.font)===e.url)))&&void 0!==t?t:_t[0]),{addText:m,updateText:h}=(0,i.b)((e=>e));(0,r.useEffect)((()=>{null!==l&&void 0!==l&&l.key?h(l.key,{font:c.url,edit:!0}):c&&m({font:c.url})}),[c]);return n?(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("div",{className:ut.categoryDisplayName,children:"Choose Font:"}),(0,u.jsx)("div",{className:ut.fontSelection,children:_t.map((e=>(0,u.jsx)("div",{onClick:()=>(e=>{v(e)})(e),className:s()(ut.font,e.className,{[ut.selected]:c.name===e.name}),children:e.name},e.name)))})]}):null},Nt=e=>{let{className:t,text:a,setShowSelector:l}=e;const{updateText:n,deleteText:o}=(0,i.b)((e=>e)),r=(s()(ut.root,t),()=>{a.key&&(n(a.key,{edit:!0}),l&&l(!0))});return(0,u.jsxs)("div",{className:ut.textItem,onClick:r,children:[(0,u.jsx)("div",{className:ut.textItemText,children:a.text}),(0,u.jsx)(F,{toggleVisibility:()=>{a.key&&n(a.key,{isVisible:"undefined"!==typeof a.isVisible&&!a.isVisible})},onEdit:r,onDelete:()=>{a.key&&o(a.key)},isVisible:a.isVisible})]})},ft=e=>{let{onAddTextClicked:t,onTextSelected:a}=e;const l=(0,i.b)((e=>e.texts));return(0,u.jsx)("div",{className:ut.navTextsSelection,children:l.map((e=>(0,u.jsx)(Nt,{text:e,setShowSelector:a},e.key)))})};function jt(e){var t,a,i,l,s;return null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(a=t.images)||void 0===a||null===(i=a.find((e=>"map"===(null===e||void 0===e?void 0:e.mapType))))||void 0===i||null===(l=i.image.data)||void 0===l||null===(s=l.attributes)||void 0===s?void 0:s.formats.large.url}const Ct=a(1627).H.instance();async function yt(e){let{img:t,hasPuff:a,blur:i}=e;const l=a?i||7:1;return Ct.generateFromImage(t,{strength:.5,blur:l,level:1})}class bt{constructor(e){let{hasPuff:t,toNormalMap:a,text:i,patternType:l}=e;this.canvas=void 0,this.ctx=void 0,this.outlineCanvas=void 0,this.outlineCtx=void 0,this.normalMapTextureCanvas=void 0,this.normalMapTextureCtx=void 0,this.normalMapCanvas=void 0,this.normalMapCtx=void 0,this.normalMapOutlineTextureCanvas=void 0,this.normalMapOutlineTextureCtx=void 0,this.normalMapOutlineCanvas=void 0,this.normalMapOutlineCtx2=void 0,this.crystalBgPatternCanvas=void 0,this.crystalBgPatternCtx=void 0,this.hasPuff=void 0,this.toNormalMap=void 0,this.patternType=void 0,this.text=void 0,this.canvasHeight=void 0,this.canvasWidth=void 0,this.fontSize=void 0,this.outlineWidth=void 0,this.hasPuff=t,this.toNormalMap=a,this.patternType=l,this.text=i,this.fontSize=360,this.canvasHeight=400,this.canvasWidth=3200,this.outlineWidth=20,this.canvas=document.createElement("canvas"),this.canvas.height=this.canvasHeight,this.canvas.width=this.canvasWidth,this.ctx=this.canvas.getContext("2d"),this.outlineCanvas=document.createElement("canvas"),this.outlineCanvas.height=this.canvasHeight,this.outlineCanvas.width=this.canvasWidth,this.outlineCtx=this.outlineCanvas.getContext("2d"),this.normalMapTextureCanvas=document.createElement("canvas"),this.normalMapTextureCanvas.height=this.canvasHeight,this.normalMapTextureCanvas.width=this.canvasWidth,this.normalMapTextureCtx=this.normalMapTextureCanvas.getContext("2d"),this.normalMapCanvas=document.createElement("canvas"),this.normalMapCanvas.height=this.canvasHeight,this.normalMapCanvas.width=this.canvasWidth,this.normalMapCtx=this.normalMapCanvas.getContext("2d"),this.normalMapOutlineTextureCanvas=document.createElement("canvas"),this.normalMapOutlineTextureCanvas.height=this.canvasHeight,this.normalMapOutlineTextureCanvas.width=this.canvasWidth,this.normalMapOutlineTextureCtx=this.normalMapOutlineTextureCanvas.getContext("2d"),this.normalMapOutlineCanvas=document.createElement("canvas"),this.normalMapOutlineCanvas.height=this.canvasHeight,this.normalMapOutlineCanvas.width=this.canvasWidth,this.normalMapOutlineCtx2=this.normalMapOutlineCanvas.getContext("2d"),this.crystalBgPatternCanvas=document.createElement("canvas"),this.crystalBgPatternCanvas.height=this.canvasHeight,this.crystalBgPatternCanvas.width=this.canvasWidth,this.crystalBgPatternCtx=this.crystalBgPatternCanvas.getContext("2d")}clear(){var e,t;null===(e=this.ctx)||void 0===e||e.clearRect(0,0,this.canvas.width,this.canvas.height),null===(t=this.outlineCtx)||void 0===t||t.clearRect(0,0,this.canvas.width,this.canvas.height)}async drawImg(e,t){e.drawImage(t,0,0,this.canvas.width,this.canvas.height)}showTestCanvas(e){document.getElementById("testPreview").innerHTML=""}async maskImage(e,t){e.globalCompositeOperation="source-in",await this.drawImg(e,t),e.globalCompositeOperation="source-over"}drawPreviewText(e){this.text&&(e.font="".concat(this.fontSize,"px testFont"),e.textAlign="center",e.fillText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4))}drawPreviewOutlineText(){this.text&&(this.outlineCtx.font="".concat(this.fontSize,"px testFont"),this.outlineCtx.textAlign="center",this.outlineCtx.lineWidth=this.outlineWidth,this.outlineCtx.strokeText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4))}drawPreviewOutlineOnlyText(e){this.text&&(e.font="".concat(this.fontSize,"px testFont"),e.textAlign="center",e.lineWidth=30,e.fillStyle="green",e.strokeText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4),e.globalCompositeOperation="destination-out",e.fillText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4),e.globalCompositeOperation="source-over")}async drawNormalMap(e){if(this.drawPreviewText(this.normalMapTextureCtx),e){const t=this.normalMapTextureCtx.createPattern(e,"repeat");if(!t)return;this.normalMapTextureCtx.globalCompositeOperation="source-in",this.normalMapTextureCtx.rect(0,0,this.canvasWidth,this.canvasHeight),this.normalMapTextureCtx.fillStyle=t,this.normalMapTextureCtx.fill(),this.normalMapTextureCtx.globalCompositeOperation="source-over"}const t=this.toNormalMap?await yt({img:this.normalMapTextureCanvas,hasPuff:this.hasPuff}):this.normalMapTextureCanvas;this.normalMapCtx.drawImage(t,0,0)}async drawOutlineNormalMap(e){if(this.drawPreviewOutlineOnlyText(this.normalMapOutlineTextureCtx),e){const t=this.normalMapOutlineTextureCtx.createPattern(e,"repeat");if(!t)return;this.normalMapOutlineTextureCtx.globalCompositeOperation="source-in",this.normalMapOutlineTextureCtx.rect(0,0,this.canvasWidth,this.canvasHeight),"crystals"!==this.patternType&&(this.normalMapOutlineTextureCtx.fillStyle=t),this.normalMapOutlineTextureCtx.fill(),this.normalMapOutlineTextureCtx.globalCompositeOperation="source-over"}const t=this.toNormalMap||"crystals"===this.patternType?await yt({img:this.normalMapOutlineTextureCanvas,hasPuff:"crystals"===this.patternType||this.hasPuff,blur:4}):this.normalMapOutlineTextureCanvas;this.normalMapOutlineCtx2.drawImage(t,0,0)}async drawCrystalBg(e,t){const a=this.crystalBgPatternCtx.createPattern(t,"repeat");a&&(this.crystalBgPatternCtx.rect(0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.fillStyle=a,this.crystalBgPatternCtx.fill(),this.crystalBgPatternCtx.globalCompositeOperation="source-in",this.crystalBgPatternCtx.globalAlpha=.9,this.crystalBgPatternCtx.drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.drawImage(e,0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.globalCompositeOperation="source-over",this.outlineCtx.drawImage(this.crystalBgPatternCanvas,0,0))}printTextMapToStrokeMap(){this.normalMapCtx.globalCompositeOperation="destination-in",this.normalMapCtx.drawImage(this.normalMapTextureCanvas,0,0),this.normalMapCtx.globalCompositeOperation="source-over",this.normalMapOutlineCtx2.drawImage(this.normalMapCanvas,0,0)}async previewText(e){let{material:t,outline:a,previewImg:i,normalMapPatternImg:l,crystalBgPatternImg:s,crystalBgImg:n}=e;this.text&&(this.clear(),this.showTestCanvas(this.normalMapTextureCanvas),await this.drawNormalMap(l),await this.drawOutlineNormalMap(l),this.printTextMapToStrokeMap(),a&&(this.drawPreviewOutlineText(),await this.maskImage(this.outlineCtx,a)),this.drawPreviewText(this.ctx),t&&await this.maskImage(this.ctx,t),this.outlineCtx.drawImage(this.canvas,0,0),i&&(i.src=this.outlineCanvas.toDataURL()),n&&s&&this.drawCrystalBg(n,s))}mergeCanvas(){this.outlineCtx.drawImage(this.canvas,0,0)}getOutlineCanvas(){return this.outlineCanvas}getNormalMapTextureCanvas(){return this.normalMapTextureCanvas}getNormalMapOutlineCanvas(){return this.normalMapOutlineCanvas}}var Tt=a(7760);const kt=e=>{var t;let{editText:a,mainTextInputRef:l}=e;const s=(0,r.useRef)(null),[n,o]=(0,r.useState)(null===a||void 0===a?void 0:a.font),[d,c]=(0,r.useState)(!1),v=!(null===a||void 0===a||!a.crystalPrice),m="2"===(null===a||void 0===a||null===(t=a.selectedName)||void 0===t?void 0:t.id),h=!(null===a||void 0===a||!a.puffPrice||v),x=!v,p=function(e){let{hasCrystals:t,isLuxury:a}=e;return!t&&a?"embroidery":t?"crystals":""}({hasCrystals:v,isLuxury:m}),{updateText:_,addText:g,isMinimizedCustomiserNav:N}=(0,i.b)(),f=T("NavHeaderAfter"),j=(0,r.useMemo)((()=>Fe(jt(null===a||void 0===a?void 0:a.material))),[null===a||void 0===a?void 0:a.material]),C=(0,r.useMemo)((()=>Fe(jt(null===a||void 0===a?void 0:a.outline))),[null===a||void 0===a?void 0:a.outline]),y=(0,r.useMemo)((()=>Fe("/Fabric_Knitted_006_height_small.png")),[]),b=(0,r.useMemo)((()=>Fe("/crystal-12.png")),[]),w=(0,r.useMemo)((()=>Fe(jt(null===a||void 0===a?void 0:a.crystalBackground))),[null===a||void 0===a?void 0:a.crystalBackground]),I=(0,r.useMemo)((()=>Fe("/crystal-bg-pattern.png")),[]);return(0,r.useEffect)((()=>{const e=s.current;(async()=>{const t=new bt({hasPuff:h,toNormalMap:x,patternType:p,text:null===a||void 0===a?void 0:a.text});if(!a||!a.key||!d)return void t.clear();if(!a.text)return t.clear(),void _(a.key,{preview:new Tt.CanvasTexture(t.getOutlineCanvas())});n!==(null===a||void 0===a?void 0:a.font)&&(o(null===a||void 0===a?void 0:a.font),await async function(e){const t=new FontFace("testFont","url(".concat(e,")"));await t.load(),document.fonts.add(t)}(null===a||void 0===a?void 0:a.font));const i=(null===a||void 0===a?void 0:a.material)&&await j,l=(null===a||void 0===a?void 0:a.outline)&&await C,s=await y,r=await b,c=await I,u=(null===a||void 0===a?void 0:a.crystalBackground)&&await w,g=m&&!h&&(v?r:s);await t.previewText({material:i,outline:l,previewImg:e,normalMapPatternImg:g,crystalBgPatternImg:c,crystalBgImg:u}),_(a.key,{preview:new Tt.CanvasTexture(t.getOutlineCanvas()),normalMap:new Tt.CanvasTexture(t.getNormalMapOutlineCanvas())})})()}),[null===a||void 0===a?void 0:a.text,null===a||void 0===a?void 0:a.material,null===a||void 0===a?void 0:a.outline,null===a||void 0===a?void 0:a.font,null===a||void 0===a?void 0:a.crystalBackground,d,null===a||void 0===a?void 0:a.puffPrice,null===a||void 0===a?void 0:a.crystalPrice]),f?(0,k.createPortal)((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"testPreview",style:{position:"absolute",zIndex:"100"}}),!N&&(null===a||void 0===a?void 0:a.text)&&(0,u.jsx)("div",{className:ut.textPreview,children:(0,u.jsx)("div",{children:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:ut.textPreview__imgContainer,style:{display:"none"},children:(0,u.jsx)("img",{height:400,width:3200,ref:e=>{s.current=e,c(!!e)}})})})})})]}),f):null},wt=e=>{let{onClick:t,isClickable:a,isVisible:i}=e;const l="\n    ".concat(c.Z.stepsNavButtons,"\n    ").concat(c.Z.stepsNavButtons__next,"\n    ").concat("undefined"===typeof a||a?c.Z.clickable:"","\n    ").concat("undefined"===typeof i||i?c.Z.visible:"","\n  ");return(0,u.jsxs)("button",{className:l,onClick:t,children:["Next \xa0",(0,u.jsx)(B.dhL,{})]})},It="NavTextNavSteps_root__Ys0fR",St=e=>{let{onClick:t,isClickable:a,isVisible:i}=e;const l="\n    ".concat(c.Z.stepsNavButtons,"\n    ").concat(c.Z.stepsNavButtons__cancel,"\n    ").concat("undefined"===typeof a||a?c.Z.clickable:"","\n    ").concat("undefined"===typeof i||i?c.Z.visible:"","\n  ");return(0,u.jsx)("button",{className:l,onClick:t,children:"Cancel"})},Mt=e=>{let{onClick:t,isClickable:a,isVisible:i}=e;const l="\n    ".concat(c.Z.stepsNavButtons,"\n    ").concat(c.Z.stepsNavButtons__next,"\n    ").concat("undefined"===typeof a||a?c.Z.clickable:"","\n    ").concat("undefined"===typeof i||i?c.Z.visible:"","\n  ");return(0,u.jsx)("button",{className:l,onClick:t,children:"Save"})},Pt=e=>{let{isClickableNext:t,isClickablePrev:a,isVisibleNext:i,isVisiblePrev:l,onClickNext:s,onClickPrev:n,onClickCancel:o,onClickSave:r}=e;const d=T("CustomiserNavActions"),c=T("popupContainer");return d&&c?(0,u.jsx)(u.Fragment,{children:k.createPortal((0,u.jsxs)("div",{className:It,children:[!0!==l&&(0,u.jsx)(St,{onClick:o||(()=>{})}),("undefined"===typeof i||i)&&(0,u.jsx)(wt,{isClickable:t,isVisible:i,onClick:s||(()=>{})}),!0!==i&&(0,u.jsx)(Mt,{onClick:r||(()=>{})})]}),d)}):null},Bt=(0,r.forwardRef)(((e,t)=>{let{editText:a,showEditText:l}=e;const[n,o]=(0,r.useState)(null===a||void 0===a?void 0:a.text),{updateText:d,addText:c}=(0,i.b)((e=>e)),v=l,m=v?null!==a&&void 0!==a&&a.text?a.text:"":n||"",h=s()($e,ut.textInput),x=()=>{null!==a&&void 0!==a&&a.key?d(a.key,{text:n,edit:!0}):n&&c({text:n,decalFreeze:!0,decalPosition:[-.01989325641440387,2.436930108198209,1.6226380277735046],decalOrientation:[-.14799034762565572,-.17866277612764514,-.026487426629834374,"XYZ"]})};return(0,r.useEffect)((()=>{v&&x()}),[n]),(0,r.useEffect)((()=>{a||o("")}),[v]),(0,u.jsx)("div",{className:ut.textInputContainer,children:(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("input",{className:et,onChange:e=>{o(e.target.value)},ref:t,placeholder:"Type text here...",value:m}),!l&&(0,u.jsx)("span",{onClick:()=>{n&&x()},className:ut.doneBtn,children:"Done"})]})})}));Bt.displayName="NavTextInput";const Ft=Bt,Gt="DontShowAgain_root__zOI6r",Ht="DontShowAgain_notifContainer__adaGf",Ot="DontShowAgain_notifControlContainer__gVQq0",Et="DontShowAgain_btnContainer__We3vg",Lt=e=>{let{children:t,notifName:a="hideShowNotification",setShowNotification:i,cb:l}=e;const[s,n]=(0,r.useState)(!1),o=()=>{i(!1),s&&localStorage.setItem(a,"1")};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:Gt,children:(0,u.jsxs)("span",{className:Ht,children:[t,(0,u.jsxs)("div",{className:Ot,children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",onChange:e=>n(e.target.checked)}),"Don't show again"]}),(0,u.jsxs)("span",{className:Et,children:[(0,u.jsx)("button",{onClick:o,children:"Cancel"}),(0,u.jsx)("button",{onClick:()=>{o(),l&&l()},children:"Okay"})]})]})]})})})},zt="InfoButton_iInfo__0SLm4",At="InfoButton_iInfo__bgOnclick__3oQL8",Dt="InfoButton_iInfo__display__nKOtb",Rt="InfoButton_iInfo__header__IkMmc",Zt="InfoButton_iInfo__body__6LPfY",Vt="InfoButton_iInfo__sampleImg__bKcTE",qt="InfoButton_iInfo__closebtn__+Dwj4",Wt="InfoButton_iInfo__styleName__3bDQ2",Yt="InfoButton_iInfo__title__SHp10",Kt=e=>{let{title:t,cb:a,children:i}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:zt,onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("div",{className:At,onClick:a}),(0,u.jsxs)("div",{className:Dt,children:[(0,u.jsxs)("div",{className:Rt,children:[(0,u.jsx)("span",{className:Yt,children:"".concat(t)||"EXAMPLES"}),(0,u.jsx)("span",{className:qt,onClick:a,children:"x"})]}),(0,u.jsx)("div",{className:Zt,children:i||(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:Wt,children:"PRINTED"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119118469/names-printed.jpg",alt:""}),(0,u.jsx)("div",{className:Wt,children:"EMBROIDERY"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119222257/names-flat-embroidery.png",alt:""}),(0,u.jsx)("div",{className:Wt,children:"3D EMBROIDERY"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119313289/names-3d-embroidery.jpg",alt:""}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119344264/names-3d-embroidery-perspective.jpg",alt:""}),(0,u.jsx)("div",{className:Wt,children:"3D CRYSTALS"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119433059/names-3d-crystals.jpg",alt:""}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526727869947/names-3d-crystal-perspective.jpg",alt:""}),(0,u.jsx)("div",{className:Wt,children:"GLITTER"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119258957/names-glitter.pg.jpg",alt:""}),(0,u.jsx)("div",{className:Wt,children:"NAME PATCH"}),(0,u.jsx)("img",{className:Vt,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119480153/name-patch-on-shorts.jpg",alt:""})]})})]})]})})},Ut=e=>{let{showEditText:t,setShowEditText:a}=e;const[l,s]=(0,r.useState)(0),n=(0,i.b)((e=>e.texts)),o=(0,i.b)((e=>e.updateText)),d=(0,i.b)((e=>e.deleteText)),c=((0,i.b)((e=>e.updateIsMinimizedCustomiserNav)),(0,i.b)((e=>e.isMinimizedCustomiserNav)),(0,r.useMemo)((()=>null===n||void 0===n?void 0:n.find((e=>e.edit))),[n]));console.log("editText",c);const[v,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),p=(T("NavHeader"),T("popupContainer")),_=T("NavHeaderNav"),g=(0,r.useRef)(null),N=2===l&&v&&!(null!==c&&void 0!==c&&c.outline),f=3===l&&h&&!(null!==c&&void 0!==c&&c.crystalBackground),j=(3===l&&(null===c||void 0===c||c.crystalBackground),!(null===c||void 0===c||!c.text)),C=!(null===c||void 0===c||!c.material),y=(null===c||void 0===c||c.outline,null===c||void 0===c||c.crystalBackground,[j,C,!N,!f]),b=["Font","Color","Outline","Finish","Transform"],w=b.length,I=0!==l,S=y[l||0],M="number"===typeof l&&l<4;(0,r.useEffect)((()=>{null!==c&&void 0!==c&&c.key?a(!0):a(!1)}),[c]),(0,r.useEffect)((()=>(a(void 0!==(null===c||void 0===c?void 0:c.key)),()=>{a(!1)})),[]);const P=e=>{(0,r.startTransition)((()=>{null!==c&&void 0!==c&&c.key&&o(c.key,{decalScale:Number(e)})}))},F=e=>{(0,r.startTransition)((()=>{null!==c&&void 0!==c&&c.key&&o(c.key,{decalRotation:Number(e)})}))},G=()=>{null!==c&&void 0!==c&&c.key&&o(c.key,{decalFreeze:!1,edit:!1,hasApplied:!0}),s(0),a(!1)},H=!localStorage.getItem("confirmCancelText"),[O,E]=(0,r.useState)(!1),[L,z]=(0,r.useState)(!0),A=()=>{null!==c&&void 0!==c&&c.key&&(null!==c&&void 0!==c&&c.text&&(null===c||void 0===c||!c.text||null!==c&&void 0!==c&&c.hasApplied)?G():d(c.key))},D=()=>{if(void 0===l)s(0);else if(l<w-1){switch(l){case 0:if(null===c||void 0===c||!c.text)return void alert("Please enter a text to continue");break;case 1:if(null===c||void 0===c||!c.selectedName)return void alert("Select a text color type");if(null===c||void 0===c||!c.material)return void alert("Select a color for text");break;case 2:if(v&&(null===c||void 0===c||!c.outline))return void alert("Select an outline")}s(l+1)}},R=()=>{void 0===l?s(0):l>0&&s(l-1)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{children:["Transform"!==b[l||0]&&(0,u.jsx)(Ft,{editText:c,showEditText:t}),t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:ut.navTextEdit,children:[(0,u.jsx)(kt,{mainTextInputRef:g,editText:c}),(()=>{switch(l){case 0:return(0,u.jsx)(gt,{editText:c});case 1:return(0,u.jsx)(xt,{editText:c});case 2:return(0,u.jsx)(pt,{editText:c,setIsPickingOutline:m});case 3:return(0,u.jsx)(ht,{setIsPickingCrystal:x,editText:c});case 4:return(0,u.jsx)(U,{scale:null===c||void 0===c?void 0:c.decalScale,rotation:null===c||void 0===c?void 0:c.decalRotation,onScale:P,onRotate:F})}})(),(0,u.jsx)(Pt,{onClickNext:D,onClickPrev:R,onClickCancel:()=>{null!==c&&void 0!==c&&c.text?E(!0):A()},onClickSave:G,isVisiblePrev:I,isVisibleNext:M,isClickableNext:S}),(null===c||void 0===c?void 0:c.key)&&c.decalPosition&&p&&(0,u.jsx)(u.Fragment,{children:L&&4===l&&(0,k.createPortal)((0,u.jsxs)(Kt,{cb:()=>{z(!1)},title:"Apply Text",children:[(0,u.jsx)("h5",{children:"Click where you want the text to go"}),(0,u.jsx)("img",{style:{maxWidth:"100%"},src:"examples/NavText/sample-apply-text.png"})]}),p)})]}),p&&H&&O&&(0,k.createPortal)((0,u.jsx)(Lt,{cb:A,setShowNotification:E,notifName:"editTextCancelText",children:(0,u.jsx)("span",{children:"Cancel text customization?"})}),p),_&&(0,k.createPortal)((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(le," ").concat(I?"":se),onClick:R,children:(0,u.jsx)(B._HU,{})}),(0,u.jsxs)("div",{className:te,children:[(0,u.jsx)("span",{children:b[l||0]}),(0,u.jsxs)("span",{children:[(l||0)+1,"/",b.length]})]}),(0,u.jsx)("span",{className:"".concat(le," ").concat(M?"":se),onClick:D,children:(0,u.jsx)(B.H_v,{})})]}),_)]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ft,{onAddTextClicked:()=>{a(!0)}})})]})})},Xt={root:"CustomiserNav_root__rgnWr",open:"CustomiserNav_open__6TgJc",isFullscreen:"CustomiserNav_isFullscreen__xo92v",minimized:"CustomiserNav_minimized__-4C1L",actions:"CustomiserNav_actions__B0fm0",content:"CustomiserNav_content__whsIx",headerAfter:"CustomiserNav_headerAfter__bXrUD",navHeaderScroll:"CustomiserNav_navHeaderScroll__0nzPV",tab:"CustomiserNav_tab__El9gn",finished:"CustomiserNav_finished__aPBu9",navName:"CustomiserNav_navName__YLBS9",selected:"CustomiserNav_selected__x6zsL",navHeaderScroll__tabs:"CustomiserNav_navHeaderScroll__tabs__Kfm2J",navHeaderScroll__arrow:"CustomiserNav_navHeaderScroll__arrow__rs-4X",hasActions:"CustomiserNav_hasActions__xe43g",closed:"CustomiserNav_closed__fkIqu",navTabs:"CustomiserNav_navTabs__opEX5",navTab:"CustomiserNav_navTab__RDrBe",navTab__requiredIcon:"CustomiserNav_navTab__requiredIcon__V9kgy",hidden:"CustomiserNav_hidden__XKoeq"},Qt="QuickInfo_root__3V53K",Jt=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:Qt,children:t})},$t="NavProduction_root__WosDO",ea="NavProduction_productionCategories__k+0vt",ta="NavProduction_productionCategories__category__Kn49E",aa="NavProduction_productionCategories__title__rL+FK",ia="NavProduction_productionCategories__infoIcon__jlpLo";var la=a(5348);const sa=()=>{const{selectedNav:e,setSelectedNav:t}=(0,i.b)(),a=()=>{e&&e.index&&t(e.index+1)};return(0,u.jsxs)("div",{className:$t,children:[(0,u.jsx)(Jt,{children:"Choose how quickly you need us to work."}),(0,u.jsxs)("div",{className:ea,children:[(0,u.jsxs)("div",{className:ta,onClick:a,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:aa,children:"Standard Production"}),(0,u.jsx)("p",{children:"Approx 3-4 weeks production + delivery time"})]}),(0,u.jsx)("div",{className:ia,children:(0,u.jsx)(la.zXH,{})})]}),(0,u.jsxs)("div",{className:ta,onClick:a,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:aa,children:"Express"}),(0,u.jsx)("p",{children:"Approx 10-12 days production + delivery time (+ \xa329)"})]}),(0,u.jsx)("span",{className:ia,children:(0,u.jsx)(la.zXH,{})})]}),(0,u.jsxs)("div",{className:ta,onClick:a,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:aa,children:"Super Express"}),(0,u.jsx)("p",{children:"As fast as 6-8 days production + delivery time (+ \xa345)"})]}),(0,u.jsx)("span",{className:ia,children:(0,u.jsx)(la.zXH,{})})]})]})]})},na="NavBoxxerLogo_root__GOwtW",oa=()=>(0,u.jsxs)("div",{className:na,children:[(0,u.jsx)(Jt,{children:"To keep our prices reasonable, all products need to include a Boxxer logo. You can drag this to where you want it (except small waist band logos on shorts which are in set position). A fee applies if you want all logos removed."}),(0,u.jsx)(I,{widthType:"wide",type:"hollow",children:"Remove Boxxer Logo + \xa315"})]}),ra=e=>{let{className:t}=e;const[a,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)({left:0,top:0}),[v,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)([]),{selectedPart:_,selectedNav:g,texts:f,isMinimizedCustomiserNav:j,updateIsMinimizedCustomiserNav:C,setSelectedNav:y,navTabs:b,sizing:T,parts:k,flags:w,graphics:I}=(0,i.b)(),S=(0,r.useRef)(null),M=(0,r.useMemo)((()=>null===f||void 0===f?void 0:f.find((e=>e.edit))),[f]),P=((0,r.useMemo)((()=>"Text"===(null===g||void 0===g?void 0:g.name)&&M),[g,M]),s()(Xt.root,{[Xt.minimized]:j,[Xt.hasActions]:null===g||void 0===g?void 0:g.hasActions,[Xt.isFullscreen]:!1},t));(0,r.useEffect)((()=>{a&&S.current&&S.current.scrollTo({...d,behavior:"instant"})}),[a]);const B=()=>{a&&S.current&&c({left:S.current.scrollLeft,top:S.current.scrollTop}),l(!a)};(0,r.useEffect)((()=>{l(null===g&&null===_)}),[_,g]);const F=b.map(((e,t)=>{const a=e.items.every((e=>(0,m.Rg)({navItem:e,sizing:T,parts:k,texts:f,flags:w,images:I}))),i=e.items.some((e=>e.required));return(0,u.jsxs)("div",{className:"".concat(Xt.navTab," ").concat(a?Xt.finished:""),onClick:()=>{!function(e){y(b[e].items[0].index||0),C(!1)}(t)},children:[i&&(0,u.jsx)("span",{className:Xt.navTab__requiredIcon,children:"*"}),e.name]},e.name)}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(Xt.navTabs," ").concat(M?Xt.hidden:""),children:F}),(0,u.jsxs)(n.E.nav,{layout:"preserve-aspect",transition:{type:"spring",stiffness:700,damping:40},className:P,children:[(0,u.jsx)(ce,{className:Xt.header,toggle:()=>B(),isOpen:a,onClick:()=>{M||C(!0)},isMinimized:j}),(0,u.jsx)("div",{id:"NavHeaderAfter",className:Xt.headerAfter}),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{style:{background:"white"},children:"Loading..."}),children:(0,u.jsx)(o.M,{initial:!1,children:(0,u.jsx)(n.E.div,{id:"scrollable",className:"".concat(Xt.content," ").concat(a&&Xt.closed),initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1},collapsed:{opacity:0}},ref:e=>{S.current=e},children:a?null:"fitting"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(N,{finishedNavs:x,setFinishedNavs:p}):"names"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(Ut,{showEditText:v,setShowEditText:h}):"flags"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(X,{}):"images"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(_e,{}):"size"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(ct,{}):"production"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(sa,{}):"boxxer logo"===(null===g||void 0===g?void 0:g.type)?(0,u.jsx)(oa,{}):_?(0,u.jsx)(Je,{part:_}):null})})}),!a&&(null===g||void 0===g?void 0:g.hasActions)&&(0,u.jsxs)("div",{className:Xt.actions,children:[_&&(0,u.jsx)("div",{id:"CustomiserNavMaterial",style:{background:"white"}}),(0,u.jsx)("div",{id:"CustomiserNavActions"})]})]})]})};var da=a(9389);const ca="Header_root__cz6kt",ua="Header_total__nSueF",va="Header_total__title__b6vM7",ma="Header_total__price__fXB8-",ha="Header_addToBasket__T8GpW",xa="Header_btn__dB+Z6",pa=e=>{let{className:t}=e;const a=s()(ca,t),l=(0,i.b)((e=>e.total())),n=(0,i.b)((e=>e.designComplete())),{setResetCamera:o,setShow:r}=(0,da.H)(),d=(0,da.H)((e=>e.addingToCart));console.log("designComplete",n),console.log("addingToCart",d);(0,i.b)((e=>e.resetCustomerSelections));return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(I,{classNames:xa,color:"white",onClick:()=>{r(!1)},children:"BACK"}),(0,u.jsxs)("div",{className:ua,children:[(0,u.jsx)("span",{className:va,children:"Currency"})," ",(0,u.jsx)(mt,{className:ma,priceString:l})]}),(0,u.jsx)(I,{classNames:"".concat(ha," ").concat(xa),onClick:()=>{o()},isClickable:!n||d,color:"white",children:d?"Saving":"Add to basket"})]})},_a="Customiser_root__+9xV1",ga="Customiser_nav__xnqzP",Na="Customiser_modelContainer__FVL2o",fa="Customiser_model__jxaOf",ja="Customiser_controls__Ar93L",Ca="Customiser_background__qq7nU",ya="Customiser_loading__vNYyO",ba="Customiser_header__1SFjA",Ta="Customiser_leftControls__cuTha",ka="Customiser_rightControls__CMwBS",wa="Customiser_lrControls__-0Uyv",Ia="Customiser_controlIcon__IL-VC";var Sa=a(5902);const Ma=(0,r.lazy)((()=>Promise.all([a.e(912),a.e(354)]).then(a.bind(a,7354)))),Pa=e=>{let{className:t}=e;const{resetCustomerSelections:a,setCameraFocus:l,cameraFocus:n}=(0,i.b)(),[o,d]=(0,r.useState)(!1),[c,v]=(0,r.useState)(n);(0,r.useEffect)((()=>{/^[-+]?\d+(\.\d+)?$/.test(n)||(v(n),d(!0))}),[n]);const m=(0,r.useRef)(null),h=s()(_a,t,{});return(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("div",{id:"popupContainer",style:{position:"absolute",zIndex:"201"}}),(0,u.jsx)(ra,{className:ga}),(0,u.jsx)(pa,{className:ba}),(0,u.jsxs)("svg",{className:Ca,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 114.383 97.088",children:[(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{d:"M0 0h114.383v97.088H0z"})})}),(0,u.jsxs)("g",{clipPath:"url(#a)",fillRule:"evenodd",children:[(0,u.jsx)("path",{fill:"#e7e6e6",d:"M8.567 88.645v-.044c1.487-.24 2.986-.466 4.472-.716a1.278 1.278 0 0 0 .743-1.862 1.019 1.019 0 0 0-.949-.409c-2.928.338-5.845.747-8.785 1.147-.492.069-.709.447-.687 1.262.012 1.216.126 1.481.721 1.375 1.5-.243 3.008-.506 4.484-.753M23.905 77.54c-1.224.072-1.842.39-1.9 2.044a69.405 69.405 0 0 0 .011 5.312c.057 1.481.606 2.112 1.716 1.99q4.444-.488 8.888-1.012a1.851 1.851 0 0 0 1.659-1.975c.057-.853.1-1.709.1-2.562.023-.856.023-1.247 0-2.093-.068-1.6-.755-1.769-2.024-1.7Zm9.982-6.006c2.119 0 3.229 1.3 3.744 3.247a8.461 8.461 0 0 1 .32 2.222 225.099 225.099 0 0 1 0 7.896 8.3 8.3 0 0 1-.869 3.622 3.721 3.721 0 0 1-2.8 2.269c-4.072.553-8.121 1.15-12.182 1.784-1.773.306-3.145-1.253-3.523-3.993a25.755 25.755 0 0 1-.229-3.54c-.011-1.275-.006-2.556 0-3.834s.046-2.562.115-3.834c.091-1.944.606-4.015 1.887-5.128a2.565 2.565 0 0 1 1.533-.709Zm61.427 6.006v-6.006h13.325c1.682-.069 2.768 1.381 3.409 3.771a16.91 16.91 0 0 1 .538 4.281 18.216 18.216 0 0 1-.515 4.3 5.807 5.807 0 0 1-1.945 3.4c-.217.181-.469.34-.652.472.8 1.45 1.611 2.926 2.4 4.443a883.295 883.295 0 0 1 2.505 4.856c-.743-.163-1.453-.331-2.139-.472-1.041-.219-2.1-.381-3.157-.644a1.328 1.328 0 0 1-.732-.643c-.641-1.2-1.285-2.373-1.933-3.55-.633-1.148-1.292-2.3-1.91-3.431-.309-.522-.606-.819-1.041-.862a90.174 90.174 0 0 1-3.74-.481c-.366-.056-.481.116-.481.656.011 1.04.011 2.081.011 3.128v3.172c-1.235-.228-2.7-.472-3.946-.691v-12.17c3.752.156 7.526.293 11.278.4.492.013 1-.006 1.487 0 .56.016.789-.769.881-1.541.091-1.2-.149-2.053-.686-2.234a3.757 3.757 0 0 0-1.19-.16Zm-11.255 0v2.709l9.585.616v4.047l-9.631-.944v2.3l9.631 1.065v5.58c-4.838-.834-8.59-1.4-13.429-2.08v-19.3h13.431v6.006ZM37.072 90.367a232.526 232.526 0 0 1 3.775-5.125 219.554 219.554 0 0 1 3.786-4.809c-1.281-1.453-2.562-2.919-3.832-4.415s-2.439-2.915-3.709-4.484h5.5a1.331 1.331 0 0 1 .881.488c.7.84 1.322 1.559 2.02 2.375s1.407 1.625 2.116 2.431c.709-.84 1.417-1.682 2.127-2.512s1.413-1.643 2.128-2.466a.948.948 0 0 1 .652-.316h5.322c-1.224 1.384-2.475 2.827-3.7 4.237s-2.448 2.853-3.672 4.287c1.3 1.472 2.628 2.933 3.935 4.387s2.619 2.919 3.924 4.409c-1.865-.006-3.741.028-5.6.091a1.194 1.194 0 0 1-.789-.422q-1.116-1.213-2.23-2.434c-.732-.8-1.476-1.625-2.208-2.45-.755.928-1.511 1.855-2.265 2.8s-1.5 1.913-2.253 2.9c-.106.138-.274.327-.423.344-1.818.208-3.66.434-5.479.685m21.618-1.509c1.258-1.422 2.528-2.816 3.786-4.215s2.516-2.809 3.775-4.218q-1.922-2.231-3.832-4.428c-1.273-1.46-2.615-2.993-3.884-4.462h5.412a1.339 1.339 0 0 1 .881.459c.7.8 1.59 1.79 2.282 2.594s1.407 1.637 2.116 2.456c.709-.822 1.422-1.647 2.128-2.481s1.557-1.842 2.268-2.7a.959.959 0 0 1 .64-.34c1.773-.006 3.534 0 5.319.012-1.235 1.516-2.584 3.175-3.812 4.64s-2.459 2.884-3.683 4.293a234.511 234.511 0 0 1 3.935 4.959 262.195 262.195 0 0 1 3.935 5.293 296.137 296.137 0 0 0-5.6-.772 1.472 1.472 0 0 1-.8-.569c-.739-.948-1.48-1.9-2.219-2.822s-1.487-1.831-2.219-2.725q-1.132 1.247-2.253 2.49c-.749.829-1.511 1.652-2.265 2.478-.1.115-.274.26-.412.253a205.452 205.452 0 0 0-5.49-.2m-43.271-6.7a3.858 3.858 0 0 1 1.979 2.993 11.586 11.586 0 0 1-.24 5.3c-.549 1.89-1.6 3-2.962 3.29C9.494 94.797 4.8 95.888.1 97.088a.159.159 0 0 1-.1-.05V81.205c.274-.019.572-.041.881-.066 3.763-.328 7.5-.656 11.255-.981.377-.031.789 0 1.018-.622.32-.9-.034-2.037-.755-2H0V71.53h12.857a3.24 3.24 0 0 1 3.2 1.944 9.3 9.3 0 0 1 .721 4.4 8.384 8.384 0 0 1-1.361 4.277"}),(0,u.jsx)("path",{fill:"#e7e6e6",d:"m75.165 48.1-6.079-9.03v.049c-.057 1.036-.095 2.076-.183 3.112a2.019 2.019 0 0 1-.3.929l-8.448 12.034c-.249.368-.854 1.239-1.255 1.374a.382.382 0 0 1-.448-.158 2.924 2.924 0 0 1-.17-1.252v-.015l.451-9.913a.888.888 0 0 1 .121-.521l6.771-9.393a1.068 1.068 0 0 0 0-1.4l-6.516-9.933a3.453 3.453 0 0 1-.372-1.536l-.564-9.434c-.136-2.082.98-1.647 2.035 0l9.86 15.392 5.074-7.607c.439-.71.756-1.16 1.67-1.2a28.863 28.863 0 0 0 6.026-.866 2.49 2.49 0 0 1 .955-.113.381.381 0 0 1 .292.365 7.753 7.753 0 0 1-1.169 2.293L74.64 33.912a.971.971 0 0 0-.011 1.253l8.1 12.066a7.386 7.386 0 0 1 1.192 2.336.379.379 0 0 1-.247.33 2.314 2.314 0 0 1-1.008-.05 43.691 43.691 0 0 0-6.495-.95c-.5-.024-.775-.421-1.012-.8m-17.2-18.084 2.675 4.223a.378.378 0 0 1-.005.42L57.97 38.64a.386.386 0 0 1-.639 0l-2.729-4a.379.379 0 0 1-.005-.426l2.719-4.206a.386.386 0 0 1 .65 0m-13.64-.628 10.716-16.367c.911-1.366 2.032-2.329 1.921 0l-.453 9.457a3.209 3.209 0 0 1-.565 1.514l-6.217 9.551c-.31.474-.372.717-.048 1.2l6.446 9.577a1.569 1.569 0 0 1 .389.861l.454 9.969v.025a3.345 3.345 0 0 1-.187 1.236.385.385 0 0 1-.494.158 4.869 4.869 0 0 1-1.172-1.361l-9.863-14.918c-.149.21-.3.418-.441.636-1.474 2.327-2.954 4.649-4.408 6.989a1.51 1.51 0 0 1-1.168.806h-.025a40.188 40.188 0 0 0-6.467 1.047 3.664 3.664 0 0 1-1.08.156.385.385 0 0 1-.325-.453 11.67 11.67 0 0 1 1.3-2.279L40.716 34.9a.978.978 0 0 0 0-1.256L32.349 21.23a8.345 8.345 0 0 1-1.185-2.257.382.382 0 0 1 .294-.383 2.706 2.706 0 0 1 .969.1c1.112.258 2.222.524 3.342.747a22.428 22.428 0 0 0 3.334.462c.711.032 1.093.653 1.429 1.19 1 1.6 2.087 3.16 3.146 4.727a3.685 3.685 0 0 1 .542 2.108ZM57.652 0 45.465 18.084a.386.386 0 0 1-.628.017c-1.5-2-2.426-3.151-5.06-3.4a68.259 68.259 0 0 1-11.375-2.346c-3.454-.947-6.874-2.013-10.321-2.979l16.621 24.707a.379.379 0 0 1 0 .426L19.854 57.187c3.235-.656 6.473-1.24 9.736-1.751 3.484-.546 6.978-1.03 10.465-1.553a6.441 6.441 0 0 0 4.394-2.608l.623-.841a.385.385 0 0 1 .633.019L57.652 68.8l11.947-18.351a.386.386 0 0 1 .633-.019l.623.841a6.442 6.442 0 0 0 4.394 2.608c3.488.523 6.982 1.007 10.465 1.553 3.263.511 6.5 1.095 9.736 1.751L80.601 34.51a.378.378 0 0 1 0-.426L97.225 9.376c-3.447.965-6.868 2.031-10.321 2.979A68.266 68.266 0 0 1 75.528 14.7c-2.635.249-3.557 1.4-5.06 3.4a.386.386 0 0 1-.628-.017Z"})]})]}),(0,u.jsxs)("div",{className:Na,children:[(0,u.jsx)("div",{id:"CustomiserCanvasControls",className:ja}),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{className:ya,children:"Loading ..."}),children:(0,u.jsx)(Ma,{className:fa,onCameraRef:e=>{m.current=e}})})]}),(0,u.jsx)("div",{className:"".concat(Ta," ").concat(wa),children:(0,u.jsx)("span",{className:Ia,onClick:()=>{confirm("Reset everything?")&&a()},children:(0,u.jsx)(Sa.Bhs,{})})}),(0,u.jsx)("div",{className:"".concat(ka," ").concat(wa),children:(0,u.jsx)("span",{className:Ia,onClick:()=>{if(o)return l(Math.random().toString()),void d(!1);l(c),d(!0)},children:o?(0,u.jsx)(de.e$R,{}):(0,u.jsx)(de.YzE,{})})})]})}}}]);
//# sourceMappingURL=682.501ea019.chunk.js.map