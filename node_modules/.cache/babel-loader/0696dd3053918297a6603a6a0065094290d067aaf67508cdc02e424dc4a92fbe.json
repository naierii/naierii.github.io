{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\three\\\\Scene\\\\Scene.tsx\",\n  _s = $RefreshSig$();\nimport { useCustomiserStore } from '@store/customiser';\nimport { useDesignStore } from '@store/design';\nimport { forwardRef, useEffect } from 'react';\nimport { MathUtils } from 'three';\nimport Model from '../Model';\nimport ModelDecals from '../ModelDecals';\nimport ModelMerge from '../ModelMerge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst models = state => state.selectedModels;\nconst Scene = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s(({\n  onPointerDown,\n  onPointerUp,\n  onPointerMove,\n  onClick\n}, groupRef) => {\n  _s();\n  const selectedModels = useCustomiserStore(models);\n  const modelRotation = useDesignStore(state => state.modelRotation);\n  const addingToCart = useDesignStore(state => state.addingToCart);\n  useEffect(() => {\n    if (addingToCart && typeof groupRef !== 'function' && groupRef !== null && groupRef !== void 0 && groupRef.current) {\n      groupRef.current.rotateY(MathUtils.degToRad(modelRotation));\n    }\n  }, [addingToCart, modelRotation]);\n  console.log('selectedModels', models);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    name: \"meshGroup\",\n    ref: groupRef,\n    onPointerDown: onPointerDown,\n    onPointerUp: onPointerUp,\n    onPointerMove: onPointerMove,\n    onClick: onClick,\n    dispose: null,\n    children: /*#__PURE__*/_jsxDEV(ModelMerge, {\n      children: ({\n        addNodes,\n        geom\n      }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [selectedModels.map(m => {\n          var _m$model;\n          return /*#__PURE__*/_jsxDEV(Model, {\n            model: m.model,\n            addNodes: addNodes\n          }, (_m$model = m.model) === null || _m$model === void 0 ? void 0 : _m$model.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this);\n        }), geom && /*#__PURE__*/_jsxDEV(ModelDecals, {\n          geom: geom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this);\n}, \"f50GosXBFaRWlrKdPEv2a6XNcnQ=\", false, function () {\n  return [useCustomiserStore, useDesignStore, useDesignStore];\n})), \"f50GosXBFaRWlrKdPEv2a6XNcnQ=\", false, function () {\n  return [useCustomiserStore, useDesignStore, useDesignStore];\n});\n_c2 = Scene;\nScene.displayName = 'Scene';\nexport default Scene;\nvar _c, _c2;\n$RefreshReg$(_c, \"Scene$forwardRef\");\n$RefreshReg$(_c2, \"Scene\");","map":{"version":3,"names":["useCustomiserStore","useDesignStore","forwardRef","useEffect","MathUtils","Model","ModelDecals","ModelMerge","jsxDEV","_jsxDEV","Fragment","_Fragment","models","state","selectedModels","Scene","_s","_c","onPointerDown","onPointerUp","onPointerMove","onClick","groupRef","modelRotation","addingToCart","current","rotateY","degToRad","console","log","name","ref","dispose","children","addNodes","geom","map","m","_m$model","model","id","fileName","_jsxFileName","lineNumber","columnNumber","_c2","displayName","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/three/Scene/Scene.tsx"],"sourcesContent":["import { EventHandlers } from '@react-three/fiber/dist/declarations/src/core/events';\r\nimport { CustomiserState, useCustomiserStore } from '@store/customiser';\r\nimport { useDesignStore } from '@store/design';\r\nimport { forwardRef, useEffect } from 'react';\r\nimport { Group, MathUtils } from 'three';\r\nimport Model from '../Model';\r\nimport ModelDecals from '../ModelDecals';\r\nimport ModelMerge from '../ModelMerge';\r\n\r\nconst models = (state: CustomiserState) => state.selectedModels;\r\n\r\nexport interface SceneProps {\r\n  onPointerDown?: EventHandlers['onPointerDown'];\r\n  onPointerUp?: EventHandlers['onPointerUp'];\r\n  onPointerMove?: EventHandlers['onPointerMove'];\r\n  onClick?: EventHandlers['onClick'];\r\n}\r\n\r\nconst Scene = forwardRef<Group, SceneProps>(\r\n  ({ onPointerDown, onPointerUp, onPointerMove, onClick }: SceneProps, groupRef) => {\r\n    const selectedModels = useCustomiserStore(models);\r\n    const modelRotation = useDesignStore((state) => state.modelRotation);\r\n    const addingToCart = useDesignStore((state) => state.addingToCart);\r\n\r\n    useEffect(() => {\r\n      if (addingToCart && typeof groupRef !== 'function' && groupRef?.current) {\r\n        groupRef.current.rotateY(MathUtils.degToRad(modelRotation));\r\n      }\r\n    }, [addingToCart, modelRotation]);\r\n\r\n    console.log('selectedModels', models);\r\n\r\n    return (\r\n      <group\r\n        name='meshGroup'\r\n        ref={groupRef}\r\n        onPointerDown={onPointerDown}\r\n        onPointerUp={onPointerUp}\r\n        onPointerMove={onPointerMove}\r\n        onClick={onClick}\r\n        dispose={null}\r\n      >\r\n        <ModelMerge>\r\n          {({ addNodes, geom }) => (\r\n            <>\r\n              {selectedModels.map((m) => (\r\n                <Model key={m.model?.id} model={m.model} addNodes={addNodes} />\r\n              ))}\r\n              {geom && <ModelDecals geom={geom} />}\r\n            </>\r\n          )}\r\n        </ModelMerge>\r\n      </group>\r\n    );\r\n  },\r\n);\r\nScene.displayName = 'Scene';\r\n\r\nexport default Scene;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}