{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\nav\\\\NavPart\\\\NavPart.tsx\",\n  _s = $RefreshSig$();\nimport { useCustomiserStore } from '@store/customiser';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\nimport { Suspense, useEffect, useMemo, useState } from 'react';\nimport MaterialGroup from '../MaterialGroup';\nimport NavButtons from '../NavButtons';\nimport { IoMdAdd } from 'react-icons/io';\nimport { FaMinus } from 'react-icons/fa';\nimport styles from './NavPart.module.scss';\nimport TogglePillButton from '@components/ui/Button/TogglePillButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NavPart = ({\n  className,\n  part\n}) => {\n  _s();\n  var _parts$find, _part$materialGroup, _currentPart$material, _currentPart$material2, _currentPart$material3, _currentPart$material4;\n  const rootClassName = cn(styles.root, className);\n  const selectedPart = useCustomiserStore(state => state.selectedPart);\n  const setPart = useCustomiserStore(state => state.setPart);\n  const removePart = useCustomiserStore(state => state.removePart);\n  const parts = useCustomiserStore(state => state.parts);\n  const currentPart = useMemo(() => parts.find(p => p.part.id === (part === null || part === void 0 ? void 0 : part.id)), [part]);\n  const [showOptional, setShowOptional] = useState(false);\n  let selectedMaterialId = (_parts$find = parts.find(part => part.part.name === (selectedPart === null || selectedPart === void 0 ? void 0 : selectedPart.name))) === null || _parts$find === void 0 ? void 0 : _parts$find.material.id;\n  const confirmText = !selectedMaterialId ? 'Are you sure you want to continue with the default color?' : null;\n  if (!(part !== null && part !== void 0 && (_part$materialGroup = part.materialGroup) !== null && _part$materialGroup !== void 0 && _part$materialGroup.data)) {\n    return null;\n  }\n  const onMaterialSelected = material => {\n    if (selectedPart && material) {\n      selectedMaterialId = material.id;\n      setPart(selectedPart, material);\n    }\n  };\n  const optionalOnClick = show => {\n    setShowOptional(show);\n    if (!show) {\n      removePart(part);\n    }\n  };\n  useEffect(() => {\n    if (part.optional && !showOptional && currentPart) {\n      setShowOptional(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: rootClassName,\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.buttonContainer,\n        children: part.optional && /*#__PURE__*/_jsxDEV(TogglePillButton, {\n          className: styles.showOptional,\n          isOn: showOptional,\n          onClick: () => optionalOnClick(!showOptional),\n          children: [showOptional ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FaMinus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), \"\\u2002Remove\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(IoMdAdd, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), \"\\u2002Add\"]\n          }, void 0, true), ' ', part.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), (!part.optional || part.optional && showOptional) && /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 31\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(MaterialGroup, {\n          materialGroup: part.materialGroup.data,\n          materialType: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material = currentPart.material.attributes) === null || _currentPart$material === void 0 ? void 0 : (_currentPart$material2 = _currentPart$material.type) === null || _currentPart$material2 === void 0 ? void 0 : _currentPart$material2.data,\n          colourGroup: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material3 = currentPart.material.attributes) === null || _currentPart$material3 === void 0 ? void 0 : (_currentPart$material4 = _currentPart$material3.colourGroups) === null || _currentPart$material4 === void 0 ? void 0 : _currentPart$material4.data[0],\n          onMaterialSelected: onMaterialSelected,\n          selectedMaterialId: selectedMaterialId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, part.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavButtons, {\n      confirmStorage: \"partsMaterial\",\n      confirmText: confirmText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(NavPart, \"FViNcL8xuQx8HpJjLZyBonKVcEM=\", false, function () {\n  return [useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore];\n});\n_c = NavPart;\nexport default NavPart;\nvar _c;\n$RefreshReg$(_c, \"NavPart\");","map":{"version":3,"names":["useCustomiserStore","cn","motion","Suspense","useEffect","useMemo","useState","MaterialGroup","NavButtons","IoMdAdd","FaMinus","styles","TogglePillButton","jsxDEV","_jsxDEV","Fragment","_Fragment","NavPart","className","part","_s","_parts$find","_part$materialGroup","_currentPart$material","_currentPart$material2","_currentPart$material3","_currentPart$material4","rootClassName","root","selectedPart","state","setPart","removePart","parts","currentPart","find","p","id","showOptional","setShowOptional","selectedMaterialId","name","material","confirmText","materialGroup","data","onMaterialSelected","optionalOnClick","show","optional","children","div","initial","opacity","animate","exit","buttonContainer","isOn","onClick","fileName","_jsxFileName","lineNumber","columnNumber","fallback","materialType","attributes","type","colourGroup","colourGroups","confirmStorage","_c","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/NavPart/NavPart.tsx"],"sourcesContent":["import PillButton from '@components/ui/PillButton';\r\nimport { CustomProductPartFragment, MaterialFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { motion } from 'framer-motion';\r\nimport { Suspense, useEffect, useMemo, useState } from 'react';\r\nimport MaterialGroup from '../MaterialGroup';\r\nimport NavButtons from '../NavButtons';\r\n\r\nimport { IoMdAdd } from 'react-icons/io';\r\nimport { FaMinus } from 'react-icons/fa';\r\n\r\nimport styles from './NavPart.module.scss';\r\nimport TogglePillButton from '@components/ui/Button/TogglePillButton';\r\n\r\nexport interface NavPartProps {\r\n  className?: string;\r\n  part: CustomProductPartFragment;\r\n}\r\n\r\nconst NavPart = ({ className, part }: NavPartProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const selectedPart = useCustomiserStore((state) => state.selectedPart);\r\n  const setPart = useCustomiserStore((state) => state.setPart);\r\n  const removePart = useCustomiserStore((state) => state.removePart);\r\n  const parts = useCustomiserStore((state) => state.parts);\r\n  const currentPart = useMemo(() => parts.find((p) => p.part.id === part?.id), [part]);\r\n  const [showOptional, setShowOptional] = useState(false);\r\n\r\n  let selectedMaterialId = parts.find((part) => part.part.name === selectedPart?.name)?.material.id;\r\n  const confirmText = !selectedMaterialId\r\n    ? 'Are you sure you want to continue with the default color?'\r\n    : null;\r\n\r\n  if (!part?.materialGroup?.data) {\r\n    return null;\r\n  }\r\n\r\n  const onMaterialSelected = (material: MaterialFragment) => {\r\n    if (selectedPart && material) {\r\n      selectedMaterialId = material.id;\r\n      setPart(selectedPart, material);\r\n    }\r\n  };\r\n\r\n  const optionalOnClick = (show: boolean) => {\r\n    setShowOptional(show);\r\n    if (!show) {\r\n      removePart(part);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (part.optional && !showOptional && currentPart) {\r\n      setShowOptional(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        key={part.id}\r\n        className={rootClassName}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <div className={styles.buttonContainer}>\r\n          {part.optional && (\r\n            <TogglePillButton\r\n              className={styles.showOptional}\r\n              isOn={showOptional}\r\n              onClick={() => optionalOnClick(!showOptional)}\r\n            >\r\n              {showOptional ? (\r\n                <>\r\n                  <FaMinus />\r\n                  &ensp;Remove\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoMdAdd />\r\n                  &ensp;Add\r\n                </>\r\n              )}{' '}\r\n              {part.name}\r\n            </TogglePillButton>\r\n          )}\r\n        </div>\r\n        {(!part.optional || (part.optional && showOptional)) && (\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <MaterialGroup\r\n              materialGroup={part.materialGroup.data}\r\n              materialType={currentPart?.material.attributes?.type?.data}\r\n              colourGroup={currentPart?.material.attributes?.colourGroups?.data[0]}\r\n              onMaterialSelected={onMaterialSelected}\r\n              selectedMaterialId={selectedMaterialId}\r\n            />\r\n          </Suspense>\r\n        )}\r\n      </motion.div>\r\n      <NavButtons confirmStorage='partsMaterial' confirmText={confirmText} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavPart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}