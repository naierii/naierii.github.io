{"ast":null,"code":"import{useGetMaterialsQuery}from'@graphql/generated/graphql';import{graphQLClient}from'@graphql/graphql-client';import cn from'classnames';import{useEffect}from'react';import styles from'./MaterialGroup.module.scss';import{createStore,Provider,useMaterialGroupStore}from'./MaterialGroupState';import{MaterialType}from'./MaterialType';import SelectedMaterialInfo from'./SelectedMaterialInfo';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MaterialGroupLoader=_ref=>{var _materialGroup$attrib;let{className,materialGroup,materialType,colourGroup,onMaterialSelected,hideColorGroups}=_ref;const colourGroups=useMaterialGroupStore(state=>state.colourGroups);const selectedColourGroup=useMaterialGroupStore(state=>state.selectedColourGroup);const setMaterials=useMaterialGroupStore(state=>state.setMaterials);const setColourGroup=useMaterialGroupStore(state=>state.setColourGroup);const rootClassName=cn(styles.root,className);const typeIds=materialGroup!==null&&materialGroup!==void 0&&(_materialGroup$attrib=materialGroup.attributes)!==null&&_materialGroup$attrib!==void 0&&_materialGroup$attrib.materialTypes?materialGroup.attributes.materialTypes.data.map(t=>t.id):[];const{data:materials}=useGetMaterialsQuery(graphQLClient,{filters:{type:{id:{in:typeIds}}},pagination:{pageSize:200}},{select:data=>{var _data$materials;return(_data$materials=data.materials)===null||_data$materials===void 0?void 0:_data$materials.data;}});useEffect(()=>{if(materials!==null&&materials!==void 0&&materials.length){setMaterials(materials,materialType,colourGroup);}},[materials]);if(!materialGroup){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:rootClassName,children:[!hideColorGroups&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Colour\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.colourGroups,children:colourGroups.map(group=>{var _group$attributes$col,_group$attributes,_group$attributes$col2,_group$attributes2;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setColourGroup(group),children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 42 42\",strokeWidth:4,stroke:(selectedColourGroup===null||selectedColourGroup===void 0?void 0:selectedColourGroup.id)===group.id?'#000':(_group$attributes$col=(_group$attributes=group.attributes)===null||_group$attributes===void 0?void 0:_group$attributes.colour)!==null&&_group$attributes$col!==void 0?_group$attributes$col:'#000',fill:(_group$attributes$col2=(_group$attributes2=group.attributes)===null||_group$attributes2===void 0?void 0:_group$attributes2.colour)!==null&&_group$attributes$col2!==void 0?_group$attributes$col2:'#000',children:/*#__PURE__*/_jsx(\"rect\",{width:\"100%\",height:\"100%\"})})},group.id);})})]}),/*#__PURE__*/_jsx(MaterialType,{hideColorGroups:hideColorGroups,onMaterialSelected:onMaterialSelected}),/*#__PURE__*/_jsx(SelectedMaterialInfo,{})]});};const MaterialGroup=props=>{return/*#__PURE__*/_jsx(Provider,{createStore:createStore,children:/*#__PURE__*/_jsx(MaterialGroupLoader,{...props})});};export default MaterialGroup;","map":{"version":3,"names":["useGetMaterialsQuery","graphQLClient","cn","useEffect","styles","createStore","Provider","useMaterialGroupStore","MaterialType","SelectedMaterialInfo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MaterialGroupLoader","_ref","_materialGroup$attrib","className","materialGroup","materialType","colourGroup","onMaterialSelected","hideColorGroups","colourGroups","state","selectedColourGroup","setMaterials","setColourGroup","rootClassName","root","typeIds","attributes","materialTypes","data","map","t","id","materials","filters","type","in","pagination","pageSize","select","_data$materials","length","children","group","_group$attributes$col","_group$attributes","_group$attributes$col2","_group$attributes2","onClick","xmlns","viewBox","strokeWidth","stroke","colour","fill","width","height","MaterialGroup","props"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/MaterialGroup/MaterialGroup.tsx"],"sourcesContent":["import {\r\n  InputMaybe,\r\n  MaterialColourGroupEntity,\r\n  MaterialEntity,\r\n  MaterialFragment,\r\n  MaterialGroupEntity,\r\n  MaterialTypeEntity,\r\n  Maybe,\r\n  useGetMaterialsQuery,\r\n} from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\n\r\nimport cn from 'classnames';\r\nimport { useEffect } from 'react';\r\n\r\nimport styles from './MaterialGroup.module.scss';\r\nimport { createStore, Provider, useMaterialGroupStore } from './MaterialGroupState';\r\nimport { MaterialType } from './MaterialType';\r\nimport SelectedMaterialInfo from './SelectedMaterialInfo';\r\n\r\nexport interface MaterialGroupProps {\r\n  className?: string;\r\n  materialGroup?: Maybe<MaterialGroupEntity>;\r\n  materialType?: Maybe<MaterialTypeEntity>;\r\n  colourGroup?: Maybe<MaterialColourGroupEntity>;\r\n  onMaterialSelected: (material: MaterialFragment) => void;\r\n  hideColorGroups?: boolean;\r\n}\r\n\r\nconst MaterialGroupLoader = ({\r\n  className,\r\n  materialGroup,\r\n  materialType,\r\n  colourGroup,\r\n  onMaterialSelected,\r\n  hideColorGroups,\r\n}: MaterialGroupProps) => {\r\n  const colourGroups = useMaterialGroupStore((state) => state.colourGroups);\r\n  const selectedColourGroup = useMaterialGroupStore((state) => state.selectedColourGroup);\r\n  const setMaterials = useMaterialGroupStore((state) => state.setMaterials);\r\n  const setColourGroup = useMaterialGroupStore((state) => state.setColourGroup);\r\n  const rootClassName = cn(styles.root, className);\r\n\r\n  const typeIds = materialGroup?.attributes?.materialTypes\r\n    ? (materialGroup.attributes.materialTypes.data.map((t) => t.id) as InputMaybe<string>[])\r\n    : [];\r\n\r\n  const { data: materials } = useGetMaterialsQuery(\r\n    graphQLClient,\r\n    { filters: { type: { id: { in: typeIds } } }, pagination: { pageSize: 200 } },\r\n    {\r\n      select: (data) => data.materials?.data as MaterialEntity[],\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (materials?.length) {\r\n      setMaterials(materials, materialType, colourGroup);\r\n    }\r\n  }, [materials]);\r\n\r\n  if (!materialGroup) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={rootClassName}>\r\n      {!hideColorGroups && (\r\n        <>\r\n          <h5>Colour</h5>\r\n          <div className={styles.colourGroups}>\r\n            {colourGroups.map((group) => (\r\n              <button key={group.id} onClick={() => setColourGroup(group)}>\r\n                <svg\r\n                  xmlns='http://www.w3.org/2000/svg'\r\n                  viewBox='0 0 42 42'\r\n                  strokeWidth={4}\r\n                  stroke={\r\n                    selectedColourGroup?.id === group.id\r\n                      ? '#000'\r\n                      : group.attributes?.colour ?? '#000'\r\n                  }\r\n                  fill={group.attributes?.colour ?? '#000'}\r\n                >\r\n                  <rect width='100%' height='100%' />\r\n                </svg>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      <MaterialType hideColorGroups={hideColorGroups} onMaterialSelected={onMaterialSelected} />\r\n      <SelectedMaterialInfo />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MaterialGroup = (props: MaterialGroupProps) => {\r\n  return (\r\n    <Provider createStore={createStore}>\r\n      <MaterialGroupLoader {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default MaterialGroup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}