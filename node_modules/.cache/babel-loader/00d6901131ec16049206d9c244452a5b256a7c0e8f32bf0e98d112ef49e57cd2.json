{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\three\\\\CustomiserCanvas\\\\CustomiserCanvas.tsx\",\n  _s = $RefreshSig$();\nimport { OrbitControls } from '@react-three/drei';\nimport { Canvas } from '@react-three/fiber';\nimport cn from 'classnames';\nimport { lazy, useCallback, useEffect, useRef, useState } from 'react';\nimport { useCreateCustomDesignMutation, useUploadMultipleFilesMutation } from '@graphql/generated/graphql';\nimport { graphQLClient } from '@graphql/graphql-client';\nimport { addToCart } from '@lib/shopify';\nimport { useCustomiserStore } from '@store/customiser';\nimport { useDesignStore } from '@store/design';\nimport { useMutation } from '@tanstack/react-query';\nimport { Euler, Vector3 } from 'three';\nimport Lights from '../Lights';\nimport Loadable from '../Loadable';\nimport MouseHelper from '../MouseHelper';\nimport styles from './CustomiserCanvas.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Scene = Loadable( /*#__PURE__*/lazy(() => import('@components/three/Scene')));\nconst getCustomDesignData = (state, files) => {\n  var _state$customProduct, _state$sizing, _state$sizing$variati, _state$sizing2, _state$sizing3, _state$sizing3$height, _state$sizing3$height2, _state$sizing4, _state$sizing4$height, _state$sizing5, _state$sizing5$weight, _state$sizing6, _state$sizing6$weight;\n  return {\n    customProduct: (_state$customProduct = state.customProduct) === null || _state$customProduct === void 0 ? void 0 : _state$customProduct.id,\n    parts: state.savedParts.map(p => {\n      var _p$part$areaSize, _p$part$areaSize$data;\n      return {\n        name: p.part.name,\n        areaSize: (_p$part$areaSize = p.part.areaSize) === null || _p$part$areaSize === void 0 ? void 0 : (_p$part$areaSize$data = _p$part$areaSize.data) === null || _p$part$areaSize$data === void 0 ? void 0 : _p$part$areaSize$data.id,\n        material: p.material.id\n      };\n    }),\n    texts: state.texts.map(t => {\n      var _t$basePrice, _t$letterPrice, _t$outlinePrice, _t$puffPrice, _t$crystalPrice;\n      return {\n        text: t.text,\n        decalPosition: t.decalPosition,\n        decalOrientation: t.decalOrientation,\n        decalRotation: t.decalRotation,\n        decalScale: t.decalScale,\n        basePriceVariantId: (_t$basePrice = t.basePrice) === null || _t$basePrice === void 0 ? void 0 : _t$basePrice.shopifyVariantId,\n        letterPriceVariantId: (_t$letterPrice = t.letterPrice) === null || _t$letterPrice === void 0 ? void 0 : _t$letterPrice.shopifyVariantId,\n        outlinePriceVariantId: (_t$outlinePrice = t.outlinePrice) === null || _t$outlinePrice === void 0 ? void 0 : _t$outlinePrice.shopifyVariantId,\n        puffPriceVariantId: (_t$puffPrice = t.puffPrice) === null || _t$puffPrice === void 0 ? void 0 : _t$puffPrice.shopifyVariantId,\n        crystalPriceVariantId: (_t$crystalPrice = t.crystalPrice) === null || _t$crystalPrice === void 0 ? void 0 : _t$crystalPrice.shopifyVariantId\n      };\n    }),\n    flags: state.flags.map(f => {\n      var _f$flag, _f$basePrice;\n      return {\n        flag: (_f$flag = f.flag) === null || _f$flag === void 0 ? void 0 : _f$flag.id,\n        decalPosition: f.decalPosition,\n        decalOrientation: f.decalOrientation,\n        decalRotation: f.decalRotation,\n        decalScale: f.decalScale,\n        size: f.size,\n        shopifyVariantId: (_f$basePrice = f.basePrice) === null || _f$basePrice === void 0 ? void 0 : _f$basePrice.shopifyVariantId\n      };\n    }),\n    graphics: state.graphics.map(g => {\n      var _g$graphic, _g$basePrice;\n      return {\n        graphic: (_g$graphic = g.graphic) === null || _g$graphic === void 0 ? void 0 : _g$graphic.id,\n        decalPosition: g.decalPosition,\n        decalOrientation: g.decalOrientation,\n        decalRotation: g.decalRotation,\n        decalScale: g.decalScale,\n        size: g.size,\n        shopifyVariantId: (_g$basePrice = g.basePrice) === null || _g$basePrice === void 0 ? void 0 : _g$basePrice.shopifyVariantId\n      };\n    }),\n    images: files,\n    sizing: {\n      shopifyVariantId: (_state$sizing = state.sizing) === null || _state$sizing === void 0 ? void 0 : (_state$sizing$variati = _state$sizing.variation) === null || _state$sizing$variati === void 0 ? void 0 : _state$sizing$variati.id,\n      size: (_state$sizing2 = state.sizing) === null || _state$sizing2 === void 0 ? void 0 : _state$sizing2.size,\n      height: (_state$sizing3 = state.sizing) === null || _state$sizing3 === void 0 ? void 0 : (_state$sizing3$height = _state$sizing3.height) === null || _state$sizing3$height === void 0 ? void 0 : (_state$sizing3$height2 = _state$sizing3$height.value) === null || _state$sizing3$height2 === void 0 ? void 0 : _state$sizing3$height2.toString(),\n      heightUnit: (_state$sizing4 = state.sizing) === null || _state$sizing4 === void 0 ? void 0 : (_state$sizing4$height = _state$sizing4.height) === null || _state$sizing4$height === void 0 ? void 0 : _state$sizing4$height.unit,\n      weight: (_state$sizing5 = state.sizing) === null || _state$sizing5 === void 0 ? void 0 : (_state$sizing5$weight = _state$sizing5.weight) === null || _state$sizing5$weight === void 0 ? void 0 : _state$sizing5$weight.value,\n      weightUnit: (_state$sizing6 = state.sizing) === null || _state$sizing6 === void 0 ? void 0 : (_state$sizing6$weight = _state$sizing6.weight) === null || _state$sizing6$weight === void 0 ? void 0 : _state$sizing6$weight.unit\n    }\n  };\n};\nconst getCartVariations = customDesignEntity => {\n  var _customDesign$parts, _customDesign$flags, _customDesign$graphic, _customDesign$texts, _customDesign$sizing;\n  const customDesignId = customDesignEntity === null || customDesignEntity === void 0 ? void 0 : customDesignEntity.id;\n  const customDesign = customDesignEntity === null || customDesignEntity === void 0 ? void 0 : customDesignEntity.attributes;\n  if (!customDesign || !customDesignId) {\n    return [];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const items = [];\n  const id = id => id === null || id === void 0 ? void 0 : id.replace('gid://shopify/ProductVariant/', '');\n  const getItem = id => items.find(i => i.id === id);\n  const addOrUpdate = (variantId, addQty = 1) => {\n    const checkItem = getItem(variantId);\n    if (checkItem) {\n      const newQuantity = checkItem.quantity + addQty;\n      checkItem.quantity = newQuantity;\n      checkItem.properties._customDesignQuantity = newQuantity;\n    } else {\n      items.push({\n        id: variantId,\n        quantity: addQty,\n        properties: {\n          _customDesignAddon: customDesignId,\n          _customDesignQuantity: addQty\n        }\n      });\n    }\n  };\n  if ((_customDesign$parts = customDesign.parts) !== null && _customDesign$parts !== void 0 && _customDesign$parts.length) {\n    customDesign.parts.forEach(p => {\n      const variantId = id(p === null || p === void 0 ? void 0 : p.shopifyVariantId);\n      if (variantId) addOrUpdate(variantId);\n    });\n  }\n  if ((_customDesign$flags = customDesign.flags) !== null && _customDesign$flags !== void 0 && _customDesign$flags.length) {\n    customDesign.flags.forEach(p => {\n      const variantId = id(p === null || p === void 0 ? void 0 : p.shopifyVariantId);\n      if (variantId) addOrUpdate(variantId);\n    });\n  }\n  if ((_customDesign$graphic = customDesign.graphics) !== null && _customDesign$graphic !== void 0 && _customDesign$graphic.length) {\n    customDesign.graphics.forEach(p => {\n      const variantId = id(p === null || p === void 0 ? void 0 : p.shopifyVariantId);\n      if (variantId) addOrUpdate(variantId);\n    });\n  }\n  if ((_customDesign$texts = customDesign.texts) !== null && _customDesign$texts !== void 0 && _customDesign$texts.length) {\n    customDesign.texts.forEach(t => {\n      var _t$text;\n      const basePrice = id(t === null || t === void 0 ? void 0 : t.basePriceVariantId);\n      if (basePrice) addOrUpdate(basePrice);\n      const letterPrice = id(t === null || t === void 0 ? void 0 : t.letterPriceVariantId);\n      if (letterPrice) addOrUpdate(letterPrice, t === null || t === void 0 ? void 0 : (_t$text = t.text) === null || _t$text === void 0 ? void 0 : _t$text.length);\n      const outlinePrice = id(t === null || t === void 0 ? void 0 : t.outlinePriceVariantId);\n      if (outlinePrice) addOrUpdate(outlinePrice);\n      const puffPrice = id(t === null || t === void 0 ? void 0 : t.puffPriceVariantId);\n      if (puffPrice) addOrUpdate(puffPrice);\n      const crystalPrice = id(t === null || t === void 0 ? void 0 : t.crystalPriceVariantId);\n      if (crystalPrice) addOrUpdate(crystalPrice);\n    });\n  }\n  if ((_customDesign$sizing = customDesign.sizing) !== null && _customDesign$sizing !== void 0 && _customDesign$sizing.shopifyVariantId) {\n    items.push({\n      id: id(customDesign.sizing.shopifyVariantId),\n      quantity: 1,\n      properties: {\n        _customDesign: customDesignId\n      }\n    });\n  }\n  return items;\n};\nconst cameraDefault = [0, 2.1970893240496195e-15, 15.31024512625285];\nconst CustomiserCanvas = ({\n  className,\n  style\n}) => {\n  _s();\n  const cameraRef = useRef(null);\n  const canvasRef = useRef(null);\n  const images = useRef([]);\n  const positionRef = useRef(new Vector3());\n  const orientationRef = useRef(new Euler());\n  const groupRef = useRef(null);\n  const editFlag = useCustomiserStore(state => state.flags.find(f => f.edit));\n  const editText = useCustomiserStore(state => state.texts.find(f => f.edit));\n  const editGraphic = useCustomiserStore(state => state.graphics.find(f => f.edit));\n  const updateGraphic = useCustomiserStore(state => state.updateGraphic);\n  const updateFlag = useCustomiserStore(state => state.updateFlag);\n  const updateText = useCustomiserStore(state => state.updateText);\n  const setCanvasSize = useCustomiserStore(state => state.setCanvasSize);\n  const resetCamera = useDesignStore(state => state.resetCamera);\n  const addingToCart = useDesignStore(state => state.addingToCart);\n  const modelRotation = useDesignStore(state => state.modelRotation);\n  const setAddingToCart = useDesignStore(state => state.setAddingToCart);\n  const setModelRotation = useDesignStore(state => state.setModelRotation);\n  const reset = useCustomiserStore(state => state.reset);\n  const rootClassName = cn(styles.root, className);\n  const mouseHelperRef = useRef(null);\n  const state = useCustomiserStore(state => state);\n  const [isPointerDown, setIsPointerDown] = useState(false);\n  const [isPointerMoved, setIsPointerMoved] = useState(false);\n  const setPosition = useCallback(event => {\n    var _event$face;\n    const p = event.point;\n    const n = event === null || event === void 0 ? void 0 : (_event$face = event.face) === null || _event$face === void 0 ? void 0 : _event$face.normal.clone();\n    if (mouseHelperRef.current && n && groupRef.current) {\n      n.transformDirection(groupRef.current.matrixWorld);\n      n.multiplyScalar(10);\n      n.add(p);\n      mouseHelperRef.current.position.copy(p);\n      mouseHelperRef.current.lookAt(n);\n    }\n  }, [mouseHelperRef]);\n  const onClick = useCallback(event => {\n    setIsPointerDown(false);\n    setIsPointerMoved(false);\n    if (!isPointerDown || isPointerMoved) {\n      return;\n    }\n    if (editFlag !== null && editFlag !== void 0 && editFlag.key) {\n      event.stopPropagation();\n      updateFlag(editFlag.key, {\n        decalFreeze: true\n      });\n      setPosition(event);\n      if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\n        positionRef.current.copy(event.point);\n        orientationRef.current.copy(mouseHelperRef.current.rotation);\n        updateFlag(editFlag.key, {\n          decalPosition: positionRef.current.clone().toArray(),\n          decalOrientation: orientationRef.current.clone().toArray()\n        });\n      }\n    }\n    if (editGraphic !== null && editGraphic !== void 0 && editGraphic.key) {\n      event.stopPropagation();\n      updateGraphic(editGraphic.key, {\n        decalFreeze: true\n      });\n      setPosition(event);\n      if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\n        positionRef.current.copy(event.point);\n        orientationRef.current.copy(mouseHelperRef.current.rotation);\n        updateGraphic(editGraphic.key, {\n          decalPosition: positionRef.current.clone().toArray(),\n          decalOrientation: orientationRef.current.clone().toArray()\n        });\n      }\n    }\n    if (editText !== null && editText !== void 0 && editText.key) {\n      event.stopPropagation();\n      updateText(editText.key, {\n        decalFreeze: true\n      });\n      setPosition(event);\n      if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\n        positionRef.current.copy(event.point);\n        orientationRef.current.copy(mouseHelperRef.current.rotation);\n        updateText(editText.key, {\n          decalPosition: positionRef.current.clone().toArray(),\n          decalOrientation: orientationRef.current.clone().toArray()\n        });\n      }\n    }\n  }, [editFlag, editGraphic, editText, isPointerDown, isPointerMoved]);\n  const onPointerDown = useCallback(() => {\n    setIsPointerDown(true);\n  }, []);\n  const onPointerMove = useCallback(e => {\n    if (isPointerDown) {\n      setIsPointerMoved(true);\n    }\n  }, [isPointerDown]);\n  const shopifyAddToCart = useMutation({\n    mutationFn: addToCart,\n    onSuccess: () => {\n      window.location.href = window.Shopify.routes.root + 'cart';\n      reset();\n    }\n  });\n  const {\n    mutate\n  } = useCreateCustomDesignMutation(graphQLClient, {\n    onSuccess(data) {\n      var _data$createCustomDes;\n      if ((_data$createCustomDes = data.createCustomDesign) !== null && _data$createCustomDes !== void 0 && _data$createCustomDes.data) {\n        const items = getCartVariations(data.createCustomDesign.data);\n        shopifyAddToCart.mutate({\n          items: items\n        });\n      }\n    }\n  });\n  const {\n    mutateAsync\n  } = useUploadMultipleFilesMutation(graphQLClient, {\n    onSuccess(data) {\n      const fileIDs = data.multipleUpload.map(f => {\n        var _f$data;\n        return f === null || f === void 0 ? void 0 : (_f$data = f.data) === null || _f$data === void 0 ? void 0 : _f$data.id;\n      });\n      mutate({\n        data: getCustomDesignData(state, fileIDs)\n      });\n    }\n  });\n  useEffect(() => {\n    if (addingToCart && modelRotation < 360) {\n      setTimeout(() => {\n        var _canvasRef$current;\n        canvasRef === null || canvasRef === void 0 ? void 0 : (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.toBlob(blob => {\n          if (blob) {\n            const file = new File([blob], 'fileName.png', {\n              type: 'image/png'\n            });\n            images.current.push(file);\n            setModelRotation(modelRotation + 90);\n          }\n        }, 'image/png');\n      }, 50);\n    } else if (addingToCart) {\n      const upload = async () => {\n        await mutateAsync({\n          files: images.current\n        });\n      };\n      upload();\n    }\n  }, [modelRotation, addingToCart, images]);\n  useEffect(() => {\n    const camera = cameraRef.current;\n    if (!camera) {\n      return;\n    }\n    if (resetCamera) {\n      camera.position.set(cameraDefault[0], cameraDefault[1], cameraDefault[2]);\n      setAddingToCart();\n    }\n  }, [resetCamera]);\n  const isEditing = editFlag || editGraphic || editText;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: rootClassName,\n    style: style,\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      linear: true,\n      flat: true,\n      camera: {\n        position: cameraDefault,\n        fov: 45\n      },\n      dpr: window.devicePixelRatio,\n      gl: {\n        preserveDrawingBuffer: true\n      },\n      ref: canvasRef,\n      onCreated: state => {\n        setCanvasSize(state.size.width, state.size.height);\n        cameraRef.current = state.camera;\n      },\n      frameloop: \"demand\",\n      children: [/*#__PURE__*/_jsxDEV(Scene, {\n        onClick: onClick,\n        onPointerDown: onPointerDown,\n        onPointerMove: onPointerMove,\n        ref: groupRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Lights, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), isEditing && /*#__PURE__*/_jsxDEV(MouseHelper, {\n        ref: mouseHelperRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        enableZoom: true,\n        maxDistance: 30,\n        minDistance: 10,\n        minPolarAngle: Math.PI / 3,\n        maxPolarAngle: Math.PI / 1.9,\n        position: [0, 0, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 334,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomiserCanvas, \"UUZQqQCY4rEEWlv+CZgQ9rUL048=\", false, function () {\n  return [useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore, useDesignStore, useDesignStore, useDesignStore, useDesignStore, useDesignStore, useCustomiserStore, useCustomiserStore, useMutation, useCreateCustomDesignMutation, useUploadMultipleFilesMutation];\n});\n_c = CustomiserCanvas;\nexport default CustomiserCanvas;\nvar _c;\n$RefreshReg$(_c, \"CustomiserCanvas\");","map":{"version":3,"names":["OrbitControls","Canvas","cn","lazy","useCallback","useEffect","useRef","useState","useCreateCustomDesignMutation","useUploadMultipleFilesMutation","graphQLClient","addToCart","useCustomiserStore","useDesignStore","useMutation","Euler","Vector3","Lights","Loadable","MouseHelper","styles","jsxDEV","_jsxDEV","Scene","getCustomDesignData","state","files","_state$customProduct","_state$sizing","_state$sizing$variati","_state$sizing2","_state$sizing3","_state$sizing3$height","_state$sizing3$height2","_state$sizing4","_state$sizing4$height","_state$sizing5","_state$sizing5$weight","_state$sizing6","_state$sizing6$weight","customProduct","id","parts","savedParts","map","p","_p$part$areaSize","_p$part$areaSize$data","name","part","areaSize","data","material","texts","t","_t$basePrice","_t$letterPrice","_t$outlinePrice","_t$puffPrice","_t$crystalPrice","text","decalPosition","decalOrientation","decalRotation","decalScale","basePriceVariantId","basePrice","shopifyVariantId","letterPriceVariantId","letterPrice","outlinePriceVariantId","outlinePrice","puffPriceVariantId","puffPrice","crystalPriceVariantId","crystalPrice","flags","f","_f$flag","_f$basePrice","flag","size","graphics","g","_g$graphic","_g$basePrice","graphic","images","sizing","variation","height","value","toString","heightUnit","unit","weight","weightUnit","getCartVariations","customDesignEntity","_customDesign$parts","_customDesign$flags","_customDesign$graphic","_customDesign$texts","_customDesign$sizing","customDesignId","customDesign","attributes","items","replace","getItem","find","i","addOrUpdate","variantId","addQty","checkItem","newQuantity","quantity","properties","_customDesignQuantity","push","_customDesignAddon","length","forEach","_t$text","_customDesign","cameraDefault","CustomiserCanvas","className","style","_s","cameraRef","canvasRef","positionRef","orientationRef","groupRef","editFlag","edit","editText","editGraphic","updateGraphic","updateFlag","updateText","setCanvasSize","resetCamera","addingToCart","modelRotation","setAddingToCart","setModelRotation","reset","rootClassName","root","mouseHelperRef","isPointerDown","setIsPointerDown","isPointerMoved","setIsPointerMoved","setPosition","event","_event$face","point","n","face","normal","clone","current","transformDirection","matrixWorld","multiplyScalar","add","position","copy","lookAt","onClick","key","stopPropagation","decalFreeze","rotation","toArray","onPointerDown","onPointerMove","e","shopifyAddToCart","mutationFn","onSuccess","window","location","href","Shopify","routes","mutate","_data$createCustomDes","createCustomDesign","mutateAsync","fileIDs","multipleUpload","_f$data","setTimeout","_canvasRef$current","toBlob","blob","file","File","type","upload","camera","set","isEditing","children","linear","flat","fov","dpr","devicePixelRatio","gl","preserveDrawingBuffer","ref","onCreated","width","frameloop","fileName","_jsxFileName","lineNumber","columnNumber","enableZoom","maxDistance","minDistance","minPolarAngle","Math","PI","maxPolarAngle","_c","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/three/CustomiserCanvas/CustomiserCanvas.tsx"],"sourcesContent":["import { OrbitControls } from '@react-three/drei';\r\nimport { Canvas, ThreeEvent } from '@react-three/fiber';\r\nimport cn from 'classnames';\r\nimport { CSSProperties, lazy, useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nimport {\r\n  CustomDesignEntity,\r\n  CustomDesignInput,\r\n  Maybe,\r\n  useCreateCustomDesignMutation,\r\n  useUploadMultipleFilesMutation,\r\n} from '@graphql/generated/graphql';\r\nimport { graphQLClient } from '@graphql/graphql-client';\r\nimport { addToCart } from '@lib/shopify';\r\nimport { CustomiserState, useCustomiserStore } from '@store/customiser';\r\nimport { useDesignStore } from '@store/design';\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport { Camera, Euler, Group, Mesh, Vector3 } from 'three';\r\n\r\nimport Lights from '../Lights';\r\nimport Loadable from '../Loadable';\r\nimport MouseHelper from '../MouseHelper';\r\nimport { SceneProps } from '../Scene/Scene';\r\nimport styles from './CustomiserCanvas.module.scss';\r\n\r\nimport ThreeScene from '@components/three/Scene';\r\n\r\nconst Scene = Loadable(lazy(() => import('@components/three/Scene'))) as typeof ThreeScene;\r\n\r\nexport interface CustomiserCanvasProps {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n}\r\n\r\nconst getCustomDesignData = (state: CustomiserState, files: string[]): CustomDesignInput => ({\r\n  customProduct: state.customProduct?.id,\r\n  parts: state.savedParts.map((p) => ({\r\n    name: p.part.name,\r\n    areaSize: p.part.areaSize?.data?.id,\r\n    material: p.material.id,\r\n  })),\r\n  texts: state.texts.map((t) => ({\r\n    text: t.text,\r\n    decalPosition: t.decalPosition,\r\n    decalOrientation: t.decalOrientation,\r\n    decalRotation: t.decalRotation,\r\n    decalScale: t.decalScale,\r\n    basePriceVariantId: t.basePrice?.shopifyVariantId,\r\n    letterPriceVariantId: t.letterPrice?.shopifyVariantId,\r\n    outlinePriceVariantId: t.outlinePrice?.shopifyVariantId,\r\n    puffPriceVariantId: t.puffPrice?.shopifyVariantId,\r\n    crystalPriceVariantId: t.crystalPrice?.shopifyVariantId,\r\n  })),\r\n  flags: state.flags.map((f) => ({\r\n    flag: f.flag?.id,\r\n    decalPosition: f.decalPosition,\r\n    decalOrientation: f.decalOrientation,\r\n    decalRotation: f.decalRotation,\r\n    decalScale: f.decalScale,\r\n    size: f.size,\r\n    shopifyVariantId: f.basePrice?.shopifyVariantId,\r\n  })),\r\n  graphics: state.graphics.map((g) => ({\r\n    graphic: g.graphic?.id,\r\n    decalPosition: g.decalPosition,\r\n    decalOrientation: g.decalOrientation,\r\n    decalRotation: g.decalRotation,\r\n    decalScale: g.decalScale,\r\n    size: g.size,\r\n    shopifyVariantId: g.basePrice?.shopifyVariantId,\r\n  })),\r\n  images: files,\r\n  sizing: {\r\n    shopifyVariantId: state.sizing?.variation?.id,\r\n    size: state.sizing?.size,\r\n    height: state.sizing?.height?.value?.toString(),\r\n    heightUnit: state.sizing?.height?.unit,\r\n    weight: state.sizing?.weight?.value,\r\n    weightUnit: state.sizing?.weight?.unit,\r\n  },\r\n});\r\n\r\nconst getCartVariations = (customDesignEntity?: CustomDesignEntity) => {\r\n  const customDesignId = customDesignEntity?.id;\r\n  const customDesign = customDesignEntity?.attributes;\r\n\r\n  if (!customDesign || !customDesignId) {\r\n    return [];\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const items: Array<{ id?: string; quantity: number; properties: any }> = [];\r\n  const id = (id?: Maybe<string>) => id?.replace('gid://shopify/ProductVariant/', '');\r\n  const getItem = (id?: string) => items.find((i) => i.id === id);\r\n  const addOrUpdate = (variantId: string, addQty = 1) => {\r\n    const checkItem = getItem(variantId);\r\n    if (checkItem) {\r\n      const newQuantity = checkItem.quantity + addQty;\r\n      checkItem.quantity = newQuantity;\r\n      checkItem.properties._customDesignQuantity = newQuantity;\r\n    } else {\r\n      items.push({\r\n        id: variantId,\r\n        quantity: addQty,\r\n        properties: {\r\n          _customDesignAddon: customDesignId,\r\n          _customDesignQuantity: addQty,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  if (customDesign.parts?.length) {\r\n    customDesign.parts.forEach((p) => {\r\n      const variantId = id(p?.shopifyVariantId);\r\n      if (variantId) addOrUpdate(variantId);\r\n    });\r\n  }\r\n\r\n  if (customDesign.flags?.length) {\r\n    customDesign.flags.forEach((p) => {\r\n      const variantId = id(p?.shopifyVariantId);\r\n      if (variantId) addOrUpdate(variantId);\r\n    });\r\n  }\r\n\r\n  if (customDesign.graphics?.length) {\r\n    customDesign.graphics.forEach((p) => {\r\n      const variantId = id(p?.shopifyVariantId);\r\n      if (variantId) addOrUpdate(variantId);\r\n    });\r\n  }\r\n\r\n  if (customDesign.texts?.length) {\r\n    customDesign.texts.forEach((t) => {\r\n      const basePrice = id(t?.basePriceVariantId);\r\n      if (basePrice) addOrUpdate(basePrice);\r\n      const letterPrice = id(t?.letterPriceVariantId);\r\n      if (letterPrice) addOrUpdate(letterPrice, t?.text?.length);\r\n      const outlinePrice = id(t?.outlinePriceVariantId);\r\n      if (outlinePrice) addOrUpdate(outlinePrice);\r\n      const puffPrice = id(t?.puffPriceVariantId);\r\n      if (puffPrice) addOrUpdate(puffPrice);\r\n      const crystalPrice = id(t?.crystalPriceVariantId);\r\n      if (crystalPrice) addOrUpdate(crystalPrice);\r\n    });\r\n  }\r\n\r\n  if (customDesign.sizing?.shopifyVariantId) {\r\n    items.push({\r\n      id: id(customDesign.sizing.shopifyVariantId),\r\n      quantity: 1,\r\n      properties: {\r\n        _customDesign: customDesignId,\r\n      },\r\n    });\r\n  }\r\n\r\n  return items;\r\n};\r\n\r\nconst cameraDefault: [x: number, y: number, z: number] = [\r\n  0, 2.1970893240496195e-15, 15.31024512625285,\r\n];\r\n\r\nconst CustomiserCanvas = ({ className, style }: CustomiserCanvasProps): JSX.Element => {\r\n  const cameraRef = useRef<Camera | null>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const images = useRef<File[]>([]);\r\n  const positionRef = useRef<Vector3>(new Vector3());\r\n  const orientationRef = useRef<Euler>(new Euler());\r\n  const groupRef = useRef<Group>(null);\r\n  const editFlag = useCustomiserStore((state) => state.flags.find((f) => f.edit));\r\n  const editText = useCustomiserStore((state) => state.texts.find((f) => f.edit));\r\n  const editGraphic = useCustomiserStore((state) => state.graphics.find((f) => f.edit));\r\n  const updateGraphic = useCustomiserStore((state) => state.updateGraphic);\r\n  const updateFlag = useCustomiserStore((state) => state.updateFlag);\r\n  const updateText = useCustomiserStore((state) => state.updateText);\r\n  const setCanvasSize = useCustomiserStore((state) => state.setCanvasSize);\r\n  const resetCamera = useDesignStore((state) => state.resetCamera);\r\n  const addingToCart = useDesignStore((state) => state.addingToCart);\r\n  const modelRotation = useDesignStore((state) => state.modelRotation);\r\n  const setAddingToCart = useDesignStore((state) => state.setAddingToCart);\r\n  const setModelRotation = useDesignStore((state) => state.setModelRotation);\r\n  const reset = useCustomiserStore((state) => state.reset);\r\n  const rootClassName = cn(styles.root, className);\r\n  const mouseHelperRef = useRef<Mesh>(null);\r\n  const state = useCustomiserStore((state) => state);\r\n\r\n  const [isPointerDown, setIsPointerDown] = useState(false);\r\n  const [isPointerMoved, setIsPointerMoved] = useState(false);\r\n\r\n  const setPosition = useCallback(\r\n    (event: ThreeEvent<MouseEvent>) => {\r\n      const p = event.point;\r\n      const n = event?.face?.normal.clone();\r\n      if (mouseHelperRef.current && n && groupRef.current) {\r\n        n.transformDirection(groupRef.current.matrixWorld);\r\n        n.multiplyScalar(10);\r\n        n.add(p);\r\n        mouseHelperRef.current.position.copy(p);\r\n        mouseHelperRef.current.lookAt(n);\r\n      }\r\n    },\r\n    [mouseHelperRef],\r\n  );\r\n\r\n  const onClick = useCallback<Required<SceneProps>['onClick']>(\r\n    (event) => {\r\n      setIsPointerDown(false);\r\n      setIsPointerMoved(false);\r\n\r\n      if (!isPointerDown || isPointerMoved) {\r\n        return;\r\n      }\r\n\r\n      if (editFlag?.key) {\r\n        event.stopPropagation();\r\n\r\n        updateFlag(editFlag.key, { decalFreeze: true });\r\n        setPosition(event);\r\n        if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\r\n          positionRef.current.copy(event.point);\r\n          orientationRef.current.copy(mouseHelperRef.current.rotation);\r\n          updateFlag(editFlag.key, {\r\n            decalPosition: positionRef.current.clone().toArray(),\r\n            decalOrientation: orientationRef.current.clone().toArray(),\r\n          });\r\n        }\r\n      }\r\n\r\n      if (editGraphic?.key) {\r\n        event.stopPropagation();\r\n\r\n        updateGraphic(editGraphic.key, { decalFreeze: true });\r\n        setPosition(event);\r\n        if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\r\n          positionRef.current.copy(event.point);\r\n          orientationRef.current.copy(mouseHelperRef.current.rotation);\r\n          updateGraphic(editGraphic.key, {\r\n            decalPosition: positionRef.current.clone().toArray(),\r\n            decalOrientation: orientationRef.current.clone().toArray(),\r\n          });\r\n        }\r\n      }\r\n\r\n      if (editText?.key) {\r\n        event.stopPropagation();\r\n        updateText(editText.key, { decalFreeze: true });\r\n        setPosition(event);\r\n        if (mouseHelperRef.current && positionRef.current && orientationRef.current) {\r\n          positionRef.current.copy(event.point);\r\n          orientationRef.current.copy(mouseHelperRef.current.rotation);\r\n          updateText(editText.key, {\r\n            decalPosition: positionRef.current.clone().toArray(),\r\n            decalOrientation: orientationRef.current.clone().toArray(),\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [editFlag, editGraphic, editText, isPointerDown, isPointerMoved],\r\n  );\r\n\r\n  const onPointerDown = useCallback<Required<SceneProps>['onPointerDown']>(() => {\r\n    setIsPointerDown(true);\r\n  }, []);\r\n\r\n  const onPointerMove = useCallback<Required<SceneProps>['onPointerMove']>(\r\n    (e) => {\r\n      if (isPointerDown) {\r\n        setIsPointerMoved(true);\r\n      }\r\n    },\r\n    [isPointerDown],\r\n  );\r\n\r\n  const shopifyAddToCart = useMutation({\r\n    mutationFn: addToCart,\r\n    onSuccess: () => {\r\n      window.location.href = window.Shopify.routes.root + 'cart';\r\n      reset();\r\n    },\r\n  });\r\n\r\n  const { mutate } = useCreateCustomDesignMutation(graphQLClient, {\r\n    onSuccess(data) {\r\n      if (data.createCustomDesign?.data) {\r\n        const items = getCartVariations(data.createCustomDesign.data);\r\n        shopifyAddToCart.mutate({ items: items });\r\n      }\r\n    },\r\n  });\r\n\r\n  const { mutateAsync } = useUploadMultipleFilesMutation(graphQLClient, {\r\n    onSuccess(data) {\r\n      const fileIDs = data.multipleUpload.map((f) => f?.data?.id) as string[];\r\n      mutate({ data: getCustomDesignData(state, fileIDs) });\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (addingToCart && modelRotation < 360) {\r\n      setTimeout(() => {\r\n        canvasRef?.current?.toBlob((blob) => {\r\n          if (blob) {\r\n            const file = new File([blob], 'fileName.png', { type: 'image/png' });\r\n            images.current.push(file);\r\n            setModelRotation(modelRotation + 90);\r\n          }\r\n        }, 'image/png');\r\n      }, 50);\r\n    } else if (addingToCart) {\r\n      const upload = async () => {\r\n        await mutateAsync({ files: images.current });\r\n      };\r\n      upload();\r\n    }\r\n  }, [modelRotation, addingToCart, images]);\r\n\r\n  useEffect(() => {\r\n    const camera = cameraRef.current;\r\n    if (!camera) {\r\n      return;\r\n    }\r\n    if (resetCamera) {\r\n      camera.position.set(cameraDefault[0], cameraDefault[1], cameraDefault[2]);\r\n      setAddingToCart();\r\n    }\r\n  }, [resetCamera]);\r\n\r\n  const isEditing = editFlag || editGraphic || editText;\r\n\r\n  return (\r\n    <div className={rootClassName} style={style}>\r\n      <Canvas\r\n        linear\r\n        flat\r\n        camera={{\r\n          position: cameraDefault,\r\n          fov: 45,\r\n        }}\r\n        dpr={window.devicePixelRatio}\r\n        gl={{ preserveDrawingBuffer: true }}\r\n        ref={canvasRef}\r\n        onCreated={(state) => {\r\n          setCanvasSize(state.size.width, state.size.height);\r\n          cameraRef.current = state.camera;\r\n        }}\r\n        frameloop='demand'\r\n      >\r\n        <Scene\r\n          onClick={onClick}\r\n          onPointerDown={onPointerDown}\r\n          onPointerMove={onPointerMove}\r\n          ref={groupRef}\r\n        />\r\n        <Lights />\r\n        {isEditing && <MouseHelper ref={mouseHelperRef} />}\r\n        <OrbitControls\r\n          enableZoom={true}\r\n          maxDistance={30}\r\n          minDistance={10}\r\n          minPolarAngle={Math.PI / 3}\r\n          maxPolarAngle={Math.PI / 1.9}\r\n          position={[0, 0, 0]}\r\n        />\r\n      </Canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomiserCanvas;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}