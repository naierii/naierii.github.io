"use strict";(self.webpackChunkboxxerworld_customiser=self.webpackChunkboxxerworld_customiser||[]).push([[682],{6682:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Vt});var i=a(4875),l=a(1418),s=a.n(l),n=a(6042),r=a(3791),o=a(2791);const c="OptionButton_root__M63xT",d="OptionButton_selected__Mea42";var u=a(184);const h=e=>{let{className:t,selected:a,children:i,...l}=e;const n=s()(c,{[d]:a},t);return(0,u.jsx)("button",{className:n,...l,children:i})};var m=a(8872);const v=e=>{const[t,a]=(0,o.useState)(!1),i=(0,o.useRef)(null);return(0,o.useEffect)((()=>{t||(i.current=document.getElementById(e),i.current&&a(!0))}),[e,t]),t?i.current:null};var p=a(4164);const g="NavButtons_root__ON-jJ",x=e=>{let{className:t}=e;const a=s()(g,t),l=(0,i.b)((e=>e.cancelPartChange)),n=(0,i.b)((e=>e.resetNav)),r=v("CustomiserNavActions");return r?p.createPortal((0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(m.Z,{onClick:()=>l(),children:"Cancel"}),(0,u.jsx)(m.Z,{colour:"red",onClick:()=>n(),children:"Save"})]}),r):null},_="NavFitting_fittingOption__XQUUG",b="NavFitting_fittingButtons__Y1hdd",j=e=>{var t,a;let{option:l}=e;const s=(0,i.b)((e=>e.selectedModels)),r=(0,i.b)((e=>e.setSelectedModel));if(!l)return null;const o=null===(t=s.find((e=>e.optionId===l.id)))||void 0===t?void 0:t.model;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(n.E.div,{className:_,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,u.jsx)("h3",{children:l.name}),(0,u.jsx)("div",{className:b,children:null===(a=l.models)||void 0===a?void 0:a.map((e=>{var t,a,i,s,n;return(0,u.jsx)(h,{selected:(null===o||void 0===o?void 0:o.id)===(null===e||void 0===e||null===(t=e.model)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id),onClick:()=>{var t;return r(l.id,null===e||void 0===e||null===(t=e.model)||void 0===t?void 0:t.data)},children:null===e||void 0===e||null===(i=e.model)||void 0===i||null===(s=i.data)||void 0===s||null===(n=s.attributes)||void 0===n?void 0:n.name},null===e||void 0===e?void 0:e.id)}))})]})})},f=()=>{const e=(0,i.b)((e=>{var t,a;return null===(t=e.customProduct)||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a.options}));return(0,u.jsxs)(u.Fragment,{children:[null===e||void 0===e?void 0:e.map((e=>(0,u.jsx)(j,{option:e},null===e||void 0===e?void 0:e.id))),(0,u.jsx)(x,{})]})};function N(e){return function(e){if(!e)return null;const t=Object.entries(e).map((e=>e[1]?{width:e[1].width,url:e[1].url}:null)).filter((e=>e));return t.length?t.sort(((e,t)=>null!==e&&void 0!==e&&e.width&&null!==t&&void 0!==t&&t.width&&e.width<t.width?-1:null!==e&&void 0!==e&&e.width&&null!==t&&void 0!==t&&t.width&&e.width>t.width?1:0)).reduce(((e,t,a,i)=>e+"".concat(t.url," ").concat(t.width,"w").concat(a<i.length-1?", ":"")),""):null}(e)}const y="Image_root__u7aDb",C=e=>{var t;let{className:a,image:i,sizes:l}=e;const n=s()(y,a);if(!i)return null;const r=(0,o.useMemo)((()=>{var e,t;return null!==(e=i.attributes)&&void 0!==e&&e.height&&null!==(t=i.attributes)&&void 0!==t&&t.width?i.attributes.height/i.attributes.width*100:100}),[i]),c={"--image-padding-top":"".concat(r,"%")},d=(0,o.useMemo)((()=>{var e;return N(null===(e=i.attributes)||void 0===e?void 0:e.formats)}),[i]);return(0,u.jsx)("div",{className:n,style:c,children:d&&(0,u.jsx)("img",{src:null===(t=i.attributes)||void 0===t?void 0:t.url,srcSet:d,sizes:l||"100vw"})})},k={flags:"NavFlags_flags__S52CT",flag:"NavFlags_flag__gtrVs",flagItem:"NavFlags_flagItem__rI7sv",flagItemImage:"NavFlags_flagItemImage__6ov2x"},w=e=>{let{editFlag:t,flags:a}=e;const{addFlag:l,updateFlag:s}=(0,i.b)((e=>e));return(0,u.jsx)("div",{className:k.flags,children:null===a||void 0===a?void 0:a.map((e=>{var a;return(0,u.jsx)("div",{className:k.flag,onClick:()=>{return a=e,void(null!==t&&void 0!==t&&t.key?s(t.key,{flag:a,edit:!0}):l({flag:a}));var a},children:(0,u.jsx)(C,{image:null===(a=e.attributes)||void 0===a?void 0:a.image.data})},e.id)}))})};var T=a(6020);const S={root:"NavDecalAdjust_root__t6vBt",root__rotate:"NavDecalAdjust_root__rotate__jXeZv",root__scale:"NavDecalAdjust_root__scale__eAAaC",rotate:"NavDecalAdjust_rotate__adO98",scale:"NavDecalAdjust_scale__gq4ry"},M=e=>{var t;let{className:a,scale:i=1,rotation:l=0,prices:n,onScale:r,onRotate:o}=e;const c=v("CustomiserCanvasControls");if(!c)return null;const d=s()(S.root,a,S.root__rotate),h=s()(S.root,a,S.root__scale),m=1/((null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:10)-1),g=((e,t,a)=>Array.from({length:(t-e)/a+1},((t,i)=>e+i*a)))(1,2,m),x=null===n||void 0===n?void 0:n.map(((e,t)=>({...e,markKey:Number(g[t].toFixed(5))})));return(0,p.createPortal)((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)(T.Z,{className:S.rotate,thumbClassName:S.thumb,trackClassName:S.track,markClassName:S.mark,min:0,max:360,defaultValue:0,value:l,onChange:o,renderMark:e=>(e.key&&e.key<i?e.className="mark mark-before":e.key&&e.key===i&&(e.className="mark mark-active"),(0,u.jsx)("span",{...e}))}),(0,u.jsx)("h4",{children:"Rotate"})]}),(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("h4",{children:"Size"}),(0,u.jsx)(T.Z,{className:S.scale,thumbClassName:S.thumb,trackClassName:S.track,markClassName:S.mark,marks:g,step:m,min:1,max:2,defaultValue:1,value:i,orientation:"vertical",invert:!0,onChange:e=>{const t=null===x||void 0===x?void 0:x.find((t=>t.markKey===e));r&&r(e,t)},renderMark:e=>(e.key&&e.key<i?e.className="mark mark-before":e.key&&e.key===i&&(e.className="mark mark-active"),(0,u.jsx)("span",{...e}))})]})]}),c)},I="NavEditButtons_root__43Hm3",P=e=>{let{className:t,disabled:a,onApply:i}=e;const l=s()(I,t),n=v("CustomiserNavActions");return n?p.createPortal((0,u.jsxs)("div",{className:l,children:[(0,u.jsx)(m.Z,{onClick:i,children:"Cancel"}),(0,u.jsx)(m.Z,{colour:"red",onClick:i,disabled:a,children:"Save"})]}),n):null},B="NavOptionEdit_root__q-pp0",O=e=>{let{className:t,onEdit:a,onDelete:i}=e;const l=s()(B,t);return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("button",{onClick:a,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.785 24.788",children:(0,u.jsx)("path",{d:"M24.785 6.739 18.046 0 0 18.049v6.739h6.739Zm-6.738-3.218 3.218 3.218-1.351 1.352-3.217-3.218Zm-3.112 3.112 3.218 3.218L7.467 20.538l-3.218-3.22ZM2.489 22.298v-3.219l3.218 3.218Z"})})}),(0,u.jsx)("button",{onClick:i,children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.601 23.219",children:[(0,u.jsx)("path",{d:"m14.601 11.609-1.489-1.489L2.992 0 .001 2.978l8.631 8.631-8.631 8.632 2.991 2.978L13.112 13.1Z"}),(0,u.jsx)("path",{d:"m9 11.609 1.489 1.489 10.12 10.12L23.6 20.24l-8.631-8.631L23.6 2.977 20.609-.001l-10.12 10.119Z"})]})})]})},G=e=>{var t,a;let{flag:l,setShowSelector:s}=e;const{updateFlag:n,deleteFlag:r}=(0,i.b)((e=>e));return(0,u.jsxs)("div",{className:k.flagItem,children:[(0,u.jsx)("div",{className:k.flagItemImage,children:(0,u.jsx)(C,{image:null===(t=l.flag)||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a.image.data})}),(0,u.jsx)(O,{onEdit:()=>{l.key&&n(l.key,{edit:!0}),s(!0)},onDelete:()=>{l.key&&r(l.key)}})]})};var z=a(8148),F=a(1854);const H=()=>{const e=(0,i.b)((e=>e.flags)),t=(0,i.b)((e=>e.updateFlag)),a=null===e||void 0===e?void 0:e.find((e=>e.edit)),[l,s]=(0,o.useState)(!1),{data:n}=(0,z.nY)(F.SL,{pagination:{limit:500}},{select:e=>{var t,a;return{flags:null===(t=e.flags)||void 0===t?void 0:t.data,prices:null===(a=e.graphicPrices)||void 0===a?void 0:a.data}}});return(0,u.jsx)(u.Fragment,{children:l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(M,{scale:null===a||void 0===a?void 0:a.decalScale,rotation:null===a||void 0===a?void 0:a.decalRotation,onScale:(e,i)=>{var l,s;const n=null!==i&&void 0!==i&&null!==(l=i.attributes)&&void 0!==l&&l.size&&null!==i&&void 0!==i&&null!==(s=i.attributes)&&void 0!==s&&s.basePrice?{size:i.attributes.size,basePrice:{...i.attributes.basePrice,quantity:1}}:{};null!==a&&void 0!==a&&a.key&&t(a.key,{decalScale:Number(e),...n})},onRotate:e=>{(0,o.startTransition)((()=>{null!==a&&void 0!==a&&a.key&&t(a.key,{decalRotation:Number(e)})}))},prices:null===n||void 0===n?void 0:n.prices}),(null===n||void 0===n?void 0:n.flags)&&(0,u.jsx)(w,{editFlag:a,flags:n.flags}),(0,u.jsx)(P,{disabled:!a,onApply:()=>{null!==a&&void 0!==a&&a.key&&t(a.key,{decalFreeze:!1,edit:!1}),s(!1)}})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:k.customiserFlags,children:[(0,u.jsx)("h3",{children:"Your Flags"}),null===e||void 0===e?void 0:e.map((e=>(0,u.jsx)(G,{flag:e,setShowSelector:s},e.key))),(0,u.jsx)(m.Z,{colour:"red",onClick:()=>{s(!0)},children:"Add Flag"})]}),(0,u.jsx)(x,{})]})})},A="NavHeader_root__jnadG",L="NavHeader_nav__mJbli",E="NavHeader_title__tOyZd",R="NavHeader_minimizeIcon__GKC2n",Z="NavHeader_minimized__04mp3",D="InfoButton_iInfo__0SLm4",q="InfoButton_iInfo__bgOnclick__3oQL8",W="InfoButton_iInfo__display__nKOtb",V="InfoButton_iInfo__header__IkMmc",X="InfoButton_iInfo__body__6LPfY",Y="InfoButton_iInfo__sampleImg__bKcTE",K="InfoButton_iInfo__closebtn__+Dwj4",U="InfoButton_iInfo__styleName__3bDQ2",Q="InfoButton_iInfo__title__SHp10",J="InfoButton_infoIcon__Yu7F-",$="InfoButton_imgIcon__oWQbZ",ee=e=>{let{title:t,propStyles:a}=e;const i=v("iInfoContainer"),[l,s]=(0,o.useState)(!1);return i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:J,onClick:e=>{s(!0),e.stopPropagation()},children:(0,u.jsx)("img",{src:"/icons/info-icon.png",alt:"info icon",className:"".concat($," ").concat(null===a||void 0===a?void 0:a.imgIcon)})}),l&&(0,p.createPortal)((0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:D,onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("div",{className:q,onClick:()=>s(!1)}),(0,u.jsxs)("div",{className:W,children:[(0,u.jsxs)("div",{className:V,children:[(0,u.jsx)("span",{className:Q,children:"".concat(t," EXAMPLES")||0}),(0,u.jsx)("span",{className:K,onClick:()=>s(!1),children:"x"})]}),(0,u.jsxs)("div",{className:X,children:[(0,u.jsx)("div",{className:U,children:"PRINTED"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119118469/names-printed.jpg",alt:""}),(0,u.jsx)("div",{className:U,children:"EMBROIDERY"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119222257/names-flat-embroidery.png",alt:""}),(0,u.jsx)("div",{className:U,children:"3D EMBROIDERY"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119313289/names-3d-embroidery.jpg",alt:""}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119344264/names-3d-embroidery-perspective.jpg",alt:""}),(0,u.jsx)("div",{className:U,children:"3D CRYSTALS"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119433059/names-3d-crystals.jpg",alt:""}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526727869947/names-3d-crystal-perspective.jpg",alt:""}),(0,u.jsx)("div",{className:U,children:"GLITTER"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119258957/names-glitter.pg.jpg",alt:""}),(0,u.jsx)("div",{className:U,children:"NAME PATCH"}),(0,u.jsx)("img",{className:Y,src:"https://res.cloudinary.com/dot-to-dot-design/w_868,f_auto,q_auto/boxxer_s3/content/1526119480153/name-patch-on-shorts.jpg",alt:""})]})]})]})}),i)]}):null},te=e=>{let{className:t,toggle:a,isOpen:l,isMinimized:n=!1,onClick:r}=e;const o=s()(A,t),c=(0,i.b)((e=>e.selectedNav));if(l)return null;const d=s()(R,{[Z]:n});return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:o,onClick:r,children:(0,u.jsxs)("div",{className:L,children:[(0,u.jsx)("div",{className:E,children:null===c||void 0===c?void 0:c.name}),(0,u.jsx)("div",{className:d,children:(0,u.jsx)("svg",{viewBox:"0 0 330 330",children:(0,u.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",id:"XMLID_224_",d:"M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394  l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393  C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"})})}),(0,u.jsx)(ee,{title:null===c||void 0===c?void 0:c.name})]})})})},ae={dropZone:"NavImages_dropZone__4YMrM",image:"NavImages_image__svpqZ",graphicItem:"NavImages_graphicItem__XenKS",graphicItemImage:"NavImages_graphicItemImage__8GS2T"},ie=e=>{var t,a,l;let{graphic:s,setShowSelector:n}=e;const{updateGraphic:r,deleteGraphic:o}=(0,i.b)((e=>e));return(0,u.jsxs)("div",{className:ae.graphicItem,children:[(0,u.jsx)("div",{className:ae.graphicItemImage,children:(0,u.jsx)(C,{image:null===(t=s.graphic)||void 0===t||null===(a=t.attributes)||void 0===a||null===(l=a.image)||void 0===l?void 0:l.data})}),(0,u.jsx)(O,{onEdit:()=>{s.key&&r(s.key,{edit:!0}),n(!0)},onDelete:()=>{s.key&&o(s.key)}})]})};var le=a(7831);const se=e=>{let{setGraphic:t}=e;const[a,i]=(0,o.useState)(!1),{mutate:l}=(0,z.Zn)(F.SL,{onSuccess(e){var a;const l=null===(a=e.createGraphic)||void 0===a?void 0:a.data;i(!1),l&&t(l)}}),{mutate:s}=(0,z.a1)(F.SL,{onSuccess(e){const t=e.multipleUpload.map((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id}));l({data:{image:t[0],customer:!0,name:t[0]}})}}),n=(0,o.useCallback)((e=>{i(!0),s({files:e})}),[]),{getRootProps:r,getInputProps:c,isDragActive:d}=(0,le.uI)({onDrop:n,accept:{"image/jpeg":[],"image/png":[]},maxFiles:1,multiple:!1});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h5",{children:"Upload an image"}),(0,u.jsxs)("div",{className:ae.dropZone,...r(),children:[(0,u.jsx)("input",{...c()}),(0,u.jsxs)("div",{children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.219 29.191",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M11.609 0 10.12 1.489 0 11.609 2.978 14.6l8.631-8.631 8.632 8.631 2.978-2.991L13.1 1.489Z"}),(0,u.jsx)("path",{d:"M14.356 29.191h-5v-26h5Z"})]})}),a?(0,u.jsx)("h5",{children:"Please wait..."}):d?(0,u.jsx)("h5",{children:"Drop images here ..."}):(0,u.jsx)("h5",{children:"Click or drag images here to upload"})]})]})]})},ne=e=>{var t,a;let{editGraphic:l,graphic:s}=e;const[n,r]=(0,o.useState)(s),{addGraphic:c,updateGraphic:d}=(0,i.b)((e=>e));return(0,u.jsx)("div",{className:ae.graphics,children:n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(C,{className:ae.image,image:null===(t=n.attributes)||void 0===t||null===(a=t.image)||void 0===a?void 0:a.data}),(0,u.jsx)(m.Z,{onClick:()=>r(void 0),children:"Change Image"})]}):(0,u.jsx)(se,{setGraphic:e=>{r(e),(e=>{null!==l&&void 0!==l&&l.key?d(l.key,{graphic:e,edit:!0}):c({graphic:e})})(e)}})})},re=()=>{const[e,t]=(0,o.useState)(!1),a=(0,i.b)((e=>e.graphics)),l=(0,i.b)((e=>e.updateGraphic)),s=null===a||void 0===a?void 0:a.find((e=>e.edit)),{data:n}=(0,z.Nn)(F.SL,{},{select:e=>{var t;return{prices:null===(t=e.graphicPrices)||void 0===t?void 0:t.data}}});return(0,u.jsx)(u.Fragment,{children:e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(M,{scale:null===s||void 0===s?void 0:s.decalScale,rotation:null===s||void 0===s?void 0:s.decalRotation,onScale:(e,t)=>{var a,i;const n=null!==t&&void 0!==t&&null!==(a=t.attributes)&&void 0!==a&&a.size&&null!==t&&void 0!==t&&null!==(i=t.attributes)&&void 0!==i&&i.basePrice?{size:t.attributes.size,basePrice:{...t.attributes.basePrice,quantity:1}}:{};null!==s&&void 0!==s&&s.key&&l(s.key,{decalScale:Number(e),...n})},onRotate:e=>{(0,o.startTransition)((()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalRotation:Number(e)})}))},prices:null===n||void 0===n?void 0:n.prices}),(0,u.jsx)(ne,{editGraphic:s,graphic:null===s||void 0===s?void 0:s.graphic}),(0,u.jsx)(P,{disabled:!s,onApply:()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalFreeze:!1,edit:!1}),t(!1)}})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:ae.customiserFlags,children:[(0,u.jsx)("h3",{children:"Your Images"}),null===a||void 0===a?void 0:a.map((e=>(0,u.jsx)(ie,{graphic:e,setShowSelector:t},e.key))),(0,u.jsx)(m.Z,{colour:"red",onClick:()=>{t(!0)},children:"Add Image"})]}),(0,u.jsx)(x,{})]})})},oe="NavOptions_root__Gotx6",ce="NavOptions_option__GpS8E",de="NavOptions_optionTitle__m6iQF",ue="NavOptions_required__Wy+GM",he="NavOptions_icon__KPrLI",me="NavOptions_iconSelected__ZnEvu",ve=e=>{let{toggle:t}=e;const a=(0,i.b)((e=>e.navItems)),l=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.variation})),n=(0,i.b)((e=>e.savedParts)),r=(0,i.b)((e=>e.flags)),o=(0,i.b)((e=>e.texts)),c=(0,i.b)((e=>e.setSelectedNav)),d=e=>"fitting"===e.type||(!("size"!==e.type||!l)||(!("part"!==e.type||!n.find((t=>t.part.id===e.id)))||(!("flags"!==e.type||!r.length)||(!("names"!==e.type||!o.length)||void 0))));return(0,u.jsx)("div",{className:oe,children:a.map((e=>(0,u.jsxs)("button",{className:ce,onClick:()=>{return a=e.index?e.index:0,t(),void c(a);var a},children:[(0,u.jsxs)("div",{className:de,children:[(0,u.jsx)("h3",{children:e.name}),e.required&&(0,u.jsx)("span",{className:ue,children:"Required"})]}),(0,u.jsx)("svg",{className:s()(he,{[me]:d(e)}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26.223 20.854",children:(0,u.jsx)("path",{d:"m.854 11.955 2.604-3.11L9.952 14.3 21.736.248l3.102 2.614-14.39 17.22Z"})})]},e.index)))})},pe={pillButton:"PillButton_pillButton__SdZPI",pillButtonSelected:"PillButton_pillButtonSelected__qUXX-",darkGrey:"PillButton_darkGrey__Awkzq",black:"PillButton_black__SrGWm"},ge=e=>{let{className:t,children:a,selected:i=!1,color:l="red",...n}=e;const r=s()(pe.pillButton,{[pe.pillButtonSelected]:i,[pe[l]]:l},t);return(0,u.jsx)("button",{className:r,...n,children:a})},xe={root:"MaterialGroup_root__M5bHl",colourGroups:"MaterialGroup_colourGroups__G3KSo",materialType:"MaterialGroup_materialType__X63YP",materialType__title:"MaterialGroup_materialType__title__nQjVb",materials:"MaterialGroup_materials__iAoDB"};var _e=a(5847),be=a(9276),je=a(2546),fe=a(1085),Ne=a(763);const ye=e=>(0,Ne.uniqBy)(e,"id"),Ce={colourGroups:[],materialTypes:[],materials:[]},ke=(e,t)=>({...Ce,filteredMaterials:()=>{const e=t().materials,a=t().selectedColourGroup;return e.filter((e=>{var t,i;return null===(t=e.attributes)||void 0===t||null===(i=t.colourGroups)||void 0===i?void 0:i.data.find((e=>e.id===(null===a||void 0===a?void 0:a.id)))}))},resetMaterialGroup:()=>e(Ce),setMaterials:(t,a,i)=>{e((0,je.ZP)((e=>{const l=t.flatMap((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.colourGroups)||void 0===a?void 0:a.data}));var s;e.colourGroups=(s=l,(0,Ne.uniqBy)(s,"id")),e.selectedColourGroup=i||e.colourGroups[0];const n=t.filter((t=>{var a,i;return null===(a=t.attributes)||void 0===a||null===(i=a.colourGroups)||void 0===i?void 0:i.data.find((t=>{var a;return t.id===(null===(a=e.selectedColourGroup)||void 0===a?void 0:a.id)}))})).map((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.data}));e.materialTypes=ye(n),e.selectedMaterialType=a||e.materialTypes[0],e.materials=(e=>(0,Ne.uniqBy)(e,"id"))(t)})))},setColourGroup:t=>{e((0,je.ZP)((e=>{e.selectedColourGroup=t;const a=e.materials.filter((t=>{var a,i;return null===(a=t.attributes)||void 0===a||null===(i=a.colourGroups)||void 0===i?void 0:i.data.find((t=>{var a;return t.id===(null===(a=e.selectedColourGroup)||void 0===a?void 0:a.id)}))})).map((e=>{var t,a;return null===(t=e.attributes)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.data}));e.materialTypes=ye(a)})))},setMaterialType:t=>{e((0,je.ZP)((e=>{e.selectedMaterialType=t})))}}),{Provider:we,useStore:Te}=(0,be.Z)(),Se=()=>(0,_e.Ue)()((0,fe.mW)(ke)),Me=e=>{var t,a,i,l,n,r;let{className:o,material:c,onMaterialSelected:d}=e;const h=s()(xe.material,o),m=null===c||void 0===c||null===(t=c.attributes)||void 0===t||null===(a=t.images)||void 0===a?void 0:a.find((e=>"map"===(null===e||void 0===e?void 0:e.mapType)));return(0,u.jsx)("button",{className:h,onClick:()=>{c&&d(c)},"data-name":null===(i=c.attributes)||void 0===i?void 0:i.name,children:m&&(0,u.jsx)("img",{src:null===m||void 0===m||null===(l=m.image)||void 0===l||null===(n=l.data)||void 0===n||null===(r=n.attributes)||void 0===r?void 0:r.formats.thumbnail.url})})},Ie=e=>{let{className:t,onMaterialSelected:a,hideColorGroups:i}=e;const l=s()(xe.materialType,t),{materialTypes:n,filteredMaterials:r,materials:o}=Te(),c=i?o:r();return(0,u.jsxs)("div",{className:l,children:[!i&&(0,u.jsx)("h5",{children:"Texture"}),n.map((e=>{var t;return(0,u.jsxs)("div",{className:xe.materialType,children:[(0,u.jsx)("h6",{className:xe.materialType__title,children:null===(t=e.attributes)||void 0===t?void 0:t.name}),(0,u.jsx)("div",{className:xe.materials,children:c.filter((t=>{var a,i,l;return(null===(a=t.attributes)||void 0===a||null===(i=a.type)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.id)===e.id})).map((e=>(0,u.jsx)(Me,{material:e,onMaterialSelected:a},e.id)))})]},e.id)}))]})},Pe="SelectedMaterialInfo_root__kIp+x",Be="SelectedMaterialInfo_root__noMaterial__dtWKf",Oe="SelectedMaterialInfo_materialName__vha4F",Ge=()=>{var e,t,a,l,n;const r=v("CustomiserNavMaterial"),{selectedPart:c,parts:d}=(0,i.b)(),h=(0,o.useMemo)((()=>{var e;return null===(e=d.find((e=>e.part.id===(null===c||void 0===c?void 0:c.id))))||void 0===e?void 0:e.material}),[c,d]);return r?h?p.createPortal((0,u.jsxs)("div",{className:Pe,children:[(0,u.jsx)("div",{className:Oe,children:null===(e=h.attributes)||void 0===e?void 0:e.name}),(0,u.jsxs)("div",{children:["$",null===(t=h.attributes)||void 0===t||null===(a=t.price)||void 0===a||null===(l=a.data)||void 0===l||null===(n=l.attributes)||void 0===n?void 0:n.price]}),(0,u.jsx)("small",{children:(0,u.jsx)("i",{children:"TODO: Add currency"})})]}),r):p.createPortal((0,u.jsx)("div",{className:s()(Pe,Be),children:"No material selected."}),r):null},ze={id:"999",attributes:{name:"leatherette black",hex:"#000000",type:{data:{id:"3",attributes:{name:"Leather"}}},colourGroups:{data:[{id:"1",attributes:{name:"Black",colour:"#000000"}}]},price:{data:{id:"1",attributes:{name:"Basic Material",price:0,sku:"MAT-BASIC"}}},images:[{mapType:"roughnessMap",image:{data:{id:"1670",attributes:{url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/leatherrete_black_Roughness_b5f13bdb10.jpg",size:72.54,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _Roughness.jpg",formats:{large:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/large_leatherrete_black_Roughness_b5f13bdb10.jpg",hash:"large_leatherrete_black_Roughness_b5f13bdb10",mime:"image/jpeg",name:"large_leatherrete black _Roughness.jpg",path:null,size:68.76,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Roughness_b5f13bdb10.jpg",hash:"small_leatherrete_black_Roughness_b5f13bdb10",mime:"image/jpeg",name:"small_leatherrete black _Roughness.jpg",path:null,size:9.53,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Roughness_b5f13bdb10.jpg",hash:"medium_leatherrete_black_Roughness_b5f13bdb10",mime:"image/jpeg",name:"medium_leatherrete black _Roughness.jpg",path:null,size:32.15,width:750,height:750},thumbnail:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/thumbnail_leatherrete_black_Roughness_b5f13bdb10.jpg",hash:"thumbnail_leatherrete_black_Roughness_b5f13bdb10",mime:"image/jpeg",name:"thumbnail_leatherrete black _Roughness.jpg",path:null,size:.48,width:156,height:156}}}}}},{mapType:"normalMap",image:{data:{id:"1669",attributes:{url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/leatherrete_black_Normal_b06ee1120c.jpg",size:218.41,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _Normal.jpg",formats:{large:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/large_leatherrete_black_Normal_b06ee1120c.jpg",hash:"large_leatherrete_black_Normal_b06ee1120c",mime:"image/jpeg",name:"large_leatherrete black _Normal.jpg",path:null,size:187.02,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Normal_b06ee1120c.jpg",hash:"small_leatherrete_black_Normal_b06ee1120c",mime:"image/jpeg",name:"small_leatherrete black _Normal.jpg",path:null,size:10.12,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Normal_b06ee1120c.jpg",hash:"medium_leatherrete_black_Normal_b06ee1120c",mime:"image/jpeg",name:"medium_leatherrete black _Normal.jpg",path:null,size:57.89,width:750,height:750},thumbnail:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/thumbnail_leatherrete_black_Normal_b06ee1120c.jpg",hash:"thumbnail_leatherrete_black_Normal_b06ee1120c",mime:"image/jpeg",name:"thumbnail_leatherrete black _Normal.jpg",path:null,size:.47,width:156,height:156}}}}}},{mapType:"metalnessMap",image:{data:{id:"1668",attributes:{url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/leatherrete_black_Metallic_215a850718.jpg",size:6.41,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _Metallic.jpg",formats:{large:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/large_leatherrete_black_Metallic_215a850718.jpg",hash:"large_leatherrete_black_Metallic_215a850718",mime:"image/jpeg",name:"large_leatherrete black _Metallic.jpg",path:null,size:6.22,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Metallic_215a850718.jpg",hash:"small_leatherrete_black_Metallic_215a850718",mime:"image/jpeg",name:"small_leatherrete black _Metallic.jpg",path:null,size:1.8,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Metallic_215a850718.jpg",hash:"medium_leatherrete_black_Metallic_215a850718",mime:"image/jpeg",name:"medium_leatherrete black _Metallic.jpg",path:null,size:3.58,width:750,height:750},thumbnail:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/thumbnail_leatherrete_black_Metallic_215a850718.jpg",hash:"thumbnail_leatherrete_black_Metallic_215a850718",mime:"image/jpeg",name:"thumbnail_leatherrete black _Metallic.jpg",path:null,size:.42,width:156,height:156}}}}}},{mapType:"displacementMap",image:{data:{id:"1667",attributes:{url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/leatherrete_black_Height_2df036cfe9.jpg",size:37.78,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _Height.jpg",formats:{large:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/large_leatherrete_black_Height_2df036cfe9.jpg",hash:"large_leatherrete_black_Height_2df036cfe9",mime:"image/jpeg",name:"large_leatherrete black _Height.jpg",path:null,size:35.71,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Height_2df036cfe9.jpg",hash:"small_leatherrete_black_Height_2df036cfe9",mime:"image/jpeg",name:"small_leatherrete black _Height.jpg",path:null,size:4.75,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Height_2df036cfe9.jpg",hash:"medium_leatherrete_black_Height_2df036cfe9",mime:"image/jpeg",name:"medium_leatherrete black _Height.jpg",path:null,size:16.73,width:750,height:750},thumbnail:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/thumbnail_leatherrete_black_Height_2df036cfe9.jpg",hash:"thumbnail_leatherrete_black_Height_2df036cfe9",mime:"image/jpeg",name:"thumbnail_leatherrete black _Height.jpg",path:null,size:.45,width:156,height:156}}}}}},{mapType:"map",image:{data:{id:"1666",attributes:{url:"materials/test-materials/rainbow.jpg",size:6.41,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _BaseColor.jpg",formats:{large:{ext:".jpg",url:"materials/test-materials/rainbow.jpg",hash:"large_leatherrete_black_Base_Color_e88b772053",mime:"image/jpeg",name:"large_leatherrete black _BaseColor.jpg",path:null,size:6.22,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Base_Color_e88b772053.jpg",hash:"small_leatherrete_black_Base_Color_e88b772053",mime:"image/jpeg",name:"small_leatherrete black _BaseColor.jpg",path:null,size:1.8,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Base_Color_e88b772053.jpg",hash:"medium_leatherrete_black_Base_Color_e88b772053",mime:"image/jpeg",name:"medium_leatherrete black _BaseColor.jpg",path:null,size:3.58,width:750,height:750},thumbnail:{ext:".jpg",url:"materials/test-materials/rainbow.jpg",hash:"thumbnail_leatherrete_black_Base_Color_e88b772053",mime:"image/jpeg",name:"thumbnail_leatherrete black _BaseColor.jpg",path:null,size:.42,width:156,height:156}}}}}},{mapType:"aoMap",image:{data:{id:"1665",attributes:{url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/leatherrete_black_Ambient_Occlusion_75b9c3d553.jpg",size:55.72,width:1024,height:1024,ext:".jpg",mime:"image/jpeg",name:"leatherrete black _AmbientOcclusion.jpg",formats:{large:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/large_leatherrete_black_Ambient_Occlusion_75b9c3d553.jpg",hash:"large_leatherrete_black_Ambient_Occlusion_75b9c3d553",mime:"image/jpeg",name:"large_leatherrete black _AmbientOcclusion.jpg",path:null,size:49.49,width:1e3,height:1e3},small:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/small_leatherrete_black_Ambient_Occlusion_75b9c3d553.jpg",hash:"small_leatherrete_black_Ambient_Occlusion_75b9c3d553",mime:"image/jpeg",name:"small_leatherrete black _AmbientOcclusion.jpg",path:null,size:3.52,width:500,height:500},medium:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/medium_leatherrete_black_Ambient_Occlusion_75b9c3d553.jpg",hash:"medium_leatherrete_black_Ambient_Occlusion_75b9c3d553",mime:"image/jpeg",name:"medium_leatherrete black _AmbientOcclusion.jpg",path:null,size:19.7,width:750,height:750},thumbnail:{ext:".jpg",url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/thumbnail_leatherrete_black_Ambient_Occlusion_75b9c3d553.jpg",hash:"thumbnail_leatherrete_black_Ambient_Occlusion_75b9c3d553",mime:"image/jpeg",name:"thumbnail_leatherrete black _AmbientOcclusion.jpg",path:null,size:.42,width:156,height:156}}}}}}]}},Fe=e=>{var t;let{className:a,materialGroup:i,materialType:l,colourGroup:n,onMaterialSelected:r,hideColorGroups:c}=e;const d=Te((e=>e.colourGroups)),h=Te((e=>e.selectedColourGroup)),m=Te((e=>e.setMaterials)),v=Te((e=>e.setColourGroup)),p=s()(xe.root,a),g=null!==i&&void 0!==i&&null!==(t=i.attributes)&&void 0!==t&&t.materialTypes?i.attributes.materialTypes.data.map((e=>e.id)):[],{data:x}=(0,z.hF)(F.SL,{filters:{type:{id:{in:g}}},pagination:{pageSize:200}},{select:e=>{var t;return null===(t=e.materials)||void 0===t?void 0:t.data}});return(0,o.useEffect)((()=>{null!==x&&void 0!==x&&x.length&&(x.find((e=>"999"===e.id))||x.push(ze),console.log("materials",x),m(x,l,n))}),[x]),i?(0,u.jsxs)("div",{className:p,children:[!c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h5",{children:"Colour"}),(0,u.jsx)("div",{className:xe.colourGroups,children:d.map((e=>{var t,a,i,l;return(0,u.jsx)("button",{onClick:()=>v(e),children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 42",strokeWidth:4,stroke:(null===h||void 0===h?void 0:h.id)===e.id?"#000":null!==(t=null===(a=e.attributes)||void 0===a?void 0:a.colour)&&void 0!==t?t:"#000",fill:null!==(i=null===(l=e.attributes)||void 0===l?void 0:l.colour)&&void 0!==i?i:"#000",children:(0,u.jsx)("rect",{width:"100%",height:"100%"})})},e.id)}))})]}),(0,u.jsx)(Ie,{hideColorGroups:c,onMaterialSelected:r}),(0,u.jsx)(Ge,{})]}):null},He=e=>(0,u.jsx)(we,{createStore:Se,children:(0,u.jsx)(Fe,{...e})}),Ae={showOptional:"NavPart_showOptional__s6PPL"},Le=e=>{var t,a,l,r,c;let{className:d,part:h}=e;const m=s()(Ae.root,d),v=(0,i.b)((e=>e.selectedPart)),p=(0,i.b)((e=>e.setPart)),g=(0,i.b)((e=>e.removePart)),_=(0,i.b)((e=>e.parts)),b=(0,o.useMemo)((()=>_.find((e=>e.part.id===(null===h||void 0===h?void 0:h.id)))),[h]),[j,f]=(0,o.useState)(!1);if(null===h||void 0===h||null===(t=h.materialGroup)||void 0===t||!t.data)return null;return(0,o.useEffect)((()=>{h.optional&&!j&&b&&f(!0)}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.E.div,{className:m,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[h.optional&&(0,u.jsxs)(ge,{className:Ae.showOptional,selected:j,onClick:()=>{return f(e=!j),void(e||g(h));var e},children:[j?"Remove":"Add"," ",h.name]}),(!h.optional||h.optional&&j)&&(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(He,{materialGroup:h.materialGroup.data,materialType:null===b||void 0===b||null===(a=b.material.attributes)||void 0===a||null===(l=a.type)||void 0===l?void 0:l.data,colourGroup:null===b||void 0===b||null===(r=b.material.attributes)||void 0===r||null===(c=r.colourGroups)||void 0===c?void 0:c.data[0],onMaterialSelected:e=>{v&&e&&p(v,e)}})})]},h.id),(0,u.jsx)(x,{})]})},Ee="FormInput_root__cf10F",Re="FormInput_input__gRXur",Ze="FormInput_label__9L2lb",De=e=>{let{className:t,placeholder:a,children:i,...l}=e;const n=s()(Ee,t);return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("input",{className:Re,...l,placeholder:" "}),(0,u.jsx)("label",{className:Ze,children:a}),i]})},qe="FormSelect_root__li+Rt",We="FormSelect_select__ftYcv",Ve="FormSelect_icon__juFw+",Xe=e=>{let{className:t,children:a,...i}=e;const l=s()(qe,t);return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("select",{className:We,...i,children:a}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:Ve,viewBox:"0 0 18.108 30.546",children:(0,u.jsx)("path",{d:"m2.835 30.545-2.836-2.836 12.387-12.436L0 2.835 2.836-.001l15.272 15.274Z"})})]})},Ye=(e,t,a)=>{let i="";if("KGS"===e)switch(!0){case 0<=t&&t<10:i="BABY";break;case 10<=t&&t<16:i="TODDLER";break;case 16<=t&&t<22:i="S-CHILD";break;case 22<=t&&t<30:i="M-CHILD";break;case 30<=t&&t<40:i="L-CHILD";break;case 40<=t&&t<50:i="YOUTH";break;case 50<=t&&t<59:i="XS";break;case 59<=t&&t<69:i="S";break;case 69<=t&&t<79:i="M";break;case 79<=t&&t<90:i="L";break;case 90<=t&&t<101:i="XL";break;case 101<=t&&t<111:i="2XL";break;case 111<=t&&t<120:i="3XL";break;case 120<=t:i="4XL"}else switch(!0){case 0<=t&&t<22:i="BABY";break;case 22<=t&&t<35.3:i="TODDLER";break;case 35.3<=t&&t<48.5:i="S-CHILD";break;case 48.5<=t&&t<66.1:i="M-CHILD";break;case 66.1<=t&&t<88.2:i="L-CHILD";break;case 88.2<=t&&t<110.2:i="YOUTH";break;case 110.2<=t&&t<130:i="XS";break;case 130<=t&&t<152.1:i="S";break;case 152.1<=t&&t<174.2:i="M";break;case 174.2<=t&&t<198.4:i="L";break;case 198.4<=t&&t<222.7:i="XL";break;case 222.7<=t&&t<244.7:i="2XL";break;case 244.7<=t&&t<264.6:i="3XL";break;case 264.6<=t:i="4XL"}return a.find((e=>{var t;return null===(t=e.sku)||void 0===t?void 0:t.endsWith(i)}))};var Ke=a(9135);const Ue={variations:"NavSize_variations__cMdjc",unitToggle:"NavSize_unitToggle__LqIuI",toggleButton:"NavSize_toggleButton__5PZDI",toggleButtonSelected:"NavSize_toggleButtonSelected__au+Rx"},Qe=e=>{let{className:t}=e;const a=s()(Ue.root,t),l=(0,i.b)((e=>e.variations)),r=(0,i.b)((e=>e.setSizing)),c=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.weight})),d=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.height})),h=(0,i.b)((e=>{var t;return null===(t=e.sizing)||void 0===t?void 0:t.variation}));(0,o.useEffect)((()=>{if(null!==c&&void 0!==c&&c.value&&c.unit){const e=Ye(c.unit,c.value,l);r(void 0,void 0,e)}}),[c,l]);const m=e=>{r({value:null===d||void 0===d?void 0:d.value,unit:e})},v=e=>{r(void 0,{value:null===c||void 0===c?void 0:c.value,unit:e})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.E.div,{className:a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,u.jsx)("h3",{children:"Size Details"}),(0,u.jsx)("p",{children:"To help us make sure the size you\u2019ve selected is correct, enter your height and weight below."}),(0,u.jsx)(De,{type:"number",placeholder:"Enter Height",step:"0.1",required:!0,value:null!==d&&void 0!==d&&d.value?d.value:"",onChange:e=>{r({value:Number(e.target.value),unit:"CM"})},children:(0,u.jsxs)("div",{className:Ue.unitToggle,children:[(0,u.jsx)("button",{className:s()(Ue.toggleButton,{[Ue.toggleButtonSelected]:(null===d||void 0===d?void 0:d.unit)===Ke.iI.HEIGHT.CM}),onClick:()=>m(Ke.iI.HEIGHT.CM),children:Ke.iI.HEIGHT.CM}),"/",(0,u.jsx)("button",{className:s()(Ue.toggleButton,{[Ue.toggleButtonSelected]:(null===d||void 0===d?void 0:d.unit)===Ke.iI.HEIGHT.INCH}),onClick:()=>m(Ke.iI.HEIGHT.INCH),children:Ke.iI.HEIGHT.INCH})]})}),(0,u.jsx)(De,{type:"number",placeholder:"Enter Weight",step:"0.1",required:!0,value:null!==c&&void 0!==c&&c.value?c.value:"",onChange:e=>{r(void 0,{value:Number(e.target.value),unit:"KGS"})},children:(0,u.jsxs)("div",{className:Ue.unitToggle,children:[(0,u.jsx)("button",{className:s()(Ue.toggleButton,{[Ue.toggleButtonSelected]:(null===c||void 0===c?void 0:c.unit)===Ke.iI.WEIGHT.KG}),onClick:()=>v(Ke.iI.WEIGHT.KG),children:Ke.iI.WEIGHT.KG}),"/",(0,u.jsx)("button",{className:s()(Ue.toggleButton,{[Ue.toggleButtonSelected]:(null===c||void 0===c?void 0:c.unit)===Ke.iI.WEIGHT.LB}),onClick:()=>v(Ke.iI.WEIGHT.LB),children:Ke.iI.WEIGHT.LB})]})}),(0,u.jsx)("h3",{children:"Suggested Size"}),(0,u.jsx)(Xe,{value:null===h||void 0===h?void 0:h.id,onChange:e=>{const t=e.target.value,a=l.find((e=>e.id===t));r(void 0,void 0,a)},children:l.map((e=>(0,u.jsx)("option",{value:e.id,children:e.title},e.id)))})]}),(0,u.jsx)(x,{})]})},Je={titleContainer:"Accordion_titleContainer__4Sz8F",titleStep:"Accordion_titleStep__zM9JM",active:"Accordion_active__ceAJO",titleButton:"Accordion_titleButton__vj8Pw",content:"Accordion_content__FiW6c",imgIcon:"Accordion_imgIcon__bRbYE"},$e=e=>{let{className:t,children:a,title:i,currentStep:l,step:n,onTitleClick:r=(()=>{})}=e;const o=i&&"string"===typeof i&&["TEXT COLOR"].includes(i.toUpperCase()),c=s()(Je.titleContainer,{[Je.active]:n===l});return(0,u.jsxs)("div",{className:s()(t),children:[(0,u.jsxs)("div",{className:c,onClick:()=>{r(n)},children:["number"===typeof n&&(0,u.jsxs)(m.Z,{className:Je.titleStep,colour:"red",children:["Step ",n+1]}),(0,u.jsxs)(m.Z,{className:Je.titleButton,children:[i,o&&(0,u.jsx)(ee,{title:"TEXT COLOR",propStyles:Je})]})]}),n===l&&(0,u.jsx)("div",{className:Je.content,children:a})]})},et="NavStepButtons_root__6pgaM",tt=e=>{let{className:t,step:a,maxStep:i,onApply:l,onNext:n,onPrevious:r}=e;const o=s()(et,t),c=v("CustomiserNavActions");return c?p.createPortal((0,u.jsxs)("div",{className:o,children:[0===a?(0,u.jsx)(m.Z,{colour:"darkGrey",onClick:l,children:"Cancel"}):(0,u.jsx)(m.Z,{onClick:r,disabled:0===a,children:"Prev Step"}),a===i?(0,u.jsx)(m.Z,{colour:"red",onClick:l,children:"Save"}):(0,u.jsx)(m.Z,{colour:"yellow",onClick:n,children:"Next Step"})]}),c):null},at={arial:"NavText_arial__de7L4",oswald:"NavText_oswald__siLdE",college:"NavText_college__YR6iT",ballantines:"NavText_ballantines__1B1LU",navTextEdit:"NavText_navTextEdit__8WUIS",textItem:"NavText_textItem__nQrv4",textItemText:"NavText_textItemText__op7hZ",finishSelections:"NavText_finishSelections__fH4yd",disabled:"NavText_disabled__M-nHo",showOutline:"NavText_showOutline__T7KEv",fontSelection:"NavText_fontSelection__AH-QM",font:"NavText_font__v43yE",finishSelection:"NavText_finishSelection__CfQ+O",selected:"NavText_selected__SIXSo",pricing:"NavText_pricing__qUsci",materialGroup:"NavText_materialGroup__j+DTa",navTextsSelection:"NavText_navTextsSelection__gJNy+",title:"NavText_title__u+YKh",titleText:"NavText_titleText__lFoUP",textPreview:"NavText_textPreview__CfhSo",noText:"NavText_noText__Parmv",textPreview__imgContainer:"NavText_textPreview__imgContainer__6SJ9b",promptMessage:"NavText_promptMessage__iKeIZ"},it={},lt=e=>{let{className:t,price:a,priceString:i}=e;const l=s()("price-item",it.root,t),n=void 0!==a?"".concat("\xa3").concat(a.toFixed(2)):"".concat("\xa3").concat(i);return n?(0,u.jsx)("span",{className:l,children:n}):null},st=e=>{var t,a,l,n,r,c,d,h,m,v,p,g;let{editText:x={}}=e;const{selectedName:_}=x,[b,j]=(0,o.useState)(!(null===x||void 0===x||!x.crystalPrice)),[f,N]=(0,o.useState)(!(null===x||void 0===x||!x.puffPrice)),[y,C]=(0,o.useState)(!1),k=(0,o.useMemo)((()=>(null===_||void 0===_?void 0:_.id)===Ke.gQ),[_]),{updateText:w}=(0,i.b)();if((0,o.useEffect)((()=>{N(!!x.puffPrice)}),[x.puffPrice]),!_)return null;const T=e=>{null!==x&&void 0!==x&&x.key&&(console.log("crystalBackground",e),w(x.key,{crystalBackground:e}))},S=e=>{var t,a,i,l;null!==x&&void 0!==x&&x.key&&(j(e),w(x.key,e?{crystalPrice:{price:null===(t=_.attributes)||void 0===t||null===(a=t.crystalPrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=_.attributes)||void 0===i||null===(l=i.crystalPrice)||void 0===l?void 0:l.shopifyVariantId}}:{crystalPrice:void 0}))},M=e=>{var t,a,i,l;null!==x&&void 0!==x&&x.key&&(N(e),w(x.key,e?{puffPrice:{price:null===(t=_.attributes)||void 0===t||null===(a=t.puffPrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=_.attributes)||void 0===i||null===(l=i.puffPrice)||void 0===l?void 0:l.shopifyVariantId}}:{puffPrice:void 0}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:at.finishSelections,children:[(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:!b}),onClick:()=>S(!1),children:["No Crystals",(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:b}),onClick:()=>S(!0),children:["Add Crystals",(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:null===(t=_.attributes)||void 0===t||null===(a=t.crystalPrice)||void 0===a?void 0:a.price})]})]})]}),b&&(0,u.jsxs)("div",{className:at.finishSelections,children:[(0,u.jsx)("div",{className:s()(at.finishSelection,{[at.selected]:!y}),onClick:()=>{T(void 0),C(!1)},children:"No Crystals Background"}),(0,u.jsx)("div",{className:s()(at.finishSelection,{[at.selected]:y}),onClick:()=>C(!0),children:"Add Crystals Background"})]}),!b&&(0,u.jsxs)("div",{className:at.finishSelections,children:[(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:!f}),onClick:()=>M(!1),children:["Flat",(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:f,[at.disabled]:!k}),onClick:()=>M(!0),children:["Add 3D Puff",k?(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:null===(l=_.attributes)||void 0===l||null===(n=l.puffPrice)||void 0===n?void 0:n.price})]}):(0,u.jsx)("div",{className:at.pricing,children:"(Only available for luxury colors)"})]})]}),y&&(0,u.jsx)(He,{hideColorGroups:!0,materialGroup:null===(r=_.attributes)||void 0===r||null===(c=r.materialGroup)||void 0===c?void 0:c.data,materialType:null===(d=x.material)||void 0===d||null===(h=d.attributes)||void 0===h||null===(m=h.type)||void 0===m?void 0:m.data,colourGroup:null===(v=x.material)||void 0===v||null===(p=v.attributes)||void 0===p||null===(g=p.colourGroups)||void 0===g?void 0:g.data[0],onMaterialSelected:T,className:at.materialGroup})]})},nt=e=>{var t,a,l,n,r,c,d,h;let{editText:m={}}=e;const v=(0,i.b)((e=>e.updateText)),{selectedName:p}=m,g=(0,o.useRef)(p),{data:x}=(0,z.GE)(F.SL,{},{select:e=>{var t;return null===(t=e.names)||void 0===t?void 0:t.data}});(0,o.useEffect)((()=>{var e,t,a,i,l,s,n,r,o,c,d,u,h;null!==m&&void 0!==m&&m.key&&p&&g.current!==p&&(g.current=p,v(m.key,{basePrice:{price:null===(e=p.attributes)||void 0===e||null===(t=e.basePrice)||void 0===t?void 0:t.price,quantity:1,shopifyVariantId:null===(a=p.attributes)||void 0===a||null===(i=a.basePrice)||void 0===i?void 0:i.shopifyVariantId},letterPrice:{price:null===(l=p.attributes)||void 0===l||null===(s=l.letterPrice)||void 0===s?void 0:s.price,quantity:1,shopifyVariantId:null===(n=p.attributes)||void 0===n||null===(r=n.letterPrice)||void 0===r?void 0:r.shopifyVariantId},nameType:{id:p.id,name:null===(o=p.attributes)||void 0===o?void 0:o.name},material:void 0,...m.outline?{outlinePrice:{price:null===(c=p.attributes)||void 0===c||null===(d=c.outlinePrice)||void 0===d?void 0:d.price,quantity:1,shopifyVariantId:null===(u=p.attributes)||void 0===u||null===(h=u.outlinePrice)||void 0===h?void 0:h.shopifyVariantId}}:{},puffPrice:void 0}))}),[p]);return(0,u.jsxs)(u.Fragment,{children:[!p&&(0,u.jsx)("i",{className:at.promptMessage,children:"Select a text color type"}),(0,u.jsx)("div",{className:at.finishSelections,children:null===x||void 0===x?void 0:x.map((e=>{var t,a,i,l,n;return(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:p&&e.id===p.id}),onClick:()=>{return t=e,void(null!==m&&void 0!==m&&m.key&&v(m.key,{selectedName:t}));var t},children:[null===(t=e.attributes)||void 0===t?void 0:t.name,(0,u.jsxs)("div",{className:at.pricing,children:[(0,u.jsx)(lt,{price:null===(a=e.attributes)||void 0===a||null===(i=a.basePrice)||void 0===i?void 0:i.price})," + ",(0,u.jsx)(lt,{price:null===(l=e.attributes)||void 0===l||null===(n=l.letterPrice)||void 0===n?void 0:n.price})," per letter"]})]},e.id)}))}),p&&(0,u.jsx)(He,{hideColorGroups:!0,materialGroup:null===p||void 0===p||null===(t=p.attributes)||void 0===t||null===(a=t.materialGroup)||void 0===a?void 0:a.data,materialType:null===m||void 0===m||null===(l=m.material)||void 0===l||null===(n=l.attributes)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.data,colourGroup:null===m||void 0===m||null===(c=m.material)||void 0===c||null===(d=c.attributes)||void 0===d||null===(h=d.colourGroups)||void 0===h?void 0:h.data[0],onMaterialSelected:e=>{null!==m&&void 0!==m&&m.key&&v(m.key,{material:e})},className:at.materialGroup})]})},rt=e=>{var t,a,l,n,r,c,d,h,m,v;let{editText:p={}}=e;const[g,x]=(0,o.useState)(!(null===p||void 0===p||!p.outline)),{updateText:_}=(0,i.b)(),{selectedName:b}=p;if(!b)return null;const j=e=>{x(e),!e&&null!==p&&void 0!==p&&p.key&&_(p.key,{outline:void 0,outlinePrice:void 0})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:s()(at.showOutline,at.finishSelections),children:[(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:!g}),onClick:()=>j(!1),children:["No Outline",(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:0})]})]}),(0,u.jsxs)("div",{className:s()(at.finishSelection,{[at.selected]:g}),onClick:()=>j(!0),children:["Add Outline",(0,u.jsxs)("div",{className:at.pricing,children:[" +",(0,u.jsx)(lt,{price:null===(t=b.attributes)||void 0===t||null===(a=t.outlinePrice)||void 0===a?void 0:a.price})]})]})]}),g&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(He,{hideColorGroups:!0,materialGroup:null===b||void 0===b||null===(l=b.attributes)||void 0===l||null===(n=l.outlineGroup)||void 0===n?void 0:n.data,materialType:null===p||void 0===p||null===(r=p.outline)||void 0===r||null===(c=r.attributes)||void 0===c||null===(d=c.type)||void 0===d?void 0:d.data,colourGroup:null===p||void 0===p||null===(h=p.outline)||void 0===h||null===(m=h.attributes)||void 0===m||null===(v=m.colourGroups)||void 0===v?void 0:v.data[0],onMaterialSelected:e=>{var t,a,i,l;null!==p&&void 0!==p&&p.key&&_(p.key,{outline:e,outlinePrice:{price:null===(t=b.attributes)||void 0===t||null===(a=t.outlinePrice)||void 0===a?void 0:a.price,quantity:1,shopifyVariantId:null===(i=b.attributes)||void 0===i||null===(l=i.outlinePrice)||void 0===l?void 0:l.shopifyVariantId}})},className:at.materialGroup})})]})},ot=[{name:"Arial",className:at.arial,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/arial-bold-webfont.woff"},{name:"Oswald",className:at.oswald,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/oswald-semibold.woff"},{name:"College",className:at.college,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/college_block-webfont.woff"},{name:"Ballantines",className:at.ballantines,url:"https://boxxer-api-dev.nyc3.cdn.digitaloceanspaces.com/fonts/ballantines-bold-webfont.woff"}],ct=e=>{var t;let{className:a,editText:l}=e;const[n,r]=(0,o.useState)(null===l||void 0===l?void 0:l.text),[c,d]=(0,o.useState)(null!==(t=ot.find((e=>(null===l||void 0===l?void 0:l.font)===e.url)))&&void 0!==t?t:ot[0]),{addText:h,updateText:m}=(0,i.b)((e=>e));(0,o.useEffect)((()=>{null!==l&&void 0!==l&&l.key?m(l.key,{text:n,font:c.url,edit:!0}):n&&h({text:n,font:c.url})}),[n,c]);return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(De,{placeholder:"Enter text",value:n,onChange:e=>{r(e.target.value)}}),(0,u.jsx)("div",{className:at.fontSelection,children:ot.map((e=>(0,u.jsx)("div",{onClick:()=>(e=>{d(e)})(e),className:s()(at.font,e.className,{[at.selected]:c.name===e.name}),children:e.name},e.name)))})]})},dt=e=>{let{className:t,text:a,setShowSelector:l}=e;const{updateText:n,deleteText:r}=(0,i.b)((e=>e)),o=(s()(at.root,t),()=>{a.key&&(n(a.key,{edit:!0}),l&&l(!0))});return(0,u.jsxs)("div",{className:at.textItem,onClick:o,children:[(0,u.jsx)("div",{className:at.textItemText,children:a.text}),(0,u.jsx)(O,{onEdit:o,onDelete:()=>{a.key&&r(a.key)}})]})},ut=e=>{let{onAddTextClicked:t,onTextSelected:a}=e;const l=(0,i.b)((e=>e.texts));return(0,u.jsxs)("div",{className:at.navTextsSelection,children:[(0,u.jsxs)("div",{className:at.title,children:[(0,u.jsx)("h3",{className:at.titleText,children:"Your Texts"}),(0,u.jsx)(m.Z,{colour:"red",onClick:t,children:"Add Text"})]}),l.map((e=>(0,u.jsx)(dt,{text:e,setShowSelector:a},e.key))),(0,u.jsx)(x,{})]})};function ht(e){var t,a,i,l,s;return null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(a=t.images)||void 0===a||null===(i=a.find((e=>"map"===(null===e||void 0===e?void 0:e.mapType))))||void 0===i||null===(l=i.image.data)||void 0===l||null===(s=l.attributes)||void 0===s?void 0:s.formats.large.url}const mt=a(1627).H.instance();async function vt(e){let{img:t,hasPuff:a,blur:i}=e;const l=a?i||7:1;return mt.generateFromImage(t,{strength:.5,blur:l,level:1})}class pt{constructor(e){let{hasPuff:t,toNormalMap:a,text:i,patternType:l}=e;this.canvas=void 0,this.ctx=void 0,this.outlineCanvas=void 0,this.outlineCtx=void 0,this.normalMapTextureCanvas=void 0,this.normalMapTextureCtx=void 0,this.normalMapCanvas=void 0,this.normalMapCtx=void 0,this.normalMapOutlineTextureCanvas=void 0,this.normalMapOutlineTextureCtx=void 0,this.normalMapOutlineCanvas=void 0,this.normalMapOutlineCtx2=void 0,this.crystalBgPatternCanvas=void 0,this.crystalBgPatternCtx=void 0,this.hasPuff=void 0,this.toNormalMap=void 0,this.patternType=void 0,this.text=void 0,this.canvasHeight=void 0,this.canvasWidth=void 0,this.fontSize=void 0,this.outlineWidth=void 0,this.hasPuff=t,this.toNormalMap=a,this.patternType=l,this.text=i,this.fontSize=360,this.canvasHeight=400,this.canvasWidth=3200,this.outlineWidth=20,this.canvas=document.createElement("canvas"),this.canvas.height=this.canvasHeight,this.canvas.width=this.canvasWidth,this.ctx=this.canvas.getContext("2d"),this.outlineCanvas=document.createElement("canvas"),this.outlineCanvas.height=this.canvasHeight,this.outlineCanvas.width=this.canvasWidth,this.outlineCtx=this.outlineCanvas.getContext("2d"),this.normalMapTextureCanvas=document.createElement("canvas"),this.normalMapTextureCanvas.height=this.canvasHeight,this.normalMapTextureCanvas.width=this.canvasWidth,this.normalMapTextureCtx=this.normalMapTextureCanvas.getContext("2d"),this.normalMapCanvas=document.createElement("canvas"),this.normalMapCanvas.height=this.canvasHeight,this.normalMapCanvas.width=this.canvasWidth,this.normalMapCtx=this.normalMapCanvas.getContext("2d"),this.normalMapOutlineTextureCanvas=document.createElement("canvas"),this.normalMapOutlineTextureCanvas.height=this.canvasHeight,this.normalMapOutlineTextureCanvas.width=this.canvasWidth,this.normalMapOutlineTextureCtx=this.normalMapOutlineTextureCanvas.getContext("2d"),this.normalMapOutlineCanvas=document.createElement("canvas"),this.normalMapOutlineCanvas.height=this.canvasHeight,this.normalMapOutlineCanvas.width=this.canvasWidth,this.normalMapOutlineCtx2=this.normalMapOutlineCanvas.getContext("2d"),this.crystalBgPatternCanvas=document.createElement("canvas"),this.crystalBgPatternCanvas.height=this.canvasHeight,this.crystalBgPatternCanvas.width=this.canvasWidth,this.crystalBgPatternCtx=this.crystalBgPatternCanvas.getContext("2d")}clear(){var e,t;null===(e=this.ctx)||void 0===e||e.clearRect(0,0,this.canvas.width,this.canvas.height),null===(t=this.outlineCtx)||void 0===t||t.clearRect(0,0,this.canvas.width,this.canvas.height)}async drawImg(e,t){e.drawImage(t,0,0,this.canvas.width,this.canvas.height)}showTestCanvas(e){document.getElementById("testPreview").innerHTML=""}async maskImage(e,t){e.globalCompositeOperation="source-in",await this.drawImg(e,t),e.globalCompositeOperation="source-over"}drawPreviewText(e){this.text&&(e.font="".concat(this.fontSize,"px testFont"),e.textAlign="center",e.fillText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4))}drawPreviewOutlineText(){this.text&&(this.outlineCtx.font="".concat(this.fontSize,"px testFont"),this.outlineCtx.textAlign="center",this.outlineCtx.lineWidth=this.outlineWidth,this.outlineCtx.strokeText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4))}drawPreviewOutlineOnlyText(e){this.text&&(e.font="".concat(this.fontSize,"px testFont"),e.textAlign="center",e.lineWidth=30,e.fillStyle="green",e.strokeText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4),e.globalCompositeOperation="destination-out",e.fillText(this.text,this.canvas.width/2,this.canvas.height/2+15+this.fontSize/4),e.globalCompositeOperation="source-over")}async drawNormalMap(e){if(this.drawPreviewText(this.normalMapTextureCtx),e){const t=this.normalMapTextureCtx.createPattern(e,"repeat");if(!t)return;this.normalMapTextureCtx.globalCompositeOperation="source-in",this.normalMapTextureCtx.rect(0,0,this.canvasWidth,this.canvasHeight),this.normalMapTextureCtx.fillStyle=t,this.normalMapTextureCtx.fill(),this.normalMapTextureCtx.globalCompositeOperation="source-over"}console.log("toNormalMap",this.toNormalMap);const t=this.toNormalMap?await vt({img:this.normalMapTextureCanvas,hasPuff:this.hasPuff}):this.normalMapTextureCanvas;this.normalMapCtx.drawImage(t,0,0)}async drawOutlineNormalMap(e){if(this.drawPreviewOutlineOnlyText(this.normalMapOutlineTextureCtx),e){const t=this.normalMapOutlineTextureCtx.createPattern(e,"repeat");if(!t)return;this.normalMapOutlineTextureCtx.globalCompositeOperation="source-in",this.normalMapOutlineTextureCtx.rect(0,0,this.canvasWidth,this.canvasHeight),"crystals"!==this.patternType&&(this.normalMapOutlineTextureCtx.fillStyle=t),this.normalMapOutlineTextureCtx.fill(),this.normalMapOutlineTextureCtx.globalCompositeOperation="source-over"}const t=this.toNormalMap||"crystals"===this.patternType?await vt({img:this.normalMapOutlineTextureCanvas,hasPuff:"crystals"===this.patternType||this.hasPuff,blur:4}):this.normalMapOutlineTextureCanvas;this.normalMapOutlineCtx2.drawImage(t,0,0)}async drawCrystalBg(e,t){const a=this.crystalBgPatternCtx.createPattern(t,"repeat");a&&(this.crystalBgPatternCtx.rect(0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.fillStyle=a,this.crystalBgPatternCtx.fill(),this.crystalBgPatternCtx.globalCompositeOperation="source-in",this.crystalBgPatternCtx.globalAlpha=.9,this.crystalBgPatternCtx.drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.drawImage(e,0,0,this.canvasWidth,this.canvasHeight),this.crystalBgPatternCtx.globalCompositeOperation="source-over",this.outlineCtx.drawImage(this.crystalBgPatternCanvas,0,0))}printTextMapToStrokeMap(){this.normalMapCtx.globalCompositeOperation="destination-in",this.normalMapCtx.drawImage(this.normalMapTextureCanvas,0,0),this.normalMapCtx.globalCompositeOperation="source-over",this.normalMapOutlineCtx2.drawImage(this.normalMapCanvas,0,0)}async previewText(e){let{material:t,outline:a,previewImg:i,normalMapPatternImg:l,crystalBgPatternImg:s,crystalBgImg:n}=e;this.text&&(this.clear(),this.showTestCanvas(this.normalMapTextureCanvas),await this.drawNormalMap(l),await this.drawOutlineNormalMap(l),this.printTextMapToStrokeMap(),a&&(this.drawPreviewOutlineText(),await this.maskImage(this.outlineCtx,a)),this.drawPreviewText(this.ctx),t&&await this.maskImage(this.ctx,t),this.outlineCtx.drawImage(this.canvas,0,0),i&&(i.src=this.outlineCanvas.toDataURL()),n&&s&&this.drawCrystalBg(n,s))}mergeCanvas(){this.outlineCtx.drawImage(this.canvas,0,0)}getOutlineCanvas(){return this.outlineCanvas}getNormalMapTextureCanvas(){return this.normalMapTextureCanvas}getNormalMapOutlineCanvas(){return this.normalMapOutlineCanvas}}var gt=a(7760);async function xt(e){return new Promise(((t,a)=>{const i=new Image;e||t(i),i.crossOrigin="anonymous",i.onload=()=>t(i),i.onerror=a,i.src=e}))}var _t=a(1435),bt=a(7749),jt=a(4647);const ft="NavTextScene_canvasClickableCover__ZoAVe",Nt="NavTextScene_canvasClickableCover__imgContainer__qCzZl",yt="NavTextScene_navTextSceneFullscreen__-hgDQ",Ct="NavTextScene_navTextSceneFullscreen__imgContainer__kyglX",kt="NavTextScene_navTextSceneFullscreen__closeBtn__jtMmR",wt="NavTextScene_navTextSceneFullscreen__zoomContainer__struE",Tt=e=>{var t,a,i;let{text:l}=e;const s=(0,o.useRef)(null),[n,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),g=v("iInfoContainer"),x=new gt.Vector3(32,4,4),_="2"===(null===(t=l.selectedName)||void 0===t?void 0:t.id),b=!!l.puffPrice,j=!!l.crystalPrice,f=l.normalMap instanceof gt.Texture&&"Luxury"===(null===(a=l.selectedName)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.name)?l.normalMap:null;let N=1;if(j?N=4:_&&!b?N=.5:_&&b&&(N=3),!g)return null;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(jt.Xz,{ref:e=>{s.current=e},gl:{preserveDrawingBuffer:!0},children:[(0,u.jsx)(bt.Z,{}),(0,u.jsxs)("mesh",{children:[(0,u.jsx)("planeBufferGeometry",{args:[20,5]}),(0,u.jsx)("meshNormalMaterial",{visible:!1}),(0,u.jsx)(_t._,{position:[0,0,0],rotation:[0,0,0],scale:x,children:(0,u.jsx)("meshStandardMaterial",{map:l.preview instanceof gt.Texture?l.preview:null,transparent:!0,roughness:_&&!j?.75:0,depthTest:!0,depthWrite:!1,normalMap:f,normalScale:new gt.Vector2(N,N)})})]})]}),(0,u.jsx)("div",{className:ft,onClick:()=>{var e;r(!0),m((null===(e=s.current)||void 0===e?void 0:e.toDataURL())||"")},children:(0,u.jsx)("span",{className:Nt,children:(0,u.jsx)("img",{height:32,width:32,src:"/icons/click-icon.png"})})}),n&&s&&h&&(0,p.createPortal)((0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:yt,children:[(0,u.jsx)("span",{onClick:()=>r(!1),className:kt,children:"x"}),(0,u.jsx)("span",{className:Ct,children:(0,u.jsx)("img",{style:{zoom:c},src:h,alt:"Text Preview"})}),(0,u.jsxs)("span",{className:wt,children:[(0,u.jsx)("img",{onClick:function(){d((e=>e>=10?e:e+.1))},height:"32",width:"32",src:"/icons/zoom-in-icon.png",alt:"zoom in"}),(0,u.jsx)("img",{onClick:function(){d((e=>e<=.1?e:e-.1))},height:"32",width:"32",src:"/icons/zoom-out-icon.png",alt:"zoom out"})]})]})}),g)]})};const St=e=>{var t,a;let{editText:l}=e;const s=(0,o.useRef)(null),[n,r]=(0,o.useState)(null===l||void 0===l?void 0:l.font),[c,d]=(0,o.useState)(!1),h=!(null===l||void 0===l||!l.crystalPrice),m="2"===(null===l||void 0===l||null===(t=l.selectedName)||void 0===t?void 0:t.id),g=!(null===l||void 0===l||!l.puffPrice||h),x=!h,_=function(e){let{hasCrystals:t,isLuxury:a}=e;return!t&&a?"embroidery":t?"crystals":""}({hasCrystals:h,isLuxury:m}),{updateText:b}=(0,i.b)(),j=v("NavHeaderAfter"),f=(0,o.useMemo)((()=>xt(ht(null===l||void 0===l?void 0:l.material))),[null===l||void 0===l?void 0:l.material]),N=(0,o.useMemo)((()=>xt(ht(null===l||void 0===l?void 0:l.outline))),[null===l||void 0===l?void 0:l.outline]),y=(0,o.useMemo)((()=>xt("/Fabric_Knitted_006_height_small.png")),[]),C=(0,o.useMemo)((()=>xt("/crystal-12.png")),[]),k=(0,o.useMemo)((()=>xt(ht(null===l||void 0===l?void 0:l.crystalBackground))),[null===l||void 0===l?void 0:l.crystalBackground]),w=(0,o.useMemo)((()=>xt("/crystal-bg-pattern.png")),[]);return(0,o.useEffect)((()=>{const e=s.current;(async()=>{const t=new pt({hasPuff:g,toNormalMap:x,patternType:_,text:null===l||void 0===l?void 0:l.text});if(!l||!l.key||!c)return void t.clear();if(!l.text)return t.clear(),void b(l.key,{preview:new gt.CanvasTexture(t.getOutlineCanvas())});n!==(null===l||void 0===l?void 0:l.font)&&(r(null===l||void 0===l?void 0:l.font),await async function(e){const t=new FontFace("testFont","url(".concat(e,")"));await t.load(),document.fonts.add(t)}(null===l||void 0===l?void 0:l.font));const a=(null===l||void 0===l?void 0:l.material)&&await f,i=(null===l||void 0===l?void 0:l.outline)&&await N,s=await y,o=await C,d=await w,u=(null===l||void 0===l?void 0:l.crystalBackground)&&await k,v=m&&!g&&(h?o:s);await t.previewText({material:a,outline:i,previewImg:e,normalMapPatternImg:v,crystalBgPatternImg:d,crystalBgImg:u}),b(l.key,{preview:new gt.CanvasTexture(t.getOutlineCanvas()),normalMap:new gt.CanvasTexture(t.getNormalMapOutlineCanvas())})})()}),[null===l||void 0===l?void 0:l.text,null===l||void 0===l?void 0:l.material,null===l||void 0===l?void 0:l.outline,null===l||void 0===l?void 0:l.font,null===l||void 0===l?void 0:l.crystalBackground,c,null===l||void 0===l?void 0:l.puffPrice,null===l||void 0===l?void 0:l.crystalPrice]),j?(0,p.createPortal)((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"testPreview",style:{position:"absolute",zIndex:"100"}}),(0,u.jsx)("div",{className:at.textPreview,children:null!==l&&void 0!==l&&l.text?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:at.textPreview__imgContainer,style:{display:"none"},children:(0,u.jsx)("img",{height:80,width:640,ref:e=>{s.current=e,d(!!e)}})}),null!==(a=s.current)&&void 0!==a&&a.src?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Tt,{text:l})}):""]}):(0,u.jsx)("div",{className:at.noText,children:"Enter text to show preview"})})]}),j):null},Mt=()=>{const[e,t]=(0,o.useState)(0),a=(0,i.b)((e=>e.texts)),l=(0,i.b)((e=>e.updateText)),s=(0,o.useMemo)((()=>null===a||void 0===a?void 0:a.find((e=>e.edit))),[a]),[n,r]=(0,o.useState)(void 0!==(null===s||void 0===s?void 0:s.key));(0,o.useEffect)((()=>{null!==s&&void 0!==s&&s.key?r(!0):r(!1)}),[s]);const c=a=>{t(a===e?void 0:a)};return(0,u.jsx)(u.Fragment,{children:n?(0,u.jsxs)("div",{className:at.navTextEdit,children:[(0,u.jsx)(St,{editText:s}),(0,u.jsx)($e,{step:0,title:"Text and Font",currentStep:null!==e&&void 0!==e?e:-1,onTitleClick:c,children:(0,u.jsx)(ct,{editText:s})}),(0,u.jsx)($e,{step:1,title:"Text Color",currentStep:null!==e&&void 0!==e?e:-1,onTitleClick:c,children:(0,u.jsx)(nt,{editText:s})}),(0,u.jsx)($e,{step:2,title:"Outline",currentStep:null!==e&&void 0!==e?e:-1,onTitleClick:c,children:(0,u.jsx)(rt,{editText:s})}),(0,u.jsx)($e,{step:3,title:"Finish",currentStep:null!==e&&void 0!==e?e:-1,onTitleClick:c,children:(0,u.jsx)(st,{editText:s})}),(0,u.jsx)(tt,{step:e,maxStep:3,onNext:()=>{void 0===e?t(0):e<3&&t(e+1)},onPrevious:()=>{void 0===e?t(0):e>0&&t(e-1)},onApply:()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalFreeze:!1,edit:!1}),t(0),r(!1)}}),(0,u.jsx)(M,{scale:null===s||void 0===s?void 0:s.decalScale,rotation:null===s||void 0===s?void 0:s.decalRotation,onScale:e=>{(0,o.startTransition)((()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalScale:Number(e)})}))},onRotate:e=>{(0,o.startTransition)((()=>{null!==s&&void 0!==s&&s.key&&l(s.key,{decalRotation:Number(e)})}))}})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ut,{onAddTextClicked:()=>{r(!0)}})})})},It={root:"CustomiserNav_root__rgnWr",open:"CustomiserNav_open__6TgJc",isFullscreen:"CustomiserNav_isFullscreen__xo92v",minimized:"CustomiserNav_minimized__-4C1L",actions:"CustomiserNav_actions__B0fm0",content:"CustomiserNav_content__whsIx",headerAfter:"CustomiserNav_headerAfter__bXrUD",hasActions:"CustomiserNav_hasActions__xe43g"},Pt=e=>{let{className:t}=e;const[a,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),[h,m]=(0,o.useState)({left:0,top:0}),{selectedPart:v,selectedNav:p,texts:g}=(0,i.b)(),x=(0,o.useRef)(null),_=(0,o.useMemo)((()=>null===g||void 0===g?void 0:g.find((e=>e.edit))),[g]),b=(0,o.useMemo)((()=>"Text"===(null===p||void 0===p?void 0:p.name)&&_),[p,_]),j=s()(It.root,{[It.open]:a,[It.minimized]:c,[It.hasActions]:null===p||void 0===p?void 0:p.hasActions,[It.isFullscreen]:b},t);(0,o.useEffect)((()=>{a&&x.current&&x.current.scrollTo({...h,behavior:"instant"})}),[a]);const N=()=>{a&&x.current&&m({left:x.current.scrollLeft,top:x.current.scrollTop}),l(!a)};return(0,o.useEffect)((()=>{null===p&&null===v?l(!0):(l(!1),d(!1))}),[v,p]),(0,u.jsxs)(n.E.nav,{layout:"preserve-aspect",transition:{type:"spring",stiffness:700,damping:40},className:j,children:[(0,u.jsx)(te,{className:It.header,toggle:()=>N(),isOpen:a,onClick:()=>{d(!c)},isMinimized:c}),(0,u.jsx)("div",{id:"NavHeaderAfter",className:It.headerAfter}),(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(r.M,{initial:!1,children:(0,u.jsx)(n.E.div,{id:"scrollable",className:It.content,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1},collapsed:{opacity:0}},ref:e=>{x.current=e},children:a?(0,u.jsx)(ve,{toggle:()=>N()}):"fitting"===(null===p||void 0===p?void 0:p.type)?(0,u.jsx)(f,{}):"names"===(null===p||void 0===p?void 0:p.type)?(0,u.jsx)(Mt,{}):"flags"===(null===p||void 0===p?void 0:p.type)?(0,u.jsx)(H,{}):"images"===(null===p||void 0===p?void 0:p.type)?(0,u.jsx)(re,{}):"size"===(null===p||void 0===p?void 0:p.type)?(0,u.jsx)(Qe,{}):v?(0,u.jsx)(Le,{part:v}):null})})}),!a&&(null===p||void 0===p?void 0:p.hasActions)&&(0,u.jsxs)("div",{className:It.actions,children:[v&&(0,u.jsx)("div",{id:"CustomiserNavMaterial"}),(0,u.jsx)("div",{id:"CustomiserNavActions"})]})]})};var Bt=a(9389);const Ot="Header_root__cz6kt",Gt="Header_total__nSueF",zt="Header_price__GikHZ",Ft=e=>{let{className:t}=e;const a=s()(Ot,t),l=(0,i.b)((e=>e.total())),n=(0,i.b)((e=>e.designComplete())),r=(0,Bt.H)((e=>e.setResetCamera)),o=(0,Bt.H)((e=>e.addingToCart));return(0,u.jsxs)("div",{className:a,children:[(0,u.jsxs)("div",{className:Gt,children:["Current ",(0,u.jsx)(lt,{className:zt,priceString:l})]}),(0,u.jsx)(m.Z,{onClick:()=>{r()},disabled:!n||o,children:o?"Saving":"Add to basket"})]})},Ht="Customiser_root__+9xV1",At="Customiser_nav__xnqzP",Lt="Customiser_model__jxaOf",Et="Customiser_controls__Ar93L",Rt="Customiser_background__qq7nU",Zt="Customiser_loading__vNYyO",Dt="Customiser_header__1SFjA",qt="Customiser_close__sH1pv",Wt=(0,o.lazy)((()=>a.e(399).then(a.bind(a,399)))),Vt=e=>{let{className:t}=e;const a=(0,Bt.H)((e=>e.setShow)),{selectedNav:l}=(0,i.b)(),n=s()(Ht,t,{});return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("div",{id:"iInfoContainer",style:{position:"absolute",zIndex:"201"}}),(0,u.jsx)(Pt,{className:At}),(0,u.jsx)(Ft,{className:Dt}),(0,u.jsxs)("svg",{className:Rt,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 114.383 97.088",children:[(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{d:"M0 0h114.383v97.088H0z"})})}),(0,u.jsxs)("g",{clipPath:"url(#a)",fillRule:"evenodd",children:[(0,u.jsx)("path",{fill:"#e7e6e6",d:"M8.567 88.645v-.044c1.487-.24 2.986-.466 4.472-.716a1.278 1.278 0 0 0 .743-1.862 1.019 1.019 0 0 0-.949-.409c-2.928.338-5.845.747-8.785 1.147-.492.069-.709.447-.687 1.262.012 1.216.126 1.481.721 1.375 1.5-.243 3.008-.506 4.484-.753M23.905 77.54c-1.224.072-1.842.39-1.9 2.044a69.405 69.405 0 0 0 .011 5.312c.057 1.481.606 2.112 1.716 1.99q4.444-.488 8.888-1.012a1.851 1.851 0 0 0 1.659-1.975c.057-.853.1-1.709.1-2.562.023-.856.023-1.247 0-2.093-.068-1.6-.755-1.769-2.024-1.7Zm9.982-6.006c2.119 0 3.229 1.3 3.744 3.247a8.461 8.461 0 0 1 .32 2.222 225.099 225.099 0 0 1 0 7.896 8.3 8.3 0 0 1-.869 3.622 3.721 3.721 0 0 1-2.8 2.269c-4.072.553-8.121 1.15-12.182 1.784-1.773.306-3.145-1.253-3.523-3.993a25.755 25.755 0 0 1-.229-3.54c-.011-1.275-.006-2.556 0-3.834s.046-2.562.115-3.834c.091-1.944.606-4.015 1.887-5.128a2.565 2.565 0 0 1 1.533-.709Zm61.427 6.006v-6.006h13.325c1.682-.069 2.768 1.381 3.409 3.771a16.91 16.91 0 0 1 .538 4.281 18.216 18.216 0 0 1-.515 4.3 5.807 5.807 0 0 1-1.945 3.4c-.217.181-.469.34-.652.472.8 1.45 1.611 2.926 2.4 4.443a883.295 883.295 0 0 1 2.505 4.856c-.743-.163-1.453-.331-2.139-.472-1.041-.219-2.1-.381-3.157-.644a1.328 1.328 0 0 1-.732-.643c-.641-1.2-1.285-2.373-1.933-3.55-.633-1.148-1.292-2.3-1.91-3.431-.309-.522-.606-.819-1.041-.862a90.174 90.174 0 0 1-3.74-.481c-.366-.056-.481.116-.481.656.011 1.04.011 2.081.011 3.128v3.172c-1.235-.228-2.7-.472-3.946-.691v-12.17c3.752.156 7.526.293 11.278.4.492.013 1-.006 1.487 0 .56.016.789-.769.881-1.541.091-1.2-.149-2.053-.686-2.234a3.757 3.757 0 0 0-1.19-.16Zm-11.255 0v2.709l9.585.616v4.047l-9.631-.944v2.3l9.631 1.065v5.58c-4.838-.834-8.59-1.4-13.429-2.08v-19.3h13.431v6.006ZM37.072 90.367a232.526 232.526 0 0 1 3.775-5.125 219.554 219.554 0 0 1 3.786-4.809c-1.281-1.453-2.562-2.919-3.832-4.415s-2.439-2.915-3.709-4.484h5.5a1.331 1.331 0 0 1 .881.488c.7.84 1.322 1.559 2.02 2.375s1.407 1.625 2.116 2.431c.709-.84 1.417-1.682 2.127-2.512s1.413-1.643 2.128-2.466a.948.948 0 0 1 .652-.316h5.322c-1.224 1.384-2.475 2.827-3.7 4.237s-2.448 2.853-3.672 4.287c1.3 1.472 2.628 2.933 3.935 4.387s2.619 2.919 3.924 4.409c-1.865-.006-3.741.028-5.6.091a1.194 1.194 0 0 1-.789-.422q-1.116-1.213-2.23-2.434c-.732-.8-1.476-1.625-2.208-2.45-.755.928-1.511 1.855-2.265 2.8s-1.5 1.913-2.253 2.9c-.106.138-.274.327-.423.344-1.818.208-3.66.434-5.479.685m21.618-1.509c1.258-1.422 2.528-2.816 3.786-4.215s2.516-2.809 3.775-4.218q-1.922-2.231-3.832-4.428c-1.273-1.46-2.615-2.993-3.884-4.462h5.412a1.339 1.339 0 0 1 .881.459c.7.8 1.59 1.79 2.282 2.594s1.407 1.637 2.116 2.456c.709-.822 1.422-1.647 2.128-2.481s1.557-1.842 2.268-2.7a.959.959 0 0 1 .64-.34c1.773-.006 3.534 0 5.319.012-1.235 1.516-2.584 3.175-3.812 4.64s-2.459 2.884-3.683 4.293a234.511 234.511 0 0 1 3.935 4.959 262.195 262.195 0 0 1 3.935 5.293 296.137 296.137 0 0 0-5.6-.772 1.472 1.472 0 0 1-.8-.569c-.739-.948-1.48-1.9-2.219-2.822s-1.487-1.831-2.219-2.725q-1.132 1.247-2.253 2.49c-.749.829-1.511 1.652-2.265 2.478-.1.115-.274.26-.412.253a205.452 205.452 0 0 0-5.49-.2m-43.271-6.7a3.858 3.858 0 0 1 1.979 2.993 11.586 11.586 0 0 1-.24 5.3c-.549 1.89-1.6 3-2.962 3.29C9.494 94.797 4.8 95.888.1 97.088a.159.159 0 0 1-.1-.05V81.205c.274-.019.572-.041.881-.066 3.763-.328 7.5-.656 11.255-.981.377-.031.789 0 1.018-.622.32-.9-.034-2.037-.755-2H0V71.53h12.857a3.24 3.24 0 0 1 3.2 1.944 9.3 9.3 0 0 1 .721 4.4 8.384 8.384 0 0 1-1.361 4.277"}),(0,u.jsx)("path",{fill:"#e7e6e6",d:"m75.165 48.1-6.079-9.03v.049c-.057 1.036-.095 2.076-.183 3.112a2.019 2.019 0 0 1-.3.929l-8.448 12.034c-.249.368-.854 1.239-1.255 1.374a.382.382 0 0 1-.448-.158 2.924 2.924 0 0 1-.17-1.252v-.015l.451-9.913a.888.888 0 0 1 .121-.521l6.771-9.393a1.068 1.068 0 0 0 0-1.4l-6.516-9.933a3.453 3.453 0 0 1-.372-1.536l-.564-9.434c-.136-2.082.98-1.647 2.035 0l9.86 15.392 5.074-7.607c.439-.71.756-1.16 1.67-1.2a28.863 28.863 0 0 0 6.026-.866 2.49 2.49 0 0 1 .955-.113.381.381 0 0 1 .292.365 7.753 7.753 0 0 1-1.169 2.293L74.64 33.912a.971.971 0 0 0-.011 1.253l8.1 12.066a7.386 7.386 0 0 1 1.192 2.336.379.379 0 0 1-.247.33 2.314 2.314 0 0 1-1.008-.05 43.691 43.691 0 0 0-6.495-.95c-.5-.024-.775-.421-1.012-.8m-17.2-18.084 2.675 4.223a.378.378 0 0 1-.005.42L57.97 38.64a.386.386 0 0 1-.639 0l-2.729-4a.379.379 0 0 1-.005-.426l2.719-4.206a.386.386 0 0 1 .65 0m-13.64-.628 10.716-16.367c.911-1.366 2.032-2.329 1.921 0l-.453 9.457a3.209 3.209 0 0 1-.565 1.514l-6.217 9.551c-.31.474-.372.717-.048 1.2l6.446 9.577a1.569 1.569 0 0 1 .389.861l.454 9.969v.025a3.345 3.345 0 0 1-.187 1.236.385.385 0 0 1-.494.158 4.869 4.869 0 0 1-1.172-1.361l-9.863-14.918c-.149.21-.3.418-.441.636-1.474 2.327-2.954 4.649-4.408 6.989a1.51 1.51 0 0 1-1.168.806h-.025a40.188 40.188 0 0 0-6.467 1.047 3.664 3.664 0 0 1-1.08.156.385.385 0 0 1-.325-.453 11.67 11.67 0 0 1 1.3-2.279L40.716 34.9a.978.978 0 0 0 0-1.256L32.349 21.23a8.345 8.345 0 0 1-1.185-2.257.382.382 0 0 1 .294-.383 2.706 2.706 0 0 1 .969.1c1.112.258 2.222.524 3.342.747a22.428 22.428 0 0 0 3.334.462c.711.032 1.093.653 1.429 1.19 1 1.6 2.087 3.16 3.146 4.727a3.685 3.685 0 0 1 .542 2.108ZM57.652 0 45.465 18.084a.386.386 0 0 1-.628.017c-1.5-2-2.426-3.151-5.06-3.4a68.259 68.259 0 0 1-11.375-2.346c-3.454-.947-6.874-2.013-10.321-2.979l16.621 24.707a.379.379 0 0 1 0 .426L19.854 57.187c3.235-.656 6.473-1.24 9.736-1.751 3.484-.546 6.978-1.03 10.465-1.553a6.441 6.441 0 0 0 4.394-2.608l.623-.841a.385.385 0 0 1 .633.019L57.652 68.8l11.947-18.351a.386.386 0 0 1 .633-.019l.623.841a6.442 6.442 0 0 0 4.394 2.608c3.488.523 6.982 1.007 10.465 1.553 3.263.511 6.5 1.095 9.736 1.751L80.601 34.51a.378.378 0 0 1 0-.426L97.225 9.376c-3.447.965-6.868 2.031-10.321 2.979A68.266 68.266 0 0 1 75.528 14.7c-2.635.249-3.557 1.4-5.06 3.4a.386.386 0 0 1-.628-.017Z"})]})]}),(0,u.jsx)("div",{id:"CustomiserCanvasControls",className:Et}),(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)("div",{className:Zt,children:"Loading ..."}),children:(0,u.jsx)(Wt,{className:Lt})}),null===l&&(0,u.jsx)(m.Z,{className:qt,onClick:()=>a(!1),children:"Close"})]})}},7749:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(2791),l=a(7760),s=a(184);const n={intensity:.1},r=(new l.Vector3(0,6,-200),new l.Vector3(-150,0,200),new l.Vector3(100,0,200),()=>{(0,i.useRef)(null);return(0,s.jsxs)("group",{children:[(0,s.jsx)("hemisphereLight",{...n}),(0,s.jsx)("pointLight",{position:[-800,0,-1e3],intensity:.5,decay:12,power:7,castShadow:!0}),(0,s.jsx)("pointLight",{position:[-800,0,1e3],intensity:.5,decay:12,power:7,castShadow:!0}),(0,s.jsx)("pointLight",{position:[800,0,1e3],intensity:.5,decay:120,power:7,castShadow:!0}),(0,s.jsx)("pointLight",{position:[800,0,-1e3],intensity:.5,decay:12,power:7,castShadow:!0})]})})}}]);
//# sourceMappingURL=682.5f6e44e3.chunk.js.map