{"ast":null,"code":"/* eslint-disable react/prop-types */import cn from'classnames';import styles from'./NavDecalAdjust.module.scss';import{usePortalRef}from'@hooks';import{createPortal}from'react-dom';import{FaCircleMinus,FaCirclePlus}from'react-icons/fa6';import{useState}from'react';import{GiClockwiseRotation,GiAnticlockwiseRotation}from'react-icons/gi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const range=(start,stop,step)=>Array.from({length:(stop-start)/step+1},(value,index)=>start+index*step);const NavDecalAdjust=_ref=>{var _prices$length;let{className,scale=1,rotation=0,prices,onScale,onRotate}=_ref;const scaleAdjust=0.15;const rotateAdjust=7.5;const portalRef=usePortalRef('CustomiserCanvasControls');const[currentScale,setCurrentScale]=useState(scale);const[currentRotate,setCurrentRotate]=useState(rotation);if(!portalRef){return null;}const rootRotateClassName=cn(styles.root,className,styles.root__rotate);const min=1;const max=2;const numberOfSteps=(_prices$length=prices===null||prices===void 0?void 0:prices.length)!==null&&_prices$length!==void 0?_prices$length:10;const step=(max-min)/(numberOfSteps-1);const marks=range(min,max,step);const formattedPrices=prices===null||prices===void 0?void 0:prices.map((p,i)=>({...p,markKey:Number(marks[i].toFixed(5))}));const onChange=value=>{const price=formattedPrices===null||formattedPrices===void 0?void 0:formattedPrices.find(p=>p.markKey===value);if(onScale)onScale(value,price);};const addScale=()=>{setCurrentScale(cur=>{onScale&&onScale(cur+scaleAdjust);return cur+scaleAdjust;});};const subtractScale=()=>{setCurrentScale(cur=>{if(cur-scaleAdjust<=0)return cur;onScale&&onScale(cur-scaleAdjust);return cur-scaleAdjust;});};const rotateClockwise=()=>{setCurrentRotate(cur=>{onRotate&&onRotate(cur+rotateAdjust);return cur+rotateAdjust;});};const rotateCounterClockwise=()=>{setCurrentRotate(cur=>{onRotate&&onRotate(cur-rotateAdjust);return cur-rotateAdjust;});};return/*#__PURE__*/createPortal(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:rootRotateClassName,children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Size\"}),/*#__PURE__*/_jsxs(\"span\",{className:styles.iconContainer,children:[/*#__PURE__*/_jsx(\"span\",{onClick:subtractScale,children:/*#__PURE__*/_jsx(FaCircleMinus,{})}),/*#__PURE__*/_jsx(\"span\",{onClick:addScale,children:/*#__PURE__*/_jsx(FaCirclePlus,{})})]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Rotate\"}),/*#__PURE__*/_jsxs(\"span\",{className:styles.iconContainer,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.rotateIcon,onClick:rotateCounterClockwise,children:/*#__PURE__*/_jsx(GiAnticlockwiseRotation,{})}),/*#__PURE__*/_jsx(\"span\",{className:styles.rotateIcon,onClick:rotateClockwise,children:/*#__PURE__*/_jsx(GiClockwiseRotation,{})})]})]})]})}),portalRef);};export default NavDecalAdjust;","map":{"version":3,"names":["cn","styles","usePortalRef","createPortal","FaCircleMinus","FaCirclePlus","useState","GiClockwiseRotation","GiAnticlockwiseRotation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","range","start","stop","step","Array","from","length","value","index","NavDecalAdjust","_ref","_prices$length","className","scale","rotation","prices","onScale","onRotate","scaleAdjust","rotateAdjust","portalRef","currentScale","setCurrentScale","currentRotate","setCurrentRotate","rootRotateClassName","root","root__rotate","min","max","numberOfSteps","marks","formattedPrices","map","p","i","markKey","Number","toFixed","onChange","price","find","addScale","cur","subtractScale","rotateClockwise","rotateCounterClockwise","children","iconContainer","onClick","rotateIcon"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/NavDecalAdjust/NavDecalAdjust.tsx"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport { GraphicPriceEntity, GraphicPriceFragment } from '@graphql/generated/graphql';\r\nimport cn from 'classnames';\r\nimport ReactSlider from 'react-slider';\r\nimport styles from './NavDecalAdjust.module.scss';\r\nimport { usePortalRef } from '@hooks';\r\nimport { createPortal } from 'react-dom';\r\nimport { FaCircleMinus, FaCirclePlus } from 'react-icons/fa6';\r\nimport { useState } from 'react';\r\n\r\nimport { GiClockwiseRotation, GiAnticlockwiseRotation } from 'react-icons/gi';\r\n\r\nexport interface NavDecalAdjustProps {\r\n  className?: string;\r\n  prices?: GraphicPriceFragment[];\r\n  scale?: number;\r\n  rotation?: number;\r\n  onScale?: (event: number, price?: GraphicPriceEntity) => void;\r\n  onRotate?: (event: number) => void;\r\n}\r\n\r\nconst range = (start: number, stop: number, step: number) =>\r\n  Array.from({ length: (stop - start) / step + 1 }, (value, index) => start + index * step);\r\n\r\nconst NavDecalAdjust = ({\r\n  className,\r\n  scale = 1,\r\n  rotation = 0,\r\n  prices,\r\n  onScale,\r\n  onRotate,\r\n}: NavDecalAdjustProps) => {\r\n  const scaleAdjust = 0.15;\r\n  const rotateAdjust = 7.5;\r\n  const portalRef = usePortalRef('CustomiserCanvasControls');\r\n\r\n  const [currentScale, setCurrentScale] = useState(scale);\r\n  const [currentRotate, setCurrentRotate] = useState(rotation);\r\n\r\n  if (!portalRef) {\r\n    return null;\r\n  }\r\n\r\n  const rootRotateClassName = cn(styles.root, className, styles.root__rotate);\r\n  const min = 1;\r\n  const max = 2;\r\n  const numberOfSteps = prices?.length ?? 10;\r\n  const step = (max - min) / (numberOfSteps - 1);\r\n  const marks = range(min, max, step);\r\n\r\n  const formattedPrices = prices?.map((p, i) => ({\r\n    ...p,\r\n    markKey: Number(marks[i].toFixed(5)),\r\n  }));\r\n\r\n  const onChange = (value: number) => {\r\n    const price = formattedPrices?.find((p) => p.markKey === value);\r\n    if (onScale) onScale(value, price);\r\n  };\r\n\r\n  const addScale = () => {\r\n    setCurrentScale((cur) => {\r\n      onScale && onScale(cur + scaleAdjust);\r\n      return cur + scaleAdjust;\r\n    });\r\n  };\r\n\r\n  const subtractScale = () => {\r\n    setCurrentScale((cur) => {\r\n      if (cur - scaleAdjust <= 0) return cur;\r\n      onScale && onScale(cur - scaleAdjust);\r\n      return cur - scaleAdjust;\r\n    });\r\n  };\r\n\r\n  const rotateClockwise = () => {\r\n    setCurrentRotate((cur) => {\r\n      onRotate && onRotate(cur + rotateAdjust);\r\n      return cur + rotateAdjust;\r\n    });\r\n  };\r\n\r\n  const rotateCounterClockwise = () => {\r\n    setCurrentRotate((cur) => {\r\n      onRotate && onRotate(cur - rotateAdjust);\r\n      return cur - rotateAdjust;\r\n    });\r\n  };\r\n\r\n  return createPortal(\r\n    <>\r\n      <div className={rootRotateClassName}>\r\n        <span>\r\n          <h4>Size</h4>\r\n          <span className={styles.iconContainer}>\r\n            <span onClick={subtractScale}>\r\n              <FaCircleMinus />\r\n            </span>\r\n            <span onClick={addScale}>\r\n              <FaCirclePlus />\r\n            </span>\r\n          </span>\r\n        </span>\r\n        <span>\r\n          <h4>Rotate</h4>\r\n          <span className={styles.iconContainer}>\r\n            <span className={styles.rotateIcon} onClick={rotateCounterClockwise}>\r\n              <GiAnticlockwiseRotation />\r\n            </span>\r\n            <span className={styles.rotateIcon} onClick={rotateClockwise}>\r\n              <GiClockwiseRotation />\r\n            </span>\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </>,\r\n    portalRef,\r\n  );\r\n};\r\n\r\nexport default NavDecalAdjust;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}