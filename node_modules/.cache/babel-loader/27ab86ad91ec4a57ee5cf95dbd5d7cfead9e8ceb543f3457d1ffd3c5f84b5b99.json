{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\three\\\\Scene\\\\Scene.tsx\",\n  _s = $RefreshSig$();\nimport { useCustomiserStore } from '@store/customiser';\nimport { useDesignStore } from '@store/design';\nimport { forwardRef, useEffect } from 'react';\nimport { MathUtils } from 'three';\nimport Model from '../Model';\nimport ModelDecals from '../ModelDecals';\nimport ModelMerge from '../ModelMerge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst models = state => state.selectedModels;\nconst Scene = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s(({\n  onPointerDown,\n  onPointerUp,\n  onPointerMove,\n  onClick\n}, groupRef) => {\n  _s();\n  const selectedModels = useCustomiserStore(models);\n  const modelRotation = useDesignStore(state => state.modelRotation);\n  const addingToCart = useDesignStore(state => state.addingToCart);\n  const customProduct = useCustomiserStore(state => state.customProduct);\n  useEffect(() => {\n    if (addingToCart && typeof groupRef !== 'function' && groupRef !== null && groupRef !== void 0 && groupRef.current) {\n      groupRef.current.rotateY(MathUtils.degToRad(modelRotation));\n    }\n  }, [addingToCart, modelRotation]);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    name: \"meshGroup\",\n    ref: groupRef,\n    onPointerDown: onPointerDown,\n    onPointerUp: onPointerUp,\n    onPointerMove: onPointerMove,\n    onClick: onClick,\n    dispose: null,\n    children: /*#__PURE__*/_jsxDEV(ModelMerge, {\n      children: ({\n        addNodes,\n        geom\n      }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [selectedModels.map(m => {\n          var _m$model, _m$model$attributes, _m$model2;\n          if (((_m$model = m.model) === null || _m$model === void 0 ? void 0 : (_m$model$attributes = _m$model.attributes) === null || _m$model$attributes === void 0 ? void 0 : _m$model$attributes.name) !== 'Straaight Leg') console.log('customProduct', customProduct);\n          // console.log('m.model: ', m.model);\n          return /*#__PURE__*/_jsxDEV(Model, {\n            model: m.model,\n            addNodes: addNodes\n          }, (_m$model2 = m.model) === null || _m$model2 === void 0 ? void 0 : _m$model2.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 24\n          }, this);\n        }), geom && /*#__PURE__*/_jsxDEV(ModelDecals, {\n          geom: geom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }, this);\n}, \"XYQNVL+iBmdtcsl8CFRIIOCmIKY=\", false, function () {\n  return [useCustomiserStore, useDesignStore, useDesignStore, useCustomiserStore];\n})), \"XYQNVL+iBmdtcsl8CFRIIOCmIKY=\", false, function () {\n  return [useCustomiserStore, useDesignStore, useDesignStore, useCustomiserStore];\n});\n_c2 = Scene;\nScene.displayName = 'Scene';\nexport default Scene;\nvar _c, _c2;\n$RefreshReg$(_c, \"Scene$forwardRef\");\n$RefreshReg$(_c2, \"Scene\");","map":{"version":3,"names":["useCustomiserStore","useDesignStore","forwardRef","useEffect","MathUtils","Model","ModelDecals","ModelMerge","jsxDEV","_jsxDEV","Fragment","_Fragment","models","state","selectedModels","Scene","_s","_c","onPointerDown","onPointerUp","onPointerMove","onClick","groupRef","modelRotation","addingToCart","customProduct","current","rotateY","degToRad","name","ref","dispose","children","addNodes","geom","map","m","_m$model","_m$model$attributes","_m$model2","model","attributes","console","log","id","fileName","_jsxFileName","lineNumber","columnNumber","_c2","displayName","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/three/Scene/Scene.tsx"],"sourcesContent":["import { EventHandlers } from '@react-three/fiber/dist/declarations/src/core/events';\r\nimport { CustomiserState, useCustomiserStore } from '@store/customiser';\r\nimport { useDesignStore } from '@store/design';\r\nimport { forwardRef, useEffect } from 'react';\r\nimport { Group, MathUtils } from 'three';\r\nimport Model from '../Model';\r\nimport ModelDecals from '../ModelDecals';\r\nimport ModelMerge from '../ModelMerge';\r\n\r\nconst models = (state: CustomiserState) => state.selectedModels;\r\n\r\nexport interface SceneProps {\r\n  onPointerDown?: EventHandlers['onPointerDown'];\r\n  onPointerUp?: EventHandlers['onPointerUp'];\r\n  onPointerMove?: EventHandlers['onPointerMove'];\r\n  onClick?: EventHandlers['onClick'];\r\n}\r\n\r\nconst Scene = forwardRef<Group, SceneProps>(\r\n  ({ onPointerDown, onPointerUp, onPointerMove, onClick }: SceneProps, groupRef) => {\r\n    const selectedModels = useCustomiserStore(models);\r\n    const modelRotation = useDesignStore((state) => state.modelRotation);\r\n    const addingToCart = useDesignStore((state) => state.addingToCart);\r\n    const customProduct = useCustomiserStore((state) => state.customProduct);\r\n\r\n    useEffect(() => {\r\n      if (addingToCart && typeof groupRef !== 'function' && groupRef?.current) {\r\n        groupRef.current.rotateY(MathUtils.degToRad(modelRotation));\r\n      }\r\n    }, [addingToCart, modelRotation]);\r\n\r\n    return (\r\n      <group\r\n        name='meshGroup'\r\n        ref={groupRef}\r\n        onPointerDown={onPointerDown}\r\n        onPointerUp={onPointerUp}\r\n        onPointerMove={onPointerMove}\r\n        onClick={onClick}\r\n        dispose={null}\r\n      >\r\n        <ModelMerge>\r\n          {({ addNodes, geom }) => (\r\n            <>\r\n              {selectedModels.map((m) => {\r\n                if (m.model?.attributes?.name !== 'Straaight Leg')\r\n                  console.log('customProduct', customProduct);\r\n                // console.log('m.model: ', m.model);\r\n                return <Model key={m.model?.id} model={m.model} addNodes={addNodes} />;\r\n              })}\r\n              {geom && <ModelDecals geom={geom} />}\r\n            </>\r\n          )}\r\n        </ModelMerge>\r\n      </group>\r\n    );\r\n  },\r\n);\r\nScene.displayName = 'Scene';\r\n\r\nexport default Scene;\r\n"],"mappings":";;AACA,SAA0BA,kBAAkB,QAAQ,mBAAmB;AACvE,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAAgBC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,UAAU,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEvC,MAAMC,MAAM,GAAIC,KAAsB,IAAKA,KAAK,CAACC,cAAc;AAS/D,MAAMC,KAAK,gBAAAC,EAAA,eAAGd,UAAU,CAAAe,EAAA,GAAAD,EAAA,CACtB,CAAC;EAAEE,aAAa;EAAEC,WAAW;EAAEC,aAAa;EAAEC;AAAoB,CAAC,EAAEC,QAAQ,KAAK;EAAAN,EAAA;EAChF,MAAMF,cAAc,GAAGd,kBAAkB,CAACY,MAAM,CAAC;EACjD,MAAMW,aAAa,GAAGtB,cAAc,CAAEY,KAAK,IAAKA,KAAK,CAACU,aAAa,CAAC;EACpE,MAAMC,YAAY,GAAGvB,cAAc,CAAEY,KAAK,IAAKA,KAAK,CAACW,YAAY,CAAC;EAClE,MAAMC,aAAa,GAAGzB,kBAAkB,CAAEa,KAAK,IAAKA,KAAK,CAACY,aAAa,CAAC;EAExEtB,SAAS,CAAC,MAAM;IACd,IAAIqB,YAAY,IAAI,OAAOF,QAAQ,KAAK,UAAU,IAAIA,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEI,OAAO,EAAE;MACvEJ,QAAQ,CAACI,OAAO,CAACC,OAAO,CAACvB,SAAS,CAACwB,QAAQ,CAACL,aAAa,CAAC,CAAC;IAC7D;EACF,CAAC,EAAE,CAACC,YAAY,EAAED,aAAa,CAAC,CAAC;EAEjC,oBACEd,OAAA;IACEoB,IAAI,EAAC,WAAW;IAChBC,GAAG,EAAER,QAAS;IACdJ,aAAa,EAAEA,aAAc;IAC7BC,WAAW,EAAEA,WAAY;IACzBC,aAAa,EAAEA,aAAc;IAC7BC,OAAO,EAAEA,OAAQ;IACjBU,OAAO,EAAE,IAAK;IAAAC,QAAA,eAEdvB,OAAA,CAACF,UAAU;MAAAyB,QAAA,EACRA,CAAC;QAAEC,QAAQ;QAAEC;MAAK,CAAC,kBAClBzB,OAAA,CAAAE,SAAA;QAAAqB,QAAA,GACGlB,cAAc,CAACqB,GAAG,CAAEC,CAAC,IAAK;UAAA,IAAAC,QAAA,EAAAC,mBAAA,EAAAC,SAAA;UACzB,IAAI,EAAAF,QAAA,GAAAD,CAAC,CAACI,KAAK,cAAAH,QAAA,wBAAAC,mBAAA,GAAPD,QAAA,CAASI,UAAU,cAAAH,mBAAA,uBAAnBA,mBAAA,CAAqBT,IAAI,MAAK,eAAe,EAC/Ca,OAAO,CAACC,GAAG,CAAC,eAAe,EAAElB,aAAa,CAAC;UAC7C;UACA,oBAAOhB,OAAA,CAACJ,KAAK;YAAmBmC,KAAK,EAAEJ,CAAC,CAACI,KAAM;YAACP,QAAQ,EAAEA;UAAS,IAAAM,SAAA,GAAhDH,CAAC,CAACI,KAAK,cAAAD,SAAA,uBAAPA,SAAA,CAASK,EAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuC,CAAC;QACxE,CAAC,CAAC,EACDd,IAAI,iBAAIzB,OAAA,CAACH,WAAW;UAAC4B,IAAI,EAAEA;QAAK;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA,eACpC;IACH;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACS;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEZ,CAAC;EAAA,QApCwBhD,kBAAkB,EACnBC,cAAc,EACfA,cAAc,EACbD,kBAAkB;AAAA,EAkC5C,CAAC;EAAA,QArC0BA,kBAAkB,EACnBC,cAAc,EACfA,cAAc,EACbD,kBAAkB;AAAA,EAkC3C;AAACiD,GAAA,GAvCIlC,KAAK;AAwCXA,KAAK,CAACmC,WAAW,GAAG,OAAO;AAE3B,eAAenC,KAAK;AAAC,IAAAE,EAAA,EAAAgC,GAAA;AAAAE,YAAA,CAAAlC,EAAA;AAAAkC,YAAA,CAAAF,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}