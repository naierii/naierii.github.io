{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reian\\\\Desktop\\\\Work\\\\Freelance\\\\Boxxer World\\\\boxxerworld-shopify-frontend\\\\customiser\\\\src\\\\components\\\\nav\\\\NavPart\\\\NavPart.tsx\",\n  _s = $RefreshSig$();\nimport PillButton from '@components/ui/PillButton';\nimport { useCustomiserStore } from '@store/customiser';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\nimport { Suspense, useEffect, useMemo, useState } from 'react';\nimport MaterialGroup from '../MaterialGroup';\nimport NavButtons from '../NavButtons';\nimport styles from './NavPart.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NavPart = ({\n  className,\n  part\n}) => {\n  _s();\n  var _part$materialGroup, _currentPart$material, _currentPart$material2, _currentPart$material3, _currentPart$material4;\n  const rootClassName = cn(styles.root, className);\n  const selectedPart = useCustomiserStore(state => state.selectedPart);\n  const setPart = useCustomiserStore(state => state.setPart);\n  const removePart = useCustomiserStore(state => state.removePart);\n  const parts = useCustomiserStore(state => state.parts);\n  const currentPart = useMemo(() => parts.find(p => p.part.id === (part === null || part === void 0 ? void 0 : part.id)), [part]);\n  const [showOptional, setShowOptional] = useState(false);\n  if (!(part !== null && part !== void 0 && (_part$materialGroup = part.materialGroup) !== null && _part$materialGroup !== void 0 && _part$materialGroup.data)) {\n    return null;\n  }\n  const onMaterialSelected = material => {\n    console.log('selectedPart', selectedPart);\n    console.log('currentPart', currentPart);\n    console.log('material', material);\n    console.log('parts', parts);\n    if (selectedPart && material) {\n      setPart(selectedPart, material);\n    }\n  };\n  const optionalOnClick = show => {\n    setShowOptional(show);\n    if (!show) {\n      removePart(part);\n    }\n  };\n  useEffect(() => {\n    if (part.optional && !showOptional && currentPart) {\n      setShowOptional(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: rootClassName,\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [part.optional && /*#__PURE__*/_jsxDEV(PillButton, {\n        className: styles.showOptional,\n        selected: showOptional,\n        onClick: () => optionalOnClick(!showOptional),\n        children: [showOptional ? 'Remove' : 'Add', \" \", part.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), (!part.optional || part.optional && showOptional) && /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 31\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(MaterialGroup, {\n          materialGroup: part.materialGroup.data,\n          materialType: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material = currentPart.material.attributes) === null || _currentPart$material === void 0 ? void 0 : (_currentPart$material2 = _currentPart$material.type) === null || _currentPart$material2 === void 0 ? void 0 : _currentPart$material2.data,\n          colourGroup: currentPart === null || currentPart === void 0 ? void 0 : (_currentPart$material3 = currentPart.material.attributes) === null || _currentPart$material3 === void 0 ? void 0 : (_currentPart$material4 = _currentPart$material3.colourGroups) === null || _currentPart$material4 === void 0 ? void 0 : _currentPart$material4.data[0],\n          onMaterialSelected: onMaterialSelected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, part.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavButtons, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(NavPart, \"FViNcL8xuQx8HpJjLZyBonKVcEM=\", false, function () {\n  return [useCustomiserStore, useCustomiserStore, useCustomiserStore, useCustomiserStore];\n});\n_c = NavPart;\nexport default NavPart;\nvar _c;\n$RefreshReg$(_c, \"NavPart\");","map":{"version":3,"names":["PillButton","useCustomiserStore","cn","motion","Suspense","useEffect","useMemo","useState","MaterialGroup","NavButtons","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","NavPart","className","part","_s","_part$materialGroup","_currentPart$material","_currentPart$material2","_currentPart$material3","_currentPart$material4","rootClassName","root","selectedPart","state","setPart","removePart","parts","currentPart","find","p","id","showOptional","setShowOptional","materialGroup","data","onMaterialSelected","material","console","log","optionalOnClick","show","optional","children","div","initial","opacity","animate","exit","selected","onClick","name","fileName","_jsxFileName","lineNumber","columnNumber","fallback","materialType","attributes","type","colourGroup","colourGroups","_c","$RefreshReg$"],"sources":["C:/Users/Reian/Desktop/Work/Freelance/Boxxer World/boxxerworld-shopify-frontend/customiser/src/components/nav/NavPart/NavPart.tsx"],"sourcesContent":["import PillButton from '@components/ui/PillButton';\r\nimport { CustomProductPartFragment, MaterialFragment } from '@graphql/generated/graphql';\r\nimport { useCustomiserStore } from '@store/customiser';\r\nimport cn from 'classnames';\r\nimport { motion } from 'framer-motion';\r\nimport { Suspense, useEffect, useMemo, useState } from 'react';\r\nimport MaterialGroup from '../MaterialGroup';\r\nimport NavButtons from '../NavButtons';\r\n\r\nimport styles from './NavPart.module.scss';\r\n\r\nexport interface NavPartProps {\r\n  className?: string;\r\n  part: CustomProductPartFragment;\r\n}\r\n\r\nconst NavPart = ({ className, part }: NavPartProps) => {\r\n  const rootClassName = cn(styles.root, className);\r\n  const selectedPart = useCustomiserStore((state) => state.selectedPart);\r\n  const setPart = useCustomiserStore((state) => state.setPart);\r\n  const removePart = useCustomiserStore((state) => state.removePart);\r\n  const parts = useCustomiserStore((state) => state.parts);\r\n  const currentPart = useMemo(() => parts.find((p) => p.part.id === part?.id), [part]);\r\n  const [showOptional, setShowOptional] = useState(false);\r\n\r\n  if (!part?.materialGroup?.data) {\r\n    return null;\r\n  }\r\n\r\n  const onMaterialSelected = (material: MaterialFragment) => {\r\n    console.log('selectedPart', selectedPart);\r\n    console.log('currentPart', currentPart);\r\n    console.log('material', material);\r\n    console.log('parts', parts);\r\n    if (selectedPart && material) {\r\n      setPart(selectedPart, material);\r\n    }\r\n  };\r\n\r\n  const optionalOnClick = (show: boolean) => {\r\n    setShowOptional(show);\r\n    if (!show) {\r\n      removePart(part);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (part.optional && !showOptional && currentPart) {\r\n      setShowOptional(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        key={part.id}\r\n        className={rootClassName}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        {part.optional && (\r\n          <PillButton\r\n            className={styles.showOptional}\r\n            selected={showOptional}\r\n            onClick={() => optionalOnClick(!showOptional)}\r\n          >\r\n            {showOptional ? 'Remove' : 'Add'} {part.name}\r\n          </PillButton>\r\n        )}\r\n        {(!part.optional || (part.optional && showOptional)) && (\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <MaterialGroup\r\n              materialGroup={part.materialGroup.data}\r\n              materialType={currentPart?.material.attributes?.type?.data}\r\n              colourGroup={currentPart?.material.attributes?.colourGroups?.data[0]}\r\n              onMaterialSelected={onMaterialSelected}\r\n            />\r\n          </Suspense>\r\n        )}\r\n      </motion.div>\r\n      <NavButtons />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavPart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}